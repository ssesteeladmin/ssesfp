function ou(e,t){for(var r=0;r<t.length;r++){const l=t[r];if(typeof l!="string"&&!Array.isArray(l)){for(const i in l)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(l,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>l[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function au(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fa={exports:{}},Pl={},Ia={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var br=Symbol.for("react.element"),du=Symbol.for("react.portal"),cu=Symbol.for("react.fragment"),uu=Symbol.for("react.strict_mode"),pu=Symbol.for("react.profiler"),hu=Symbol.for("react.provider"),fu=Symbol.for("react.context"),xu=Symbol.for("react.forward_ref"),yu=Symbol.for("react.suspense"),mu=Symbol.for("react.memo"),gu=Symbol.for("react.lazy"),mo=Symbol.iterator;function vu(e){return e===null||typeof e!="object"?null:(e=mo&&e[mo]||e["@@iterator"],typeof e=="function"?e:null)}var Da={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oa=Object.assign,Wa={};function Tn(e,t,r){this.props=e,this.context=t,this.refs=Wa,this.updater=r||Da}Tn.prototype.isReactComponent={};Tn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ma(){}Ma.prototype=Tn.prototype;function ms(e,t,r){this.props=e,this.context=t,this.refs=Wa,this.updater=r||Da}var gs=ms.prototype=new Ma;gs.constructor=ms;Oa(gs,Tn.prototype);gs.isPureReactComponent=!0;var go=Array.isArray,Ua=Object.prototype.hasOwnProperty,vs={current:null},$a={key:!0,ref:!0,__self:!0,__source:!0};function Va(e,t,r){var l,i={},o=null,a=null;if(t!=null)for(l in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Ua.call(t,l)&&!$a.hasOwnProperty(l)&&(i[l]=t[l]);var d=arguments.length-2;if(d===1)i.children=r;else if(1<d){for(var u=Array(d),c=0;c<d;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(l in d=e.defaultProps,d)i[l]===void 0&&(i[l]=d[l]);return{$$typeof:br,type:e,key:o,ref:a,props:i,_owner:vs.current}}function ju(e,t){return{$$typeof:br,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function js(e){return typeof e=="object"&&e!==null&&e.$$typeof===br}function Su(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var vo=/\/+/g;function Yl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Su(""+e.key):t.toString(36)}function Vr(e,t,r,l,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case br:case du:a=!0}}if(a)return a=e,i=i(a),e=l===""?"."+Yl(a,0):l,go(i)?(r="",e!=null&&(r=e.replace(vo,"$&/")+"/"),Vr(i,t,r,"",function(c){return c})):i!=null&&(js(i)&&(i=ju(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(vo,"$&/")+"/")+e)),t.push(i)),1;if(a=0,l=l===""?".":l+":",go(e))for(var d=0;d<e.length;d++){o=e[d];var u=l+Yl(o,d);a+=Vr(o,t,r,u,i)}else if(u=vu(e),typeof u=="function")for(e=u.call(e),d=0;!(o=e.next()).done;)o=o.value,u=l+Yl(o,d++),a+=Vr(o,t,r,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function zr(e,t,r){if(e==null)return e;var l=[],i=0;return Vr(e,l,"","",function(o){return t.call(r,o,i++)}),l}function bu(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},Gr={transition:null},wu={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Gr,ReactCurrentOwner:vs};function Ga(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:zr,forEach:function(e,t,r){zr(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zr(e,function(){t++}),t},toArray:function(e){return zr(e,function(t){return t})||[]},only:function(e){if(!js(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Tn;J.Fragment=cu;J.Profiler=pu;J.PureComponent=ms;J.StrictMode=uu;J.Suspense=yu;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wu;J.act=Ga;J.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=Oa({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=vs.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(u in t)Ua.call(t,u)&&!$a.hasOwnProperty(u)&&(l[u]=t[u]===void 0&&d!==void 0?d[u]:t[u])}var u=arguments.length-2;if(u===1)l.children=r;else if(1<u){d=Array(u);for(var c=0;c<u;c++)d[c]=arguments[c+2];l.children=d}return{$$typeof:br,type:e.type,key:i,ref:o,props:l,_owner:a}};J.createContext=function(e){return e={$$typeof:fu,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hu,_context:e},e.Consumer=e};J.createElement=Va;J.createFactory=function(e){var t=Va.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:xu,render:e}};J.isValidElement=js;J.lazy=function(e){return{$$typeof:gu,_payload:{_status:-1,_result:e},_init:bu}};J.memo=function(e,t){return{$$typeof:mu,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Gr.transition;Gr.transition={};try{e()}finally{Gr.transition=t}};J.unstable_act=Ga;J.useCallback=function(e,t){return Te.current.useCallback(e,t)};J.useContext=function(e){return Te.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};J.useEffect=function(e,t){return Te.current.useEffect(e,t)};J.useId=function(){return Te.current.useId()};J.useImperativeHandle=function(e,t,r){return Te.current.useImperativeHandle(e,t,r)};J.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Te.current.useMemo(e,t)};J.useReducer=function(e,t,r){return Te.current.useReducer(e,t,r)};J.useRef=function(e){return Te.current.useRef(e)};J.useState=function(e){return Te.current.useState(e)};J.useSyncExternalStore=function(e,t,r){return Te.current.useSyncExternalStore(e,t,r)};J.useTransition=function(){return Te.current.useTransition()};J.version="18.3.1";Ia.exports=J;var v=Ia.exports;const Qa=au(v),_u=ou({__proto__:null,default:Qa},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ku=v,Cu=Symbol.for("react.element"),zu=Symbol.for("react.fragment"),Pu=Object.prototype.hasOwnProperty,Tu=ku.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Eu={key:!0,ref:!0,__self:!0,__source:!0};function Ha(e,t,r){var l,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(l in t)Pu.call(t,l)&&!Eu.hasOwnProperty(l)&&(i[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)i[l]===void 0&&(i[l]=t[l]);return{$$typeof:Cu,type:e,key:o,ref:a,props:i,_owner:Tu.current}}Pl.Fragment=zu;Pl.jsx=Ha;Pl.jsxs=Ha;Fa.exports=Pl;var n=Fa.exports,bi={},qa={exports:{}},Me={},Ya={exports:{}},Xa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,b){var O=B.length;B.push(b);e:for(;0<O;){var q=O-1>>>1,H=B[q];if(0<i(H,b))B[q]=b,B[O]=H,O=q;else break e}}function r(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var b=B[0],O=B.pop();if(O!==b){B[0]=O;e:for(var q=0,H=B.length,ee=H>>>1;q<ee;){var h=2*(q+1)-1,M=B[h],k=h+1,_=B[k];if(0>i(M,O))k<H&&0>i(_,M)?(B[q]=_,B[k]=O,q=k):(B[q]=M,B[h]=O,q=h);else if(k<H&&0>i(_,O))B[q]=_,B[k]=O,q=k;else break e}}return b}function i(B,b){var O=B.sortIndex-b.sortIndex;return O!==0?O:B.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,d=a.now();e.unstable_now=function(){return a.now()-d}}var u=[],c=[],g=1,S=null,j=3,P=!1,C=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(B){for(var b=r(c);b!==null;){if(b.callback===null)l(c);else if(b.startTime<=B)l(c),b.sortIndex=b.expirationTime,t(u,b);else break;b=r(c)}}function z(B){if(y=!1,m(B),!C)if(r(u)!==null)C=!0,X(N);else{var b=r(c);b!==null&&L(z,b.startTime-B)}}function N(B,b){C=!1,y&&(y=!1,x(U),U=-1),P=!0;var O=j;try{for(m(b),S=r(u);S!==null&&(!(S.expirationTime>b)||B&&!R());){var q=S.callback;if(typeof q=="function"){S.callback=null,j=S.priorityLevel;var H=q(S.expirationTime<=b);b=e.unstable_now(),typeof H=="function"?S.callback=H:S===r(u)&&l(u),m(b)}else l(u);S=r(u)}if(S!==null)var ee=!0;else{var h=r(c);h!==null&&L(z,h.startTime-b),ee=!1}return ee}finally{S=null,j=O,P=!1}}var I=!1,F=null,U=-1,T=5,f=-1;function R(){return!(e.unstable_now()-f<T)}function D(){if(F!==null){var B=e.unstable_now();f=B;var b=!0;try{b=F(!0,B)}finally{b?w():(I=!1,F=null)}}else I=!1}var w;if(typeof p=="function")w=function(){p(D)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,$=A.port2;A.port1.onmessage=D,w=function(){$.postMessage(null)}}else w=function(){E(D,0)};function X(B){F=B,I||(I=!0,w())}function L(B,b){U=E(function(){B(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){C||P||(C=!0,X(N))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(B){switch(j){case 1:case 2:case 3:var b=3;break;default:b=j}var O=j;j=b;try{return B()}finally{j=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,b){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var O=j;j=B;try{return b()}finally{j=O}},e.unstable_scheduleCallback=function(B,b,O){var q=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?q+O:q):O=q,B){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=O+H,B={id:g++,callback:b,priorityLevel:B,startTime:O,expirationTime:H,sortIndex:-1},O>q?(B.sortIndex=O,t(c,B),r(u)===null&&B===r(c)&&(y?(x(U),U=-1):y=!0,L(z,O-q))):(B.sortIndex=H,t(u,B),C||P||(C=!0,X(N))),B},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(B){var b=j;return function(){var O=j;j=b;try{return B.apply(this,arguments)}finally{j=O}}}})(Xa);Ya.exports=Xa;var Ru=Ya.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu=v,We=Ru;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ka=new Set,rr={};function Jt(e,t){bn(e,t),bn(e+"Capture",t)}function bn(e,t){for(rr[e]=t,e=0;e<t.length;e++)Ka.add(t[e])}var pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wi=Object.prototype.hasOwnProperty,Bu=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jo={},So={};function Nu(e){return wi.call(So,e)?!0:wi.call(jo,e)?!1:Bu.test(e)?So[e]=!0:(jo[e]=!0,!1)}function Au(e,t,r,l){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fu(e,t,r,l){if(t===null||typeof t>"u"||Au(e,t,r,l))return!0;if(l)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ee(e,t,r,l,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new Ee(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new Ee(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new Ee(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new Ee(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new Ee(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new Ee(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new Ee(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new Ee(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new Ee(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ss=/[\-:]([a-z])/g;function bs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ss,bs);Se[t]=new Ee(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ss,bs);Se[t]=new Ee(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ss,bs);Se[t]=new Ee(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new Ee(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new Ee(e,1,!1,e.toLowerCase(),null,!0,!0)});function ws(e,t,r,l){var i=Se.hasOwnProperty(t)?Se[t]:null;(i!==null?i.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fu(t,r,i,l)&&(r=null),l||i===null?Nu(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,l=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,l?e.setAttributeNS(l,t,r):e.setAttribute(t,r))))}var yt=Lu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pr=Symbol.for("react.element"),rn=Symbol.for("react.portal"),ln=Symbol.for("react.fragment"),_s=Symbol.for("react.strict_mode"),_i=Symbol.for("react.profiler"),Ja=Symbol.for("react.provider"),Za=Symbol.for("react.context"),ks=Symbol.for("react.forward_ref"),ki=Symbol.for("react.suspense"),Ci=Symbol.for("react.suspense_list"),Cs=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),ed=Symbol.for("react.offscreen"),bo=Symbol.iterator;function An(e){return e===null||typeof e!="object"?null:(e=bo&&e[bo]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,Xl;function $n(e){if(Xl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xl=t&&t[1]||""}return`
`+Xl+e}var Kl=!1;function Jl(e,t){if(!e||Kl)return"";Kl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var l=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){l=c}e.call(t.prototype)}else{try{throw Error()}catch(c){l=c}e()}}catch(c){if(c&&l&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=l.stack.split(`
`),a=i.length-1,d=o.length-1;1<=a&&0<=d&&i[a]!==o[d];)d--;for(;1<=a&&0<=d;a--,d--)if(i[a]!==o[d]){if(a!==1||d!==1)do if(a--,d--,0>d||i[a]!==o[d]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=d);break}}}finally{Kl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$n(e):""}function Iu(e){switch(e.tag){case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return $n("Suspense");case 19:return $n("SuspenseList");case 0:case 2:case 15:return e=Jl(e.type,!1),e;case 11:return e=Jl(e.type.render,!1),e;case 1:return e=Jl(e.type,!0),e;default:return""}}function zi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ln:return"Fragment";case rn:return"Portal";case _i:return"Profiler";case _s:return"StrictMode";case ki:return"Suspense";case Ci:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Za:return(e.displayName||"Context")+".Consumer";case Ja:return(e._context.displayName||"Context")+".Provider";case ks:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cs:return t=e.displayName||null,t!==null?t:zi(e.type)||"Memo";case vt:t=e._payload,e=e._init;try{return zi(e(t))}catch{}}return null}function Du(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zi(t);case 8:return t===_s?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function td(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ou(e){var t=td(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){l=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(a){l=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tr(e){e._valueTracker||(e._valueTracker=Ou(e))}function nd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=td(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pi(e,t){var r=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function wo(e,t){var r=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;r=Nt(t.value!=null?t.value:r),e._wrapperState={initialChecked:l,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rd(e,t){t=t.checked,t!=null&&ws(e,"checked",t,!1)}function Ti(e,t){rd(e,t);var r=Nt(t.value),l=t.type;if(r!=null)l==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ei(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ei(e,t.type,Nt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _o(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ei(e,t,r){(t!=="number"||ll(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vn=Array.isArray;function yn(e,t,r,l){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Nt(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,l&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ri(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ko(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(Vn(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nt(r)}}function ld(e,t){var r=Nt(t.value),l=Nt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),l!=null&&(e.defaultValue=""+l)}function Co(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function id(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Li(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?id(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Er,sd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,l,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,l,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Er=Er||document.createElement("div"),Er.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Er.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wu=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(e){Wu.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hn[t]=Hn[e]})});function od(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Hn.hasOwnProperty(e)&&Hn[e]?(""+t).trim():t+"px"}function ad(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var l=r.indexOf("--")===0,i=od(r,t[r],l);r==="float"&&(r="cssFloat"),l?e.setProperty(r,i):e[r]=i}}var Mu=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bi(e,t){if(t){if(Mu[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Ni(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ai=null;function zs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,mn=null,gn=null;function zo(e){if(e=kr(e)){if(typeof Fi!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Bl(t),Fi(e.stateNode,e.type,t))}}function dd(e){mn?gn?gn.push(e):gn=[e]:mn=e}function cd(){if(mn){var e=mn,t=gn;if(gn=mn=null,zo(e),t)for(e=0;e<t.length;e++)zo(t[e])}}function ud(e,t){return e(t)}function pd(){}var Zl=!1;function hd(e,t,r){if(Zl)return e(t,r);Zl=!0;try{return ud(e,t,r)}finally{Zl=!1,(mn!==null||gn!==null)&&(pd(),cd())}}function ir(e,t){var r=e.stateNode;if(r===null)return null;var l=Bl(r);if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var Ii=!1;if(pt)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Ii=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Ii=!1}function Uu(e,t,r,l,i,o,a,d,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(g){this.onError(g)}}var qn=!1,il=null,sl=!1,Di=null,$u={onError:function(e){qn=!0,il=e}};function Vu(e,t,r,l,i,o,a,d,u){qn=!1,il=null,Uu.apply($u,arguments)}function Gu(e,t,r,l,i,o,a,d,u){if(Vu.apply(this,arguments),qn){if(qn){var c=il;qn=!1,il=null}else throw Error(W(198));sl||(sl=!0,Di=c)}}function Zt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Po(e){if(Zt(e)!==e)throw Error(W(188))}function Qu(e){var t=e.alternate;if(!t){if(t=Zt(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,l=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(l=i.return,l!==null){r=l;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Po(i),e;if(o===l)return Po(i),t;o=o.sibling}throw Error(W(188))}if(r.return!==l.return)r=i,l=o;else{for(var a=!1,d=i.child;d;){if(d===r){a=!0,r=i,l=o;break}if(d===l){a=!0,l=i,r=o;break}d=d.sibling}if(!a){for(d=o.child;d;){if(d===r){a=!0,r=o,l=i;break}if(d===l){a=!0,l=o,r=i;break}d=d.sibling}if(!a)throw Error(W(189))}}if(r.alternate!==l)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function xd(e){return e=Qu(e),e!==null?yd(e):null}function yd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yd(e);if(t!==null)return t;e=e.sibling}return null}var md=We.unstable_scheduleCallback,To=We.unstable_cancelCallback,Hu=We.unstable_shouldYield,qu=We.unstable_requestPaint,ue=We.unstable_now,Yu=We.unstable_getCurrentPriorityLevel,Ps=We.unstable_ImmediatePriority,gd=We.unstable_UserBlockingPriority,ol=We.unstable_NormalPriority,Xu=We.unstable_LowPriority,vd=We.unstable_IdlePriority,Tl=null,it=null;function Ku(e){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Tl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:ep,Ju=Math.log,Zu=Math.LN2;function ep(e){return e>>>=0,e===0?32:31-(Ju(e)/Zu|0)|0}var Rr=64,Lr=4194304;function Gn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function al(e,t){var r=e.pendingLanes;if(r===0)return 0;var l=0,i=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var d=a&~i;d!==0?l=Gn(d):(o&=a,o!==0&&(l=Gn(o)))}else a=r&~i,a!==0?l=Gn(a):o!==0&&(l=Gn(o));if(l===0)return 0;if(t!==0&&t!==l&&!(t&i)&&(i=l&-l,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(l&4&&(l|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)r=31-Ze(t),i=1<<r,l|=e[r],t&=~i;return l}function tp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function np(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Ze(o),d=1<<a,u=i[a];u===-1?(!(d&r)||d&l)&&(i[a]=tp(d,t)):u<=t&&(e.expiredLanes|=d),o&=~d}}function Oi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jd(){var e=Rr;return Rr<<=1,!(Rr&4194240)&&(Rr=64),e}function ei(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ze(t),e[t]=r}function rp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ze(r),o=1<<i;t[i]=0,l[i]=-1,e[i]=-1,r&=~o}}function Ts(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-Ze(r),i=1<<l;i&t|e[l]&t&&(e[l]|=t),r&=~i}}var te=0;function Sd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bd,Es,wd,_d,kd,Wi=!1,Br=[],Ct=null,zt=null,Pt=null,sr=new Map,or=new Map,St=[],lp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eo(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":or.delete(t.pointerId)}}function In(e,t,r,l,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:o,targetContainers:[i]},t!==null&&(t=kr(t),t!==null&&Es(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ip(e,t,r,l,i){switch(t){case"focusin":return Ct=In(Ct,e,t,r,l,i),!0;case"dragenter":return zt=In(zt,e,t,r,l,i),!0;case"mouseover":return Pt=In(Pt,e,t,r,l,i),!0;case"pointerover":var o=i.pointerId;return sr.set(o,In(sr.get(o)||null,e,t,r,l,i)),!0;case"gotpointercapture":return o=i.pointerId,or.set(o,In(or.get(o)||null,e,t,r,l,i)),!0}return!1}function Cd(e){var t=Mt(e.target);if(t!==null){var r=Zt(t);if(r!==null){if(t=r.tag,t===13){if(t=fd(r),t!==null){e.blockedOn=t,kd(e.priority,function(){wd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Mi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Ai=l,r.target.dispatchEvent(l),Ai=null}else return t=kr(r),t!==null&&Es(t),e.blockedOn=r,!1;t.shift()}return!0}function Ro(e,t,r){Qr(e)&&r.delete(t)}function sp(){Wi=!1,Ct!==null&&Qr(Ct)&&(Ct=null),zt!==null&&Qr(zt)&&(zt=null),Pt!==null&&Qr(Pt)&&(Pt=null),sr.forEach(Ro),or.forEach(Ro)}function Dn(e,t){e.blockedOn===t&&(e.blockedOn=null,Wi||(Wi=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,sp)))}function ar(e){function t(i){return Dn(i,e)}if(0<Br.length){Dn(Br[0],e);for(var r=1;r<Br.length;r++){var l=Br[r];l.blockedOn===e&&(l.blockedOn=null)}}for(Ct!==null&&Dn(Ct,e),zt!==null&&Dn(zt,e),Pt!==null&&Dn(Pt,e),sr.forEach(t),or.forEach(t),r=0;r<St.length;r++)l=St[r],l.blockedOn===e&&(l.blockedOn=null);for(;0<St.length&&(r=St[0],r.blockedOn===null);)Cd(r),r.blockedOn===null&&St.shift()}var vn=yt.ReactCurrentBatchConfig,dl=!0;function op(e,t,r,l){var i=te,o=vn.transition;vn.transition=null;try{te=1,Rs(e,t,r,l)}finally{te=i,vn.transition=o}}function ap(e,t,r,l){var i=te,o=vn.transition;vn.transition=null;try{te=4,Rs(e,t,r,l)}finally{te=i,vn.transition=o}}function Rs(e,t,r,l){if(dl){var i=Mi(e,t,r,l);if(i===null)ci(e,t,l,cl,r),Eo(e,l);else if(ip(i,e,t,r,l))l.stopPropagation();else if(Eo(e,l),t&4&&-1<lp.indexOf(e)){for(;i!==null;){var o=kr(i);if(o!==null&&bd(o),o=Mi(e,t,r,l),o===null&&ci(e,t,l,cl,r),o===i)break;i=o}i!==null&&l.stopPropagation()}else ci(e,t,l,null,r)}}var cl=null;function Mi(e,t,r,l){if(cl=null,e=zs(l),e=Mt(e),e!==null)if(t=Zt(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cl=e,null}function zd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yu()){case Ps:return 1;case gd:return 4;case ol:case Xu:return 16;case vd:return 536870912;default:return 16}default:return 16}}var wt=null,Ls=null,Hr=null;function Pd(){if(Hr)return Hr;var e,t=Ls,r=t.length,l,i="value"in wt?wt.value:wt.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(l=1;l<=a&&t[r-l]===i[o-l];l++);return Hr=i.slice(e,1<l?1-l:void 0)}function qr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nr(){return!0}function Lo(){return!1}function Ue(e){function t(r,l,i,o,a){this._reactName=r,this._targetInst=i,this.type=l,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(r=e[d],this[d]=r?r(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Nr:Lo,this.isPropagationStopped=Lo,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),t}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=Ue(En),_r=ae({},En,{view:0,detail:0}),dp=Ue(_r),ti,ni,On,El=ae({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==On&&(On&&e.type==="mousemove"?(ti=e.screenX-On.screenX,ni=e.screenY-On.screenY):ni=ti=0,On=e),ti)},movementY:function(e){return"movementY"in e?e.movementY:ni}}),Bo=Ue(El),cp=ae({},El,{dataTransfer:0}),up=Ue(cp),pp=ae({},_r,{relatedTarget:0}),ri=Ue(pp),hp=ae({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),fp=Ue(hp),xp=ae({},En,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yp=Ue(xp),mp=ae({},En,{data:0}),No=Ue(mp),gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jp[e])?!!t[e]:!1}function Ns(){return Sp}var bp=ae({},_r,{key:function(e){if(e.key){var t=gp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(e){return e.type==="keypress"?qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wp=Ue(bp),_p=ae({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Ue(_p),kp=ae({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),Cp=Ue(kp),zp=ae({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pp=Ue(zp),Tp=ae({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ep=Ue(Tp),Rp=[9,13,27,32],As=pt&&"CompositionEvent"in window,Yn=null;pt&&"documentMode"in document&&(Yn=document.documentMode);var Lp=pt&&"TextEvent"in window&&!Yn,Td=pt&&(!As||Yn&&8<Yn&&11>=Yn),Fo=" ",Io=!1;function Ed(e,t){switch(e){case"keyup":return Rp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sn=!1;function Bp(e,t){switch(e){case"compositionend":return Rd(t);case"keypress":return t.which!==32?null:(Io=!0,Fo);case"textInput":return e=t.data,e===Fo&&Io?null:e;default:return null}}function Np(e,t){if(sn)return e==="compositionend"||!As&&Ed(e,t)?(e=Pd(),Hr=Ls=wt=null,sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Td&&t.locale!=="ko"?null:t.data;default:return null}}var Ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Do(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ap[e.type]:t==="textarea"}function Ld(e,t,r,l){dd(l),t=ul(t,"onChange"),0<t.length&&(r=new Bs("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var Xn=null,dr=null;function Fp(e){$d(e,0)}function Rl(e){var t=dn(e);if(nd(t))return e}function Ip(e,t){if(e==="change")return t}var Bd=!1;if(pt){var li;if(pt){var ii="oninput"in document;if(!ii){var Oo=document.createElement("div");Oo.setAttribute("oninput","return;"),ii=typeof Oo.oninput=="function"}li=ii}else li=!1;Bd=li&&(!document.documentMode||9<document.documentMode)}function Wo(){Xn&&(Xn.detachEvent("onpropertychange",Nd),dr=Xn=null)}function Nd(e){if(e.propertyName==="value"&&Rl(dr)){var t=[];Ld(t,dr,e,zs(e)),hd(Fp,t)}}function Dp(e,t,r){e==="focusin"?(Wo(),Xn=t,dr=r,Xn.attachEvent("onpropertychange",Nd)):e==="focusout"&&Wo()}function Op(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rl(dr)}function Wp(e,t){if(e==="click")return Rl(t)}function Mp(e,t){if(e==="input"||e==="change")return Rl(t)}function Up(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:Up;function cr(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var i=r[l];if(!wi.call(t,i)||!tt(e[i],t[i]))return!1}return!0}function Mo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uo(e,t){var r=Mo(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mo(r)}}function Ad(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ad(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fd(){for(var e=window,t=ll();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ll(e.document)}return t}function Fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $p(e){var t=Fd(),r=e.focusedElem,l=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ad(r.ownerDocument.documentElement,r)){if(l!==null&&Fs(r)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(l.start,i);l=l.end===void 0?o:Math.min(l.end,i),!e.extend&&o>l&&(i=l,l=o,o=i),i=Uo(r,o);var a=Uo(r,l);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>l?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vp=pt&&"documentMode"in document&&11>=document.documentMode,on=null,Ui=null,Kn=null,$i=!1;function $o(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$i||on==null||on!==ll(l)||(l=on,"selectionStart"in l&&Fs(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Kn&&cr(Kn,l)||(Kn=l,l=ul(Ui,"onSelect"),0<l.length&&(t=new Bs("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=on)))}function Ar(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var an={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},si={},Id={};pt&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function Ll(e){if(si[e])return si[e];if(!an[e])return e;var t=an[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Id)return si[e]=t[r];return e}var Dd=Ll("animationend"),Od=Ll("animationiteration"),Wd=Ll("animationstart"),Md=Ll("transitionend"),Ud=new Map,Vo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(e,t){Ud.set(e,t),Jt(t,[e])}for(var oi=0;oi<Vo.length;oi++){var ai=Vo[oi],Gp=ai.toLowerCase(),Qp=ai[0].toUpperCase()+ai.slice(1);Ft(Gp,"on"+Qp)}Ft(Dd,"onAnimationEnd");Ft(Od,"onAnimationIteration");Ft(Wd,"onAnimationStart");Ft("dblclick","onDoubleClick");Ft("focusin","onFocus");Ft("focusout","onBlur");Ft(Md,"onTransitionEnd");bn("onMouseEnter",["mouseout","mouseover"]);bn("onMouseLeave",["mouseout","mouseover"]);bn("onPointerEnter",["pointerout","pointerover"]);bn("onPointerLeave",["pointerout","pointerover"]);Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qn));function Go(e,t,r){var l=e.type||"unknown-event";e.currentTarget=r,Gu(l,t,void 0,e),e.currentTarget=null}function $d(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],i=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var a=l.length-1;0<=a;a--){var d=l[a],u=d.instance,c=d.currentTarget;if(d=d.listener,u!==o&&i.isPropagationStopped())break e;Go(i,d,c),o=u}else for(a=0;a<l.length;a++){if(d=l[a],u=d.instance,c=d.currentTarget,d=d.listener,u!==o&&i.isPropagationStopped())break e;Go(i,d,c),o=u}}}if(sl)throw e=Di,sl=!1,Di=null,e}function re(e,t){var r=t[qi];r===void 0&&(r=t[qi]=new Set);var l=e+"__bubble";r.has(l)||(Vd(t,e,2,!1),r.add(l))}function di(e,t,r){var l=0;t&&(l|=4),Vd(r,e,l,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function ur(e){if(!e[Fr]){e[Fr]=!0,Ka.forEach(function(r){r!=="selectionchange"&&(Hp.has(r)||di(r,!1,e),di(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fr]||(t[Fr]=!0,di("selectionchange",!1,t))}}function Vd(e,t,r,l){switch(zd(t)){case 1:var i=op;break;case 4:i=ap;break;default:i=Rs}r=i.bind(null,t,r,e),i=void 0,!Ii||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),l?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ci(e,t,r,l,i){var o=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var a=l.tag;if(a===3||a===4){var d=l.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(a===4)for(a=l.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;d!==null;){if(a=Mt(d),a===null)return;if(u=a.tag,u===5||u===6){l=o=a;continue e}d=d.parentNode}}l=l.return}hd(function(){var c=o,g=zs(r),S=[];e:{var j=Ud.get(e);if(j!==void 0){var P=Bs,C=e;switch(e){case"keypress":if(qr(r)===0)break e;case"keydown":case"keyup":P=wp;break;case"focusin":C="focus",P=ri;break;case"focusout":C="blur",P=ri;break;case"beforeblur":case"afterblur":P=ri;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Cp;break;case Dd:case Od:case Wd:P=fp;break;case Md:P=Pp;break;case"scroll":P=dp;break;case"wheel":P=Ep;break;case"copy":case"cut":case"paste":P=yp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Ao}var y=(t&4)!==0,E=!y&&e==="scroll",x=y?j!==null?j+"Capture":null:j;y=[];for(var p=c,m;p!==null;){m=p;var z=m.stateNode;if(m.tag===5&&z!==null&&(m=z,x!==null&&(z=ir(p,x),z!=null&&y.push(pr(p,z,m)))),E)break;p=p.return}0<y.length&&(j=new P(j,C,null,r,g),S.push({event:j,listeners:y}))}}if(!(t&7)){e:{if(j=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",j&&r!==Ai&&(C=r.relatedTarget||r.fromElement)&&(Mt(C)||C[ht]))break e;if((P||j)&&(j=g.window===g?g:(j=g.ownerDocument)?j.defaultView||j.parentWindow:window,P?(C=r.relatedTarget||r.toElement,P=c,C=C?Mt(C):null,C!==null&&(E=Zt(C),C!==E||C.tag!==5&&C.tag!==6)&&(C=null)):(P=null,C=c),P!==C)){if(y=Bo,z="onMouseLeave",x="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ao,z="onPointerLeave",x="onPointerEnter",p="pointer"),E=P==null?j:dn(P),m=C==null?j:dn(C),j=new y(z,p+"leave",P,r,g),j.target=E,j.relatedTarget=m,z=null,Mt(g)===c&&(y=new y(x,p+"enter",C,r,g),y.target=m,y.relatedTarget=E,z=y),E=z,P&&C)t:{for(y=P,x=C,p=0,m=y;m;m=nn(m))p++;for(m=0,z=x;z;z=nn(z))m++;for(;0<p-m;)y=nn(y),p--;for(;0<m-p;)x=nn(x),m--;for(;p--;){if(y===x||x!==null&&y===x.alternate)break t;y=nn(y),x=nn(x)}y=null}else y=null;P!==null&&Qo(S,j,P,y,!1),C!==null&&E!==null&&Qo(S,E,C,y,!0)}}e:{if(j=c?dn(c):window,P=j.nodeName&&j.nodeName.toLowerCase(),P==="select"||P==="input"&&j.type==="file")var N=Ip;else if(Do(j))if(Bd)N=Mp;else{N=Op;var I=Dp}else(P=j.nodeName)&&P.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(N=Wp);if(N&&(N=N(e,c))){Ld(S,N,r,g);break e}I&&I(e,j,c),e==="focusout"&&(I=j._wrapperState)&&I.controlled&&j.type==="number"&&Ei(j,"number",j.value)}switch(I=c?dn(c):window,e){case"focusin":(Do(I)||I.contentEditable==="true")&&(on=I,Ui=c,Kn=null);break;case"focusout":Kn=Ui=on=null;break;case"mousedown":$i=!0;break;case"contextmenu":case"mouseup":case"dragend":$i=!1,$o(S,r,g);break;case"selectionchange":if(Vp)break;case"keydown":case"keyup":$o(S,r,g)}var F;if(As)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else sn?Ed(e,r)&&(U="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(Td&&r.locale!=="ko"&&(sn||U!=="onCompositionStart"?U==="onCompositionEnd"&&sn&&(F=Pd()):(wt=g,Ls="value"in wt?wt.value:wt.textContent,sn=!0)),I=ul(c,U),0<I.length&&(U=new No(U,e,null,r,g),S.push({event:U,listeners:I}),F?U.data=F:(F=Rd(r),F!==null&&(U.data=F)))),(F=Lp?Bp(e,r):Np(e,r))&&(c=ul(c,"onBeforeInput"),0<c.length&&(g=new No("onBeforeInput","beforeinput",null,r,g),S.push({event:g,listeners:c}),g.data=F))}$d(S,t)})}function pr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ul(e,t){for(var r=t+"Capture",l=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ir(e,r),o!=null&&l.unshift(pr(e,o,i)),o=ir(e,t),o!=null&&l.push(pr(e,o,i))),e=e.return}return l}function nn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qo(e,t,r,l,i){for(var o=t._reactName,a=[];r!==null&&r!==l;){var d=r,u=d.alternate,c=d.stateNode;if(u!==null&&u===l)break;d.tag===5&&c!==null&&(d=c,i?(u=ir(r,o),u!=null&&a.unshift(pr(r,u,d))):i||(u=ir(r,o),u!=null&&a.push(pr(r,u,d)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var qp=/\r\n?/g,Yp=/\u0000|\uFFFD/g;function Ho(e){return(typeof e=="string"?e:""+e).replace(qp,`
`).replace(Yp,"")}function Ir(e,t,r){if(t=Ho(t),Ho(e)!==t&&r)throw Error(W(425))}function pl(){}var Vi=null,Gi=null;function Qi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hi=typeof setTimeout=="function"?setTimeout:void 0,Xp=typeof clearTimeout=="function"?clearTimeout:void 0,qo=typeof Promise=="function"?Promise:void 0,Kp=typeof queueMicrotask=="function"?queueMicrotask:typeof qo<"u"?function(e){return qo.resolve(null).then(e).catch(Jp)}:Hi;function Jp(e){setTimeout(function(){throw e})}function ui(e,t){var r=t,l=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(l===0){e.removeChild(i),ar(t);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=i}while(r);ar(t)}function Tt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Rn=Math.random().toString(36).slice(2),lt="__reactFiber$"+Rn,hr="__reactProps$"+Rn,ht="__reactContainer$"+Rn,qi="__reactEvents$"+Rn,Zp="__reactListeners$"+Rn,eh="__reactHandles$"+Rn;function Mt(e){var t=e[lt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ht]||r[lt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Yo(e);e!==null;){if(r=e[lt])return r;e=Yo(e)}return t}e=r,r=e.parentNode}return null}function kr(e){return e=e[lt]||e[ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Bl(e){return e[hr]||null}var Yi=[],cn=-1;function It(e){return{current:e}}function le(e){0>cn||(e.current=Yi[cn],Yi[cn]=null,cn--)}function ne(e,t){cn++,Yi[cn]=e.current,e.current=t}var At={},ke=It(At),Ne=It(!1),Ht=At;function wn(e,t){var r=e.type.contextTypes;if(!r)return At;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ae(e){return e=e.childContextTypes,e!=null}function hl(){le(Ne),le(ke)}function Xo(e,t,r){if(ke.current!==At)throw Error(W(168));ne(ke,t),ne(Ne,r)}function Gd(e,t,r){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return r;l=l.getChildContext();for(var i in l)if(!(i in t))throw Error(W(108,Du(e)||"Unknown",i));return ae({},r,l)}function fl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||At,Ht=ke.current,ne(ke,e),ne(Ne,Ne.current),!0}function Ko(e,t,r){var l=e.stateNode;if(!l)throw Error(W(169));r?(e=Gd(e,t,Ht),l.__reactInternalMemoizedMergedChildContext=e,le(Ne),le(ke),ne(ke,e)):le(Ne),ne(Ne,r)}var at=null,Nl=!1,pi=!1;function Qd(e){at===null?at=[e]:at.push(e)}function th(e){Nl=!0,Qd(e)}function Dt(){if(!pi&&at!==null){pi=!0;var e=0,t=te;try{var r=at;for(te=1;e<r.length;e++){var l=r[e];do l=l(!0);while(l!==null)}at=null,Nl=!1}catch(i){throw at!==null&&(at=at.slice(e+1)),md(Ps,Dt),i}finally{te=t,pi=!1}}return null}var un=[],pn=0,xl=null,yl=0,$e=[],Ve=0,qt=null,dt=1,ct="";function Ot(e,t){un[pn++]=yl,un[pn++]=xl,xl=e,yl=t}function Hd(e,t,r){$e[Ve++]=dt,$e[Ve++]=ct,$e[Ve++]=qt,qt=e;var l=dt;e=ct;var i=32-Ze(l)-1;l&=~(1<<i),r+=1;var o=32-Ze(t)+i;if(30<o){var a=i-i%5;o=(l&(1<<a)-1).toString(32),l>>=a,i-=a,dt=1<<32-Ze(t)+i|r<<i|l,ct=o+e}else dt=1<<o|r<<i|l,ct=e}function Is(e){e.return!==null&&(Ot(e,1),Hd(e,1,0))}function Ds(e){for(;e===xl;)xl=un[--pn],un[pn]=null,yl=un[--pn],un[pn]=null;for(;e===qt;)qt=$e[--Ve],$e[Ve]=null,ct=$e[--Ve],$e[Ve]=null,dt=$e[--Ve],$e[Ve]=null}var Oe=null,De=null,ie=!1,Je=null;function qd(e,t){var r=Ge(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Jo(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oe=e,De=Tt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oe=e,De=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qt!==null?{id:dt,overflow:ct}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ge(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Oe=e,De=null,!0):!1;default:return!1}}function Xi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ki(e){if(ie){var t=De;if(t){var r=t;if(!Jo(e,t)){if(Xi(e))throw Error(W(418));t=Tt(r.nextSibling);var l=Oe;t&&Jo(e,t)?qd(l,r):(e.flags=e.flags&-4097|2,ie=!1,Oe=e)}}else{if(Xi(e))throw Error(W(418));e.flags=e.flags&-4097|2,ie=!1,Oe=e}}}function Zo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oe=e}function Dr(e){if(e!==Oe)return!1;if(!ie)return Zo(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qi(e.type,e.memoizedProps)),t&&(t=De)){if(Xi(e))throw Yd(),Error(W(418));for(;t;)qd(e,t),t=Tt(t.nextSibling)}if(Zo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){De=Tt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}De=null}}else De=Oe?Tt(e.stateNode.nextSibling):null;return!0}function Yd(){for(var e=De;e;)e=Tt(e.nextSibling)}function _n(){De=Oe=null,ie=!1}function Os(e){Je===null?Je=[e]:Je.push(e)}var nh=yt.ReactCurrentBatchConfig;function Wn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var l=r.stateNode}if(!l)throw Error(W(147,e));var i=l,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var d=i.refs;a===null?delete d[o]:d[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function Or(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){var t=e._init;return t(e._payload)}function Xd(e){function t(x,p){if(e){var m=x.deletions;m===null?(x.deletions=[p],x.flags|=16):m.push(p)}}function r(x,p){if(!e)return null;for(;p!==null;)t(x,p),p=p.sibling;return null}function l(x,p){for(x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function i(x,p){return x=Bt(x,p),x.index=0,x.sibling=null,x}function o(x,p,m){return x.index=m,e?(m=x.alternate,m!==null?(m=m.index,m<p?(x.flags|=2,p):m):(x.flags|=2,p)):(x.flags|=1048576,p)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function d(x,p,m,z){return p===null||p.tag!==6?(p=vi(m,x.mode,z),p.return=x,p):(p=i(p,m),p.return=x,p)}function u(x,p,m,z){var N=m.type;return N===ln?g(x,p,m.props.children,z,m.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vt&&ea(N)===p.type)?(z=i(p,m.props),z.ref=Wn(x,p,m),z.return=x,z):(z=tl(m.type,m.key,m.props,null,x.mode,z),z.ref=Wn(x,p,m),z.return=x,z)}function c(x,p,m,z){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=ji(m,x.mode,z),p.return=x,p):(p=i(p,m.children||[]),p.return=x,p)}function g(x,p,m,z,N){return p===null||p.tag!==7?(p=Gt(m,x.mode,z,N),p.return=x,p):(p=i(p,m),p.return=x,p)}function S(x,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=vi(""+p,x.mode,m),p.return=x,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Pr:return m=tl(p.type,p.key,p.props,null,x.mode,m),m.ref=Wn(x,null,p),m.return=x,m;case rn:return p=ji(p,x.mode,m),p.return=x,p;case vt:var z=p._init;return S(x,z(p._payload),m)}if(Vn(p)||An(p))return p=Gt(p,x.mode,m,null),p.return=x,p;Or(x,p)}return null}function j(x,p,m,z){var N=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return N!==null?null:d(x,p,""+m,z);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Pr:return m.key===N?u(x,p,m,z):null;case rn:return m.key===N?c(x,p,m,z):null;case vt:return N=m._init,j(x,p,N(m._payload),z)}if(Vn(m)||An(m))return N!==null?null:g(x,p,m,z,null);Or(x,m)}return null}function P(x,p,m,z,N){if(typeof z=="string"&&z!==""||typeof z=="number")return x=x.get(m)||null,d(p,x,""+z,N);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Pr:return x=x.get(z.key===null?m:z.key)||null,u(p,x,z,N);case rn:return x=x.get(z.key===null?m:z.key)||null,c(p,x,z,N);case vt:var I=z._init;return P(x,p,m,I(z._payload),N)}if(Vn(z)||An(z))return x=x.get(m)||null,g(p,x,z,N,null);Or(p,z)}return null}function C(x,p,m,z){for(var N=null,I=null,F=p,U=p=0,T=null;F!==null&&U<m.length;U++){F.index>U?(T=F,F=null):T=F.sibling;var f=j(x,F,m[U],z);if(f===null){F===null&&(F=T);break}e&&F&&f.alternate===null&&t(x,F),p=o(f,p,U),I===null?N=f:I.sibling=f,I=f,F=T}if(U===m.length)return r(x,F),ie&&Ot(x,U),N;if(F===null){for(;U<m.length;U++)F=S(x,m[U],z),F!==null&&(p=o(F,p,U),I===null?N=F:I.sibling=F,I=F);return ie&&Ot(x,U),N}for(F=l(x,F);U<m.length;U++)T=P(F,x,U,m[U],z),T!==null&&(e&&T.alternate!==null&&F.delete(T.key===null?U:T.key),p=o(T,p,U),I===null?N=T:I.sibling=T,I=T);return e&&F.forEach(function(R){return t(x,R)}),ie&&Ot(x,U),N}function y(x,p,m,z){var N=An(m);if(typeof N!="function")throw Error(W(150));if(m=N.call(m),m==null)throw Error(W(151));for(var I=N=null,F=p,U=p=0,T=null,f=m.next();F!==null&&!f.done;U++,f=m.next()){F.index>U?(T=F,F=null):T=F.sibling;var R=j(x,F,f.value,z);if(R===null){F===null&&(F=T);break}e&&F&&R.alternate===null&&t(x,F),p=o(R,p,U),I===null?N=R:I.sibling=R,I=R,F=T}if(f.done)return r(x,F),ie&&Ot(x,U),N;if(F===null){for(;!f.done;U++,f=m.next())f=S(x,f.value,z),f!==null&&(p=o(f,p,U),I===null?N=f:I.sibling=f,I=f);return ie&&Ot(x,U),N}for(F=l(x,F);!f.done;U++,f=m.next())f=P(F,x,U,f.value,z),f!==null&&(e&&f.alternate!==null&&F.delete(f.key===null?U:f.key),p=o(f,p,U),I===null?N=f:I.sibling=f,I=f);return e&&F.forEach(function(D){return t(x,D)}),ie&&Ot(x,U),N}function E(x,p,m,z){if(typeof m=="object"&&m!==null&&m.type===ln&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Pr:e:{for(var N=m.key,I=p;I!==null;){if(I.key===N){if(N=m.type,N===ln){if(I.tag===7){r(x,I.sibling),p=i(I,m.props.children),p.return=x,x=p;break e}}else if(I.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vt&&ea(N)===I.type){r(x,I.sibling),p=i(I,m.props),p.ref=Wn(x,I,m),p.return=x,x=p;break e}r(x,I);break}else t(x,I);I=I.sibling}m.type===ln?(p=Gt(m.props.children,x.mode,z,m.key),p.return=x,x=p):(z=tl(m.type,m.key,m.props,null,x.mode,z),z.ref=Wn(x,p,m),z.return=x,x=z)}return a(x);case rn:e:{for(I=m.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(x,p.sibling),p=i(p,m.children||[]),p.return=x,x=p;break e}else{r(x,p);break}else t(x,p);p=p.sibling}p=ji(m,x.mode,z),p.return=x,x=p}return a(x);case vt:return I=m._init,E(x,p,I(m._payload),z)}if(Vn(m))return C(x,p,m,z);if(An(m))return y(x,p,m,z);Or(x,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(x,p.sibling),p=i(p,m),p.return=x,x=p):(r(x,p),p=vi(m,x.mode,z),p.return=x,x=p),a(x)):r(x,p)}return E}var kn=Xd(!0),Kd=Xd(!1),ml=It(null),gl=null,hn=null,Ws=null;function Ms(){Ws=hn=gl=null}function Us(e){var t=ml.current;le(ml),e._currentValue=t}function Ji(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function jn(e,t){gl=e,Ws=hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function He(e){var t=e._currentValue;if(Ws!==e)if(e={context:e,memoizedValue:t,next:null},hn===null){if(gl===null)throw Error(W(308));hn=e,gl.dependencies={lanes:0,firstContext:e}}else hn=hn.next=e;return t}var Ut=null;function $s(e){Ut===null?Ut=[e]:Ut.push(e)}function Jd(e,t,r,l){var i=t.interleaved;return i===null?(r.next=r,$s(t)):(r.next=i.next,i.next=r),t.interleaved=r,ft(e,l)}function ft(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var jt=!1;function Vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Et(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,Z&2){var i=l.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),l.pending=t,ft(e,r)}return i=l.interleaved,i===null?(t.next=t,$s(l)):(t.next=i.next,i.next=t),l.interleaved=t,ft(e,r)}function Yr(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Ts(e,r)}}function ta(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:l.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:l.shared,effects:l.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vl(e,t,r,l){var i=e.updateQueue;jt=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var u=d,c=u.next;u.next=null,a===null?o=c:a.next=c,a=u;var g=e.alternate;g!==null&&(g=g.updateQueue,d=g.lastBaseUpdate,d!==a&&(d===null?g.firstBaseUpdate=c:d.next=c,g.lastBaseUpdate=u))}if(o!==null){var S=i.baseState;a=0,g=c=u=null,d=o;do{var j=d.lane,P=d.eventTime;if((l&j)===j){g!==null&&(g=g.next={eventTime:P,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var C=e,y=d;switch(j=t,P=r,y.tag){case 1:if(C=y.payload,typeof C=="function"){S=C.call(P,S,j);break e}S=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=y.payload,j=typeof C=="function"?C.call(P,S,j):C,j==null)break e;S=ae({},S,j);break e;case 2:jt=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,j=i.effects,j===null?i.effects=[d]:j.push(d))}else P={eventTime:P,lane:j,tag:d.tag,payload:d.payload,callback:d.callback,next:null},g===null?(c=g=P,u=S):g=g.next=P,a|=j;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;j=d,d=j.next,j.next=null,i.lastBaseUpdate=j,i.shared.pending=null}}while(!0);if(g===null&&(u=S),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Xt|=a,e.lanes=a,e.memoizedState=S}}function na(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],i=l.callback;if(i!==null){if(l.callback=null,l=r,typeof i!="function")throw Error(W(191,i));i.call(l)}}}var Cr={},st=It(Cr),fr=It(Cr),xr=It(Cr);function $t(e){if(e===Cr)throw Error(W(174));return e}function Gs(e,t){switch(ne(xr,t),ne(fr,e),ne(st,Cr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Li(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Li(t,e)}le(st),ne(st,t)}function Cn(){le(st),le(fr),le(xr)}function ec(e){$t(xr.current);var t=$t(st.current),r=Li(t,e.type);t!==r&&(ne(fr,e),ne(st,r))}function Qs(e){fr.current===e&&(le(st),le(fr))}var se=It(0);function jl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hi=[];function Hs(){for(var e=0;e<hi.length;e++)hi[e]._workInProgressVersionPrimary=null;hi.length=0}var Xr=yt.ReactCurrentDispatcher,fi=yt.ReactCurrentBatchConfig,Yt=0,oe=null,he=null,me=null,Sl=!1,Jn=!1,yr=0,rh=0;function be(){throw Error(W(321))}function qs(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tt(e[r],t[r]))return!1;return!0}function Ys(e,t,r,l,i,o){if(Yt=o,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xr.current=e===null||e.memoizedState===null?oh:ah,e=r(l,i),Jn){o=0;do{if(Jn=!1,yr=0,25<=o)throw Error(W(301));o+=1,me=he=null,t.updateQueue=null,Xr.current=dh,e=r(l,i)}while(Jn)}if(Xr.current=bl,t=he!==null&&he.next!==null,Yt=0,me=he=oe=null,Sl=!1,t)throw Error(W(300));return e}function Xs(){var e=yr!==0;return yr=0,e}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?oe.memoizedState=me=e:me=me.next=e,me}function qe(){if(he===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=me===null?oe.memoizedState:me.next;if(t!==null)me=t,he=e;else{if(e===null)throw Error(W(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},me===null?oe.memoizedState=me=e:me=me.next=e}return me}function mr(e,t){return typeof t=="function"?t(e):t}function xi(e){var t=qe(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var l=he,i=l.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}l.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,l=l.baseState;var d=a=null,u=null,c=o;do{var g=c.lane;if((Yt&g)===g)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),l=c.hasEagerState?c.eagerState:e(l,c.action);else{var S={lane:g,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(d=u=S,a=l):u=u.next=S,oe.lanes|=g,Xt|=g}c=c.next}while(c!==null&&c!==o);u===null?a=l:u.next=d,tt(l,t.memoizedState)||(Be=!0),t.memoizedState=l,t.baseState=a,t.baseQueue=u,r.lastRenderedState=l}if(e=r.interleaved,e!==null){i=e;do o=i.lane,oe.lanes|=o,Xt|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yi(e){var t=qe(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var l=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);tt(o,t.memoizedState)||(Be=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,l]}function tc(){}function nc(e,t){var r=oe,l=qe(),i=t(),o=!tt(l.memoizedState,i);if(o&&(l.memoizedState=i,Be=!0),l=l.queue,Ks(ic.bind(null,r,l,e),[e]),l.getSnapshot!==t||o||me!==null&&me.memoizedState.tag&1){if(r.flags|=2048,gr(9,lc.bind(null,r,l,i,t),void 0,null),ge===null)throw Error(W(349));Yt&30||rc(r,t,i)}return i}function rc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lc(e,t,r,l){t.value=r,t.getSnapshot=l,sc(t)&&oc(e)}function ic(e,t,r){return r(function(){sc(t)&&oc(e)})}function sc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tt(e,r)}catch{return!0}}function oc(e){var t=ft(e,1);t!==null&&et(t,e,1,-1)}function ra(e){var t=rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:e},t.queue=e,e=e.dispatch=sh.bind(null,oe,e),[t.memoizedState,e]}function gr(e,t,r,l){return e={tag:e,create:t,destroy:r,deps:l,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e)),e}function ac(){return qe().memoizedState}function Kr(e,t,r,l){var i=rt();oe.flags|=e,i.memoizedState=gr(1|t,r,void 0,l===void 0?null:l)}function Al(e,t,r,l){var i=qe();l=l===void 0?null:l;var o=void 0;if(he!==null){var a=he.memoizedState;if(o=a.destroy,l!==null&&qs(l,a.deps)){i.memoizedState=gr(t,r,o,l);return}}oe.flags|=e,i.memoizedState=gr(1|t,r,o,l)}function la(e,t){return Kr(8390656,8,e,t)}function Ks(e,t){return Al(2048,8,e,t)}function dc(e,t){return Al(4,2,e,t)}function cc(e,t){return Al(4,4,e,t)}function uc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pc(e,t,r){return r=r!=null?r.concat([e]):null,Al(4,4,uc.bind(null,t,e),r)}function Js(){}function hc(e,t){var r=qe();t=t===void 0?null:t;var l=r.memoizedState;return l!==null&&t!==null&&qs(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function fc(e,t){var r=qe();t=t===void 0?null:t;var l=r.memoizedState;return l!==null&&t!==null&&qs(t,l[1])?l[0]:(e=e(),r.memoizedState=[e,t],e)}function xc(e,t,r){return Yt&21?(tt(r,t)||(r=jd(),oe.lanes|=r,Xt|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=r)}function lh(e,t){var r=te;te=r!==0&&4>r?r:4,e(!0);var l=fi.transition;fi.transition={};try{e(!1),t()}finally{te=r,fi.transition=l}}function yc(){return qe().memoizedState}function ih(e,t,r){var l=Lt(e);if(r={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null},mc(e))gc(t,r);else if(r=Jd(e,t,r,l),r!==null){var i=Pe();et(r,e,l,i),vc(r,t,l)}}function sh(e,t,r){var l=Lt(e),i={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null};if(mc(e))gc(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,d=o(a,r);if(i.hasEagerState=!0,i.eagerState=d,tt(d,a)){var u=t.interleaved;u===null?(i.next=i,$s(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=Jd(e,t,i,l),r!==null&&(i=Pe(),et(r,e,l,i),vc(r,t,l))}}function mc(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function gc(e,t){Jn=Sl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vc(e,t,r){if(r&4194240){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Ts(e,r)}}var bl={readContext:He,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},oh={readContext:He,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:He,useEffect:la,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kr(4194308,4,uc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kr(4,2,e,t)},useMemo:function(e,t){var r=rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var l=rt();return t=r!==void 0?r(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=ih.bind(null,oe,e),[l.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:ra,useDebugValue:Js,useDeferredValue:function(e){return rt().memoizedState=e},useTransition:function(){var e=ra(!1),t=e[0];return e=lh.bind(null,e[1]),rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var l=oe,i=rt();if(ie){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),ge===null)throw Error(W(349));Yt&30||rc(l,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,la(ic.bind(null,l,o,e),[e]),l.flags|=2048,gr(9,lc.bind(null,l,o,r,t),void 0,null),r},useId:function(){var e=rt(),t=ge.identifierPrefix;if(ie){var r=ct,l=dt;r=(l&~(1<<32-Ze(l)-1)).toString(32)+r,t=":"+t+"R"+r,r=yr++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=rh++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ah={readContext:He,useCallback:hc,useContext:He,useEffect:Ks,useImperativeHandle:pc,useInsertionEffect:dc,useLayoutEffect:cc,useMemo:fc,useReducer:xi,useRef:ac,useState:function(){return xi(mr)},useDebugValue:Js,useDeferredValue:function(e){var t=qe();return xc(t,he.memoizedState,e)},useTransition:function(){var e=xi(mr)[0],t=qe().memoizedState;return[e,t]},useMutableSource:tc,useSyncExternalStore:nc,useId:yc,unstable_isNewReconciler:!1},dh={readContext:He,useCallback:hc,useContext:He,useEffect:Ks,useImperativeHandle:pc,useInsertionEffect:dc,useLayoutEffect:cc,useMemo:fc,useReducer:yi,useRef:ac,useState:function(){return yi(mr)},useDebugValue:Js,useDeferredValue:function(e){var t=qe();return he===null?t.memoizedState=e:xc(t,he.memoizedState,e)},useTransition:function(){var e=yi(mr)[0],t=qe().memoizedState;return[e,t]},useMutableSource:tc,useSyncExternalStore:nc,useId:yc,unstable_isNewReconciler:!1};function Xe(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Zi(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:ae({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fl={isMounted:function(e){return(e=e._reactInternals)?Zt(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var l=Pe(),i=Lt(e),o=ut(l,i);o.payload=t,r!=null&&(o.callback=r),t=Et(e,o,i),t!==null&&(et(t,e,i,l),Yr(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=Pe(),i=Lt(e),o=ut(l,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Et(e,o,i),t!==null&&(et(t,e,i,l),Yr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pe(),l=Lt(e),i=ut(r,l);i.tag=2,t!=null&&(i.callback=t),t=Et(e,i,l),t!==null&&(et(t,e,l,r),Yr(t,e,l))}};function ia(e,t,r,l,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,o,a):t.prototype&&t.prototype.isPureReactComponent?!cr(r,l)||!cr(i,o):!0}function jc(e,t,r){var l=!1,i=At,o=t.contextType;return typeof o=="object"&&o!==null?o=He(o):(i=Ae(t)?Ht:ke.current,l=t.contextTypes,o=(l=l!=null)?wn(e,i):At),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fl,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function sa(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&Fl.enqueueReplaceState(t,t.state,null)}function es(e,t,r,l){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Vs(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=He(o):(o=Ae(t)?Ht:ke.current,i.context=wn(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Zi(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Fl.enqueueReplaceState(i,i.state,null),vl(e,r,i,l),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zn(e,t){try{var r="",l=t;do r+=Iu(l),l=l.return;while(l);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function mi(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ts(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ch=typeof WeakMap=="function"?WeakMap:Map;function Sc(e,t,r){r=ut(-1,r),r.tag=3,r.payload={element:null};var l=t.value;return r.callback=function(){_l||(_l=!0,us=l),ts(e,t)},r}function bc(e,t,r){r=ut(-1,r),r.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var i=t.value;r.payload=function(){return l(i)},r.callback=function(){ts(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){ts(e,t),typeof l!="function"&&(Rt===null?Rt=new Set([this]):Rt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function oa(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new ch;var i=new Set;l.set(t,i)}else i=l.get(t),i===void 0&&(i=new Set,l.set(t,i));i.has(r)||(i.add(r),e=_h.bind(null,e,t,r),t.then(e,e))}function aa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function da(e,t,r,l,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ut(-1,1),t.tag=2,Et(r,t,1))),r.lanes|=1),e)}var uh=yt.ReactCurrentOwner,Be=!1;function ze(e,t,r,l){t.child=e===null?Kd(t,null,r,l):kn(t,e.child,r,l)}function ca(e,t,r,l,i){r=r.render;var o=t.ref;return jn(t,i),l=Ys(e,t,r,l,o,i),r=Xs(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xt(e,t,i)):(ie&&r&&Is(t),t.flags|=1,ze(e,t,l,i),t.child)}function ua(e,t,r,l,i){if(e===null){var o=r.type;return typeof o=="function"&&!so(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,wc(e,t,o,l,i)):(e=tl(r.type,null,l,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:cr,r(a,l)&&e.ref===t.ref)return xt(e,t,i)}return t.flags|=1,e=Bt(o,l),e.ref=t.ref,e.return=t,t.child=e}function wc(e,t,r,l,i){if(e!==null){var o=e.memoizedProps;if(cr(o,l)&&e.ref===t.ref)if(Be=!1,t.pendingProps=l=o,(e.lanes&i)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,xt(e,t,i)}return ns(e,t,r,l,i)}function _c(e,t,r){var l=t.pendingProps,i=l.children,o=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(xn,Ie),Ie|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(xn,Ie),Ie|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=o!==null?o.baseLanes:r,ne(xn,Ie),Ie|=l}else o!==null?(l=o.baseLanes|r,t.memoizedState=null):l=r,ne(xn,Ie),Ie|=l;return ze(e,t,i,r),t.child}function kc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ns(e,t,r,l,i){var o=Ae(r)?Ht:ke.current;return o=wn(t,o),jn(t,i),r=Ys(e,t,r,l,o,i),l=Xs(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xt(e,t,i)):(ie&&l&&Is(t),t.flags|=1,ze(e,t,r,i),t.child)}function pa(e,t,r,l,i){if(Ae(r)){var o=!0;fl(t)}else o=!1;if(jn(t,i),t.stateNode===null)Jr(e,t),jc(t,r,l),es(t,r,l,i),l=!0;else if(e===null){var a=t.stateNode,d=t.memoizedProps;a.props=d;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=He(c):(c=Ae(r)?Ht:ke.current,c=wn(t,c));var g=r.getDerivedStateFromProps,S=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";S||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(d!==l||u!==c)&&sa(t,a,l,c),jt=!1;var j=t.memoizedState;a.state=j,vl(t,l,a,i),u=t.memoizedState,d!==l||j!==u||Ne.current||jt?(typeof g=="function"&&(Zi(t,r,g,l),u=t.memoizedState),(d=jt||ia(t,r,d,l,j,u,c))?(S||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=u),a.props=l,a.state=u,a.context=c,l=d):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{a=t.stateNode,Zd(e,t),d=t.memoizedProps,c=t.type===t.elementType?d:Xe(t.type,d),a.props=c,S=t.pendingProps,j=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=He(u):(u=Ae(r)?Ht:ke.current,u=wn(t,u));var P=r.getDerivedStateFromProps;(g=typeof P=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(d!==S||j!==u)&&sa(t,a,l,u),jt=!1,j=t.memoizedState,a.state=j,vl(t,l,a,i);var C=t.memoizedState;d!==S||j!==C||Ne.current||jt?(typeof P=="function"&&(Zi(t,r,P,l),C=t.memoizedState),(c=jt||ia(t,r,c,l,j,C,u)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(l,C,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(l,C,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||d===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=C),a.props=l,a.state=C,a.context=u,l=c):(typeof a.componentDidUpdate!="function"||d===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),l=!1)}return rs(e,t,r,l,o,i)}function rs(e,t,r,l,i,o){kc(e,t);var a=(t.flags&128)!==0;if(!l&&!a)return i&&Ko(t,r,!1),xt(e,t,o);l=t.stateNode,uh.current=t;var d=a&&typeof r.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&a?(t.child=kn(t,e.child,null,o),t.child=kn(t,null,d,o)):ze(e,t,d,o),t.memoizedState=l.state,i&&Ko(t,r,!0),t.child}function Cc(e){var t=e.stateNode;t.pendingContext?Xo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xo(e,t.context,!1),Gs(e,t.containerInfo)}function ha(e,t,r,l,i){return _n(),Os(i),t.flags|=256,ze(e,t,r,l),t.child}var ls={dehydrated:null,treeContext:null,retryLane:0};function is(e){return{baseLanes:e,cachePool:null,transitions:null}}function zc(e,t,r){var l=t.pendingProps,i=se.current,o=!1,a=(t.flags&128)!==0,d;if((d=a)||(d=e!==null&&e.memoizedState===null?!1:(i&2)!==0),d?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ne(se,i&1),e===null)return Ki(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=l.children,e=l.fallback,o?(l=t.mode,o=t.child,a={mode:"hidden",children:a},!(l&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ol(a,l,0,null),e=Gt(e,l,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=is(r),t.memoizedState=ls,e):Zs(t,a));if(i=e.memoizedState,i!==null&&(d=i.dehydrated,d!==null))return ph(e,t,a,l,d,i,r);if(o){o=l.fallback,a=t.mode,i=e.child,d=i.sibling;var u={mode:"hidden",children:l.children};return!(a&1)&&t.child!==i?(l=t.child,l.childLanes=0,l.pendingProps=u,t.deletions=null):(l=Bt(i,u),l.subtreeFlags=i.subtreeFlags&14680064),d!==null?o=Bt(d,o):(o=Gt(o,a,r,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,l=o,o=t.child,a=e.child.memoizedState,a=a===null?is(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=ls,l}return o=e.child,e=o.sibling,l=Bt(o,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=r),l.return=t,l.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=l,t.memoizedState=null,l}function Zs(e,t){return t=Ol({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wr(e,t,r,l){return l!==null&&Os(l),kn(t,e.child,null,r),e=Zs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ph(e,t,r,l,i,o,a){if(r)return t.flags&256?(t.flags&=-257,l=mi(Error(W(422))),Wr(e,t,a,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=l.fallback,i=t.mode,l=Ol({mode:"visible",children:l.children},i,0,null),o=Gt(o,i,a,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,t.mode&1&&kn(t,e.child,null,a),t.child.memoizedState=is(a),t.memoizedState=ls,o);if(!(t.mode&1))return Wr(e,t,a,null);if(i.data==="$!"){if(l=i.nextSibling&&i.nextSibling.dataset,l)var d=l.dgst;return l=d,o=Error(W(419)),l=mi(o,l,void 0),Wr(e,t,a,l)}if(d=(a&e.childLanes)!==0,Be||d){if(l=ge,l!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(l.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ft(e,i),et(l,e,i,-1))}return io(),l=mi(Error(W(421))),Wr(e,t,a,l)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=kh.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,De=Tt(i.nextSibling),Oe=t,ie=!0,Je=null,e!==null&&($e[Ve++]=dt,$e[Ve++]=ct,$e[Ve++]=qt,dt=e.id,ct=e.overflow,qt=t),t=Zs(t,l.children),t.flags|=4096,t)}function fa(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ji(e.return,t,r)}function gi(e,t,r,l,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=l,o.tail=r,o.tailMode=i)}function Pc(e,t,r){var l=t.pendingProps,i=l.revealOrder,o=l.tail;if(ze(e,t,l.children,r),l=se.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fa(e,r,t);else if(e.tag===19)fa(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ne(se,l),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&jl(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),gi(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&jl(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}gi(t,!0,r,null,o);break;case"together":gi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xt|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=Bt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Bt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function hh(e,t,r){switch(t.tag){case 3:Cc(t),_n();break;case 5:ec(t);break;case 1:Ae(t.type)&&fl(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,i=t.memoizedProps.value;ne(ml,l._currentValue),l._currentValue=i;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(ne(se,se.current&1),t.flags|=128,null):r&t.child.childLanes?zc(e,t,r):(ne(se,se.current&1),e=xt(e,t,r),e!==null?e.sibling:null);ne(se,se.current&1);break;case 19:if(l=(r&t.childLanes)!==0,e.flags&128){if(l)return Pc(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(se,se.current),l)break;return null;case 22:case 23:return t.lanes=0,_c(e,t,r)}return xt(e,t,r)}var Tc,ss,Ec,Rc;Tc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ss=function(){};Ec=function(e,t,r,l){var i=e.memoizedProps;if(i!==l){e=t.stateNode,$t(st.current);var o=null;switch(r){case"input":i=Pi(e,i),l=Pi(e,l),o=[];break;case"select":i=ae({},i,{value:void 0}),l=ae({},l,{value:void 0}),o=[];break;case"textarea":i=Ri(e,i),l=Ri(e,l),o=[];break;default:typeof i.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=pl)}Bi(r,l);var a;r=null;for(c in i)if(!l.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var d=i[c];for(a in d)d.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rr.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in l){var u=l[c];if(d=i!=null?i[c]:void 0,l.hasOwnProperty(c)&&u!==d&&(u!=null||d!=null))if(c==="style")if(d){for(a in d)!d.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&d[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(o||(o=[]),o.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,d=d?d.__html:void 0,u!=null&&d!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&re("scroll",e),o||d===u||(o=[])):(o=o||[]).push(c,u))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Rc=function(e,t,r,l){r!==l&&(t.flags|=4)};function Mn(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,l|=i.subtreeFlags&14680064,l|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,l|=i.subtreeFlags,l|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function fh(e,t,r){var l=t.pendingProps;switch(Ds(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Ae(t.type)&&hl(),we(t),null;case 3:return l=t.stateNode,Cn(),le(Ne),le(ke),Hs(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Dr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Je!==null&&(fs(Je),Je=null))),ss(e,t),we(t),null;case 5:Qs(t);var i=$t(xr.current);if(r=t.type,e!==null&&t.stateNode!=null)Ec(e,t,r,l,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(W(166));return we(t),null}if(e=$t(st.current),Dr(t)){l=t.stateNode,r=t.type;var o=t.memoizedProps;switch(l[lt]=t,l[hr]=o,e=(t.mode&1)!==0,r){case"dialog":re("cancel",l),re("close",l);break;case"iframe":case"object":case"embed":re("load",l);break;case"video":case"audio":for(i=0;i<Qn.length;i++)re(Qn[i],l);break;case"source":re("error",l);break;case"img":case"image":case"link":re("error",l),re("load",l);break;case"details":re("toggle",l);break;case"input":wo(l,o),re("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!o.multiple},re("invalid",l);break;case"textarea":ko(l,o),re("invalid",l)}Bi(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var d=o[a];a==="children"?typeof d=="string"?l.textContent!==d&&(o.suppressHydrationWarning!==!0&&Ir(l.textContent,d,e),i=["children",d]):typeof d=="number"&&l.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&Ir(l.textContent,d,e),i=["children",""+d]):rr.hasOwnProperty(a)&&d!=null&&a==="onScroll"&&re("scroll",l)}switch(r){case"input":Tr(l),_o(l,o,!0);break;case"textarea":Tr(l),Co(l);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(l.onclick=pl)}l=i,t.updateQueue=l,l!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=id(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=a.createElement(r,{is:l.is}):(e=a.createElement(r),r==="select"&&(a=e,l.multiple?a.multiple=!0:l.size&&(a.size=l.size))):e=a.createElementNS(e,r),e[lt]=t,e[hr]=l,Tc(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ni(r,l),r){case"dialog":re("cancel",e),re("close",e),i=l;break;case"iframe":case"object":case"embed":re("load",e),i=l;break;case"video":case"audio":for(i=0;i<Qn.length;i++)re(Qn[i],e);i=l;break;case"source":re("error",e),i=l;break;case"img":case"image":case"link":re("error",e),re("load",e),i=l;break;case"details":re("toggle",e),i=l;break;case"input":wo(e,l),i=Pi(e,l),re("invalid",e);break;case"option":i=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},i=ae({},l,{value:void 0}),re("invalid",e);break;case"textarea":ko(e,l),i=Ri(e,l),re("invalid",e);break;default:i=l}Bi(r,i),d=i;for(o in d)if(d.hasOwnProperty(o)){var u=d[o];o==="style"?ad(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&sd(e,u)):o==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&lr(e,u):typeof u=="number"&&lr(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(rr.hasOwnProperty(o)?u!=null&&o==="onScroll"&&re("scroll",e):u!=null&&ws(e,o,u,a))}switch(r){case"input":Tr(e),_o(e,l,!1);break;case"textarea":Tr(e),Co(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Nt(l.value));break;case"select":e.multiple=!!l.multiple,o=l.value,o!=null?yn(e,!!l.multiple,o,!1):l.defaultValue!=null&&yn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pl)}switch(r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)Rc(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(W(166));if(r=$t(xr.current),$t(st.current),Dr(t)){if(l=t.stateNode,r=t.memoizedProps,l[lt]=t,(o=l.nodeValue!==r)&&(e=Oe,e!==null))switch(e.tag){case 3:Ir(l.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ir(l.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else l=(r.nodeType===9?r:r.ownerDocument).createTextNode(l),l[lt]=t,t.stateNode=l}return we(t),null;case 13:if(le(se),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&De!==null&&t.mode&1&&!(t.flags&128))Yd(),_n(),t.flags|=98560,o=!1;else if(o=Dr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[lt]=t}else _n(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),o=!1}else Je!==null&&(fs(Je),Je=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?fe===0&&(fe=3):io())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return Cn(),ss(e,t),e===null&&ur(t.stateNode.containerInfo),we(t),null;case 10:return Us(t.type._context),we(t),null;case 17:return Ae(t.type)&&hl(),we(t),null;case 19:if(le(se),o=t.memoizedState,o===null)return we(t),null;if(l=(t.flags&128)!==0,a=o.rendering,a===null)if(l)Mn(o,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=jl(e),a!==null){for(t.flags|=128,Mn(o,!1),l=a.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=r,r=t.child;r!==null;)o=r,e=l,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ne(se,se.current&1|2),t.child}e=e.sibling}o.tail!==null&&ue()>Pn&&(t.flags|=128,l=!0,Mn(o,!1),t.lanes=4194304)}else{if(!l)if(e=jl(a),e!==null){if(t.flags|=128,l=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Mn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ie)return we(t),null}else 2*ue()-o.renderingStartTime>Pn&&r!==1073741824&&(t.flags|=128,l=!0,Mn(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ue(),t.sibling=null,r=se.current,ne(se,l?r&1|2:r&1),t):(we(t),null);case 22:case 23:return lo(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?Ie&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function xh(e,t){switch(Ds(t),t.tag){case 1:return Ae(t.type)&&hl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cn(),le(Ne),le(ke),Hs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qs(t),null;case 13:if(le(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(se),null;case 4:return Cn(),null;case 10:return Us(t.type._context),null;case 22:case 23:return lo(),null;case 24:return null;default:return null}}var Mr=!1,_e=!1,yh=typeof WeakSet=="function"?WeakSet:Set,Q=null;function fn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(l){de(e,t,l)}else r.current=null}function os(e,t,r){try{r()}catch(l){de(e,t,l)}}var xa=!1;function mh(e,t){if(Vi=dl,e=Fd(),Fs(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var i=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,d=-1,u=-1,c=0,g=0,S=e,j=null;t:for(;;){for(var P;S!==r||i!==0&&S.nodeType!==3||(d=a+i),S!==o||l!==0&&S.nodeType!==3||(u=a+l),S.nodeType===3&&(a+=S.nodeValue.length),(P=S.firstChild)!==null;)j=S,S=P;for(;;){if(S===e)break t;if(j===r&&++c===i&&(d=a),j===o&&++g===l&&(u=a),(P=S.nextSibling)!==null)break;S=j,j=S.parentNode}S=P}r=d===-1||u===-1?null:{start:d,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Gi={focusedElem:e,selectionRange:r},dl=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var y=C.memoizedProps,E=C.memoizedState,x=t.stateNode,p=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:Xe(t.type,y),E);x.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(z){de(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return C=xa,xa=!1,C}function Zn(e,t,r){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var i=l=l.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&os(t,r,o)}i=i.next}while(i!==l)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var l=r.create;r.destroy=l()}r=r.next}while(r!==t)}}function as(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Lc(e){var t=e.alternate;t!==null&&(e.alternate=null,Lc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lt],delete t[hr],delete t[qi],delete t[Zp],delete t[eh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bc(e){return e.tag===5||e.tag===3||e.tag===4}function ya(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ds(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pl));else if(l!==4&&(e=e.child,e!==null))for(ds(e,t,r),e=e.sibling;e!==null;)ds(e,t,r),e=e.sibling}function cs(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(cs(e,t,r),e=e.sibling;e!==null;)cs(e,t,r),e=e.sibling}var ve=null,Ke=!1;function mt(e,t,r){for(r=r.child;r!==null;)Nc(e,t,r),r=r.sibling}function Nc(e,t,r){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Tl,r)}catch{}switch(r.tag){case 5:_e||fn(r,t);case 6:var l=ve,i=Ke;ve=null,mt(e,t,r),ve=l,Ke=i,ve!==null&&(Ke?(e=ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ve.removeChild(r.stateNode));break;case 18:ve!==null&&(Ke?(e=ve,r=r.stateNode,e.nodeType===8?ui(e.parentNode,r):e.nodeType===1&&ui(e,r),ar(e)):ui(ve,r.stateNode));break;case 4:l=ve,i=Ke,ve=r.stateNode.containerInfo,Ke=!0,mt(e,t,r),ve=l,Ke=i;break;case 0:case 11:case 14:case 15:if(!_e&&(l=r.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){i=l=l.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&os(r,t,a),i=i.next}while(i!==l)}mt(e,t,r);break;case 1:if(!_e&&(fn(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=r.memoizedProps,l.state=r.memoizedState,l.componentWillUnmount()}catch(d){de(r,t,d)}mt(e,t,r);break;case 21:mt(e,t,r);break;case 22:r.mode&1?(_e=(l=_e)||r.memoizedState!==null,mt(e,t,r),_e=l):mt(e,t,r);break;default:mt(e,t,r)}}function ma(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new yh),t.forEach(function(l){var i=Ch.bind(null,e,l);r.has(l)||(r.add(l),l.then(i,i))})}}function Ye(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var i=r[l];try{var o=e,a=t,d=a;e:for(;d!==null;){switch(d.tag){case 5:ve=d.stateNode,Ke=!1;break e;case 3:ve=d.stateNode.containerInfo,Ke=!0;break e;case 4:ve=d.stateNode.containerInfo,Ke=!0;break e}d=d.return}if(ve===null)throw Error(W(160));Nc(o,a,i),ve=null,Ke=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){de(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ac(t,e),t=t.sibling}function Ac(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),nt(e),l&4){try{Zn(3,e,e.return),Il(3,e)}catch(y){de(e,e.return,y)}try{Zn(5,e,e.return)}catch(y){de(e,e.return,y)}}break;case 1:Ye(t,e),nt(e),l&512&&r!==null&&fn(r,r.return);break;case 5:if(Ye(t,e),nt(e),l&512&&r!==null&&fn(r,r.return),e.flags&32){var i=e.stateNode;try{lr(i,"")}catch(y){de(e,e.return,y)}}if(l&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,d=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&rd(i,o),Ni(d,a);var c=Ni(d,o);for(a=0;a<u.length;a+=2){var g=u[a],S=u[a+1];g==="style"?ad(i,S):g==="dangerouslySetInnerHTML"?sd(i,S):g==="children"?lr(i,S):ws(i,g,S,c)}switch(d){case"input":Ti(i,o);break;case"textarea":ld(i,o);break;case"select":var j=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var P=o.value;P!=null?yn(i,!!o.multiple,P,!1):j!==!!o.multiple&&(o.defaultValue!=null?yn(i,!!o.multiple,o.defaultValue,!0):yn(i,!!o.multiple,o.multiple?[]:"",!1))}i[hr]=o}catch(y){de(e,e.return,y)}}break;case 6:if(Ye(t,e),nt(e),l&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){de(e,e.return,y)}}break;case 3:if(Ye(t,e),nt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ar(t.containerInfo)}catch(y){de(e,e.return,y)}break;case 4:Ye(t,e),nt(e);break;case 13:Ye(t,e),nt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(no=ue())),l&4&&ma(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(_e=(c=_e)||g,Ye(t,e),_e=c):Ye(t,e),nt(e),l&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!g&&e.mode&1)for(Q=e,g=e.child;g!==null;){for(S=Q=g;Q!==null;){switch(j=Q,P=j.child,j.tag){case 0:case 11:case 14:case 15:Zn(4,j,j.return);break;case 1:fn(j,j.return);var C=j.stateNode;if(typeof C.componentWillUnmount=="function"){l=j,r=j.return;try{t=l,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(y){de(l,r,y)}}break;case 5:fn(j,j.return);break;case 22:if(j.memoizedState!==null){va(S);continue}}P!==null?(P.return=j,Q=P):va(S)}g=g.sibling}e:for(g=null,S=e;;){if(S.tag===5){if(g===null){g=S;try{i=S.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=S.stateNode,u=S.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,d.style.display=od("display",a))}catch(y){de(e,e.return,y)}}}else if(S.tag===6){if(g===null)try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(y){de(e,e.return,y)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;g===S&&(g=null),S=S.return}g===S&&(g=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:Ye(t,e),nt(e),l&4&&ma(e);break;case 21:break;default:Ye(t,e),nt(e)}}function nt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bc(r)){var l=r;break e}r=r.return}throw Error(W(160))}switch(l.tag){case 5:var i=l.stateNode;l.flags&32&&(lr(i,""),l.flags&=-33);var o=ya(e);cs(e,o,i);break;case 3:case 4:var a=l.stateNode.containerInfo,d=ya(e);ds(e,d,a);break;default:throw Error(W(161))}}catch(u){de(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gh(e,t,r){Q=e,Fc(e)}function Fc(e,t,r){for(var l=(e.mode&1)!==0;Q!==null;){var i=Q,o=i.child;if(i.tag===22&&l){var a=i.memoizedState!==null||Mr;if(!a){var d=i.alternate,u=d!==null&&d.memoizedState!==null||_e;d=Mr;var c=_e;if(Mr=a,(_e=u)&&!c)for(Q=i;Q!==null;)a=Q,u=a.child,a.tag===22&&a.memoizedState!==null?ja(i):u!==null?(u.return=a,Q=u):ja(i);for(;o!==null;)Q=o,Fc(o),o=o.sibling;Q=i,Mr=d,_e=c}ga(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Q=o):ga(e)}}function ga(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||Il(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!_e)if(r===null)l.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Xe(t.type,r.memoizedProps);l.componentDidUpdate(i,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&na(t,o,l);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}na(t,a,r)}break;case 5:var d=t.stateNode;if(r===null&&t.flags&4){r=d;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var g=c.memoizedState;if(g!==null){var S=g.dehydrated;S!==null&&ar(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}_e||t.flags&512&&as(t)}catch(j){de(t,t.return,j)}}if(t===e){Q=null;break}if(r=t.sibling,r!==null){r.return=t.return,Q=r;break}Q=t.return}}function va(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Q=r;break}Q=t.return}}function ja(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Il(4,t)}catch(u){de(t,r,u)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var i=t.return;try{l.componentDidMount()}catch(u){de(t,i,u)}}var o=t.return;try{as(t)}catch(u){de(t,o,u)}break;case 5:var a=t.return;try{as(t)}catch(u){de(t,a,u)}}}catch(u){de(t,t.return,u)}if(t===e){Q=null;break}var d=t.sibling;if(d!==null){d.return=t.return,Q=d;break}Q=t.return}}var vh=Math.ceil,wl=yt.ReactCurrentDispatcher,eo=yt.ReactCurrentOwner,Qe=yt.ReactCurrentBatchConfig,Z=0,ge=null,pe=null,je=0,Ie=0,xn=It(0),fe=0,vr=null,Xt=0,Dl=0,to=0,er=null,Re=null,no=0,Pn=1/0,ot=null,_l=!1,us=null,Rt=null,Ur=!1,_t=null,kl=0,tr=0,ps=null,Zr=-1,el=0;function Pe(){return Z&6?ue():Zr!==-1?Zr:Zr=ue()}function Lt(e){return e.mode&1?Z&2&&je!==0?je&-je:nh.transition!==null?(el===0&&(el=jd()),el):(e=te,e!==0||(e=window.event,e=e===void 0?16:zd(e.type)),e):1}function et(e,t,r,l){if(50<tr)throw tr=0,ps=null,Error(W(185));wr(e,r,l),(!(Z&2)||e!==ge)&&(e===ge&&(!(Z&2)&&(Dl|=r),fe===4&&bt(e,je)),Fe(e,l),r===1&&Z===0&&!(t.mode&1)&&(Pn=ue()+500,Nl&&Dt()))}function Fe(e,t){var r=e.callbackNode;np(e,t);var l=al(e,e===ge?je:0);if(l===0)r!==null&&To(r),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(r!=null&&To(r),t===1)e.tag===0?th(Sa.bind(null,e)):Qd(Sa.bind(null,e)),Kp(function(){!(Z&6)&&Dt()}),r=null;else{switch(Sd(l)){case 1:r=Ps;break;case 4:r=gd;break;case 16:r=ol;break;case 536870912:r=vd;break;default:r=ol}r=Vc(r,Ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ic(e,t){if(Zr=-1,el=0,Z&6)throw Error(W(327));var r=e.callbackNode;if(Sn()&&e.callbackNode!==r)return null;var l=al(e,e===ge?je:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=Cl(e,l);else{t=l;var i=Z;Z|=2;var o=Oc();(ge!==e||je!==t)&&(ot=null,Pn=ue()+500,Vt(e,t));do try{bh();break}catch(d){Dc(e,d)}while(!0);Ms(),wl.current=o,Z=i,pe!==null?t=0:(ge=null,je=0,t=fe)}if(t!==0){if(t===2&&(i=Oi(e),i!==0&&(l=i,t=hs(e,i))),t===1)throw r=vr,Vt(e,0),bt(e,l),Fe(e,ue()),r;if(t===6)bt(e,l);else{if(i=e.current.alternate,!(l&30)&&!jh(i)&&(t=Cl(e,l),t===2&&(o=Oi(e),o!==0&&(l=o,t=hs(e,o))),t===1))throw r=vr,Vt(e,0),bt(e,l),Fe(e,ue()),r;switch(e.finishedWork=i,e.finishedLanes=l,t){case 0:case 1:throw Error(W(345));case 2:Wt(e,Re,ot);break;case 3:if(bt(e,l),(l&130023424)===l&&(t=no+500-ue(),10<t)){if(al(e,0)!==0)break;if(i=e.suspendedLanes,(i&l)!==l){Pe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hi(Wt.bind(null,e,Re,ot),t);break}Wt(e,Re,ot);break;case 4:if(bt(e,l),(l&4194240)===l)break;for(t=e.eventTimes,i=-1;0<l;){var a=31-Ze(l);o=1<<a,a=t[a],a>i&&(i=a),l&=~o}if(l=i,l=ue()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*vh(l/1960))-l,10<l){e.timeoutHandle=Hi(Wt.bind(null,e,Re,ot),l);break}Wt(e,Re,ot);break;case 5:Wt(e,Re,ot);break;default:throw Error(W(329))}}}return Fe(e,ue()),e.callbackNode===r?Ic.bind(null,e):null}function hs(e,t){var r=er;return e.current.memoizedState.isDehydrated&&(Vt(e,t).flags|=256),e=Cl(e,t),e!==2&&(t=Re,Re=r,t!==null&&fs(t)),e}function fs(e){Re===null?Re=e:Re.push.apply(Re,e)}function jh(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var l=0;l<r.length;l++){var i=r[l],o=i.getSnapshot;i=i.value;try{if(!tt(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bt(e,t){for(t&=~to,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ze(t),l=1<<r;e[r]=-1,t&=~l}}function Sa(e){if(Z&6)throw Error(W(327));Sn();var t=al(e,0);if(!(t&1))return Fe(e,ue()),null;var r=Cl(e,t);if(e.tag!==0&&r===2){var l=Oi(e);l!==0&&(t=l,r=hs(e,l))}if(r===1)throw r=vr,Vt(e,0),bt(e,t),Fe(e,ue()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wt(e,Re,ot),Fe(e,ue()),null}function ro(e,t){var r=Z;Z|=1;try{return e(t)}finally{Z=r,Z===0&&(Pn=ue()+500,Nl&&Dt())}}function Kt(e){_t!==null&&_t.tag===0&&!(Z&6)&&Sn();var t=Z;Z|=1;var r=Qe.transition,l=te;try{if(Qe.transition=null,te=1,e)return e()}finally{te=l,Qe.transition=r,Z=t,!(Z&6)&&Dt()}}function lo(){Ie=xn.current,le(xn)}function Vt(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Xp(r)),pe!==null)for(r=pe.return;r!==null;){var l=r;switch(Ds(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&hl();break;case 3:Cn(),le(Ne),le(ke),Hs();break;case 5:Qs(l);break;case 4:Cn();break;case 13:le(se);break;case 19:le(se);break;case 10:Us(l.type._context);break;case 22:case 23:lo()}r=r.return}if(ge=e,pe=e=Bt(e.current,null),je=Ie=t,fe=0,vr=null,to=Dl=Xt=0,Re=er=null,Ut!==null){for(t=0;t<Ut.length;t++)if(r=Ut[t],l=r.interleaved,l!==null){r.interleaved=null;var i=l.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,l.next=a}r.pending=l}Ut=null}return e}function Dc(e,t){do{var r=pe;try{if(Ms(),Xr.current=bl,Sl){for(var l=oe.memoizedState;l!==null;){var i=l.queue;i!==null&&(i.pending=null),l=l.next}Sl=!1}if(Yt=0,me=he=oe=null,Jn=!1,yr=0,eo.current=null,r===null||r.return===null){fe=1,vr=t,pe=null;break}e:{var o=e,a=r.return,d=r,u=t;if(t=je,d.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,g=d,S=g.tag;if(!(g.mode&1)&&(S===0||S===11||S===15)){var j=g.alternate;j?(g.updateQueue=j.updateQueue,g.memoizedState=j.memoizedState,g.lanes=j.lanes):(g.updateQueue=null,g.memoizedState=null)}var P=aa(a);if(P!==null){P.flags&=-257,da(P,a,d,o,t),P.mode&1&&oa(o,c,t),t=P,u=c;var C=t.updateQueue;if(C===null){var y=new Set;y.add(u),t.updateQueue=y}else C.add(u);break e}else{if(!(t&1)){oa(o,c,t),io();break e}u=Error(W(426))}}else if(ie&&d.mode&1){var E=aa(a);if(E!==null){!(E.flags&65536)&&(E.flags|=256),da(E,a,d,o,t),Os(zn(u,d));break e}}o=u=zn(u,d),fe!==4&&(fe=2),er===null?er=[o]:er.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=Sc(o,u,t);ta(o,x);break e;case 1:d=u;var p=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Rt===null||!Rt.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var z=bc(o,d,t);ta(o,z);break e}}o=o.return}while(o!==null)}Mc(r)}catch(N){t=N,pe===r&&r!==null&&(pe=r=r.return);continue}break}while(!0)}function Oc(){var e=wl.current;return wl.current=bl,e===null?bl:e}function io(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(Xt&268435455)&&!(Dl&268435455)||bt(ge,je)}function Cl(e,t){var r=Z;Z|=2;var l=Oc();(ge!==e||je!==t)&&(ot=null,Vt(e,t));do try{Sh();break}catch(i){Dc(e,i)}while(!0);if(Ms(),Z=r,wl.current=l,pe!==null)throw Error(W(261));return ge=null,je=0,fe}function Sh(){for(;pe!==null;)Wc(pe)}function bh(){for(;pe!==null&&!Hu();)Wc(pe)}function Wc(e){var t=$c(e.alternate,e,Ie);e.memoizedProps=e.pendingProps,t===null?Mc(e):pe=t,eo.current=null}function Mc(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=xh(r,t),r!==null){r.flags&=32767,pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,pe=null;return}}else if(r=fh(r,t,Ie),r!==null){pe=r;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);fe===0&&(fe=5)}function Wt(e,t,r){var l=te,i=Qe.transition;try{Qe.transition=null,te=1,wh(e,t,r,l)}finally{Qe.transition=i,te=l}return null}function wh(e,t,r,l){do Sn();while(_t!==null);if(Z&6)throw Error(W(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(rp(e,o),e===ge&&(pe=ge=null,je=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ur||(Ur=!0,Vc(ol,function(){return Sn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Qe.transition,Qe.transition=null;var a=te;te=1;var d=Z;Z|=4,eo.current=null,mh(e,r),Ac(r,e),$p(Gi),dl=!!Vi,Gi=Vi=null,e.current=r,gh(r),qu(),Z=d,te=a,Qe.transition=o}else e.current=r;if(Ur&&(Ur=!1,_t=e,kl=i),o=e.pendingLanes,o===0&&(Rt=null),Ku(r.stateNode),Fe(e,ue()),t!==null)for(l=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],l(i.value,{componentStack:i.stack,digest:i.digest});if(_l)throw _l=!1,e=us,us=null,e;return kl&1&&e.tag!==0&&Sn(),o=e.pendingLanes,o&1?e===ps?tr++:(tr=0,ps=e):tr=0,Dt(),null}function Sn(){if(_t!==null){var e=Sd(kl),t=Qe.transition,r=te;try{if(Qe.transition=null,te=16>e?16:e,_t===null)var l=!1;else{if(e=_t,_t=null,kl=0,Z&6)throw Error(W(331));var i=Z;for(Z|=4,Q=e.current;Q!==null;){var o=Q,a=o.child;if(Q.flags&16){var d=o.deletions;if(d!==null){for(var u=0;u<d.length;u++){var c=d[u];for(Q=c;Q!==null;){var g=Q;switch(g.tag){case 0:case 11:case 15:Zn(8,g,o)}var S=g.child;if(S!==null)S.return=g,Q=S;else for(;Q!==null;){g=Q;var j=g.sibling,P=g.return;if(Lc(g),g===c){Q=null;break}if(j!==null){j.return=P,Q=j;break}Q=P}}}var C=o.alternate;if(C!==null){var y=C.child;if(y!==null){C.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}Q=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Q=a;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zn(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Q=x;break e}Q=o.return}}var p=e.current;for(Q=p;Q!==null;){a=Q;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,Q=m;else e:for(a=p;Q!==null;){if(d=Q,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:Il(9,d)}}catch(N){de(d,d.return,N)}if(d===a){Q=null;break e}var z=d.sibling;if(z!==null){z.return=d.return,Q=z;break e}Q=d.return}}if(Z=i,Dt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Tl,e)}catch{}l=!0}return l}finally{te=r,Qe.transition=t}}return!1}function ba(e,t,r){t=zn(r,t),t=Sc(e,t,1),e=Et(e,t,1),t=Pe(),e!==null&&(wr(e,1,t),Fe(e,t))}function de(e,t,r){if(e.tag===3)ba(e,e,r);else for(;t!==null;){if(t.tag===3){ba(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rt===null||!Rt.has(l))){e=zn(r,e),e=bc(t,e,1),t=Et(t,e,1),e=Pe(),t!==null&&(wr(t,1,e),Fe(t,e));break}}t=t.return}}function _h(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&r,ge===e&&(je&r)===r&&(fe===4||fe===3&&(je&130023424)===je&&500>ue()-no?Vt(e,0):to|=r),Fe(e,t)}function Uc(e,t){t===0&&(e.mode&1?(t=Lr,Lr<<=1,!(Lr&130023424)&&(Lr=4194304)):t=1);var r=Pe();e=ft(e,t),e!==null&&(wr(e,t,r),Fe(e,r))}function kh(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Uc(e,r)}function Ch(e,t){var r=0;switch(e.tag){case 13:var l=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(W(314))}l!==null&&l.delete(t),Uc(e,r)}var $c;$c=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ne.current)Be=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Be=!1,hh(e,t,r);Be=!!(e.flags&131072)}else Be=!1,ie&&t.flags&1048576&&Hd(t,yl,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Jr(e,t),e=t.pendingProps;var i=wn(t,ke.current);jn(t,r),i=Ys(null,t,l,e,i,r);var o=Xs();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(l)?(o=!0,fl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vs(t),i.updater=Fl,t.stateNode=i,i._reactInternals=t,es(t,l,e,r),t=rs(null,t,l,!0,o,r)):(t.tag=0,ie&&o&&Is(t),ze(null,t,i,r),t=t.child),t;case 16:l=t.elementType;e:{switch(Jr(e,t),e=t.pendingProps,i=l._init,l=i(l._payload),t.type=l,i=t.tag=Ph(l),e=Xe(l,e),i){case 0:t=ns(null,t,l,e,r);break e;case 1:t=pa(null,t,l,e,r);break e;case 11:t=ca(null,t,l,e,r);break e;case 14:t=ua(null,t,l,Xe(l.type,e),r);break e}throw Error(W(306,l,""))}return t;case 0:return l=t.type,i=t.pendingProps,i=t.elementType===l?i:Xe(l,i),ns(e,t,l,i,r);case 1:return l=t.type,i=t.pendingProps,i=t.elementType===l?i:Xe(l,i),pa(e,t,l,i,r);case 3:e:{if(Cc(t),e===null)throw Error(W(387));l=t.pendingProps,o=t.memoizedState,i=o.element,Zd(e,t),vl(t,l,null,r);var a=t.memoizedState;if(l=a.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=zn(Error(W(423)),t),t=ha(e,t,l,r,i);break e}else if(l!==i){i=zn(Error(W(424)),t),t=ha(e,t,l,r,i);break e}else for(De=Tt(t.stateNode.containerInfo.firstChild),Oe=t,ie=!0,Je=null,r=Kd(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_n(),l===i){t=xt(e,t,r);break e}ze(e,t,l,r)}t=t.child}return t;case 5:return ec(t),e===null&&Ki(t),l=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Qi(l,i)?a=null:o!==null&&Qi(l,o)&&(t.flags|=32),kc(e,t),ze(e,t,a,r),t.child;case 6:return e===null&&Ki(t),null;case 13:return zc(e,t,r);case 4:return Gs(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=kn(t,null,l,r):ze(e,t,l,r),t.child;case 11:return l=t.type,i=t.pendingProps,i=t.elementType===l?i:Xe(l,i),ca(e,t,l,i,r);case 7:return ze(e,t,t.pendingProps,r),t.child;case 8:return ze(e,t,t.pendingProps.children,r),t.child;case 12:return ze(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(l=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ne(ml,l._currentValue),l._currentValue=a,o!==null)if(tt(o.value,a)){if(o.children===i.children&&!Ne.current){t=xt(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var d=o.dependencies;if(d!==null){a=o.child;for(var u=d.firstContext;u!==null;){if(u.context===l){if(o.tag===1){u=ut(-1,r&-r),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var g=c.pending;g===null?u.next=u:(u.next=g.next,g.next=u),c.pending=u}}o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),Ji(o.return,r,t),d.lanes|=r;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(W(341));a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),Ji(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ze(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,l=t.pendingProps.children,jn(t,r),i=He(i),l=l(i),t.flags|=1,ze(e,t,l,r),t.child;case 14:return l=t.type,i=Xe(l,t.pendingProps),i=Xe(l.type,i),ua(e,t,l,i,r);case 15:return wc(e,t,t.type,t.pendingProps,r);case 17:return l=t.type,i=t.pendingProps,i=t.elementType===l?i:Xe(l,i),Jr(e,t),t.tag=1,Ae(l)?(e=!0,fl(t)):e=!1,jn(t,r),jc(t,l,i),es(t,l,i,r),rs(null,t,l,!0,e,r);case 19:return Pc(e,t,r);case 22:return _c(e,t,r)}throw Error(W(156,t.tag))};function Vc(e,t){return md(e,t)}function zh(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,r,l){return new zh(e,t,r,l)}function so(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ph(e){if(typeof e=="function")return so(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ks)return 11;if(e===Cs)return 14}return 2}function Bt(e,t){var r=e.alternate;return r===null?(r=Ge(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function tl(e,t,r,l,i,o){var a=2;if(l=e,typeof e=="function")so(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ln:return Gt(r.children,i,o,t);case _s:a=8,i|=8;break;case _i:return e=Ge(12,r,t,i|2),e.elementType=_i,e.lanes=o,e;case ki:return e=Ge(13,r,t,i),e.elementType=ki,e.lanes=o,e;case Ci:return e=Ge(19,r,t,i),e.elementType=Ci,e.lanes=o,e;case ed:return Ol(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ja:a=10;break e;case Za:a=9;break e;case ks:a=11;break e;case Cs:a=14;break e;case vt:a=16,l=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Ge(a,r,t,i),t.elementType=e,t.type=l,t.lanes=o,t}function Gt(e,t,r,l){return e=Ge(7,e,l,t),e.lanes=r,e}function Ol(e,t,r,l){return e=Ge(22,e,l,t),e.elementType=ed,e.lanes=r,e.stateNode={isHidden:!1},e}function vi(e,t,r){return e=Ge(6,e,null,t),e.lanes=r,e}function ji(e,t,r){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Th(e,t,r,l,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ei(0),this.expirationTimes=ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.identifierPrefix=l,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oo(e,t,r,l,i,o,a,d,u){return e=new Th(e,t,r,d,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ge(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:l,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vs(o),e}function Eh(e,t,r){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rn,key:l==null?null:""+l,children:e,containerInfo:t,implementation:r}}function Gc(e){if(!e)return At;e=e._reactInternals;e:{if(Zt(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Ae(r))return Gd(e,r,t)}return t}function Qc(e,t,r,l,i,o,a,d,u){return e=oo(r,l,!0,e,i,o,a,d,u),e.context=Gc(null),r=e.current,l=Pe(),i=Lt(r),o=ut(l,i),o.callback=t??null,Et(r,o,i),e.current.lanes=i,wr(e,i,l),Fe(e,l),e}function Wl(e,t,r,l){var i=t.current,o=Pe(),a=Lt(i);return r=Gc(r),t.context===null?t.context=r:t.pendingContext=r,t=ut(o,a),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=Et(i,t,a),e!==null&&(et(e,i,a,o),Yr(e,i,a)),a}function zl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wa(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ao(e,t){wa(e,t),(e=e.alternate)&&wa(e,t)}function Rh(){return null}var Hc=typeof reportError=="function"?reportError:function(e){console.error(e)};function co(e){this._internalRoot=e}Ml.prototype.render=co.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Wl(e,t,null,null)};Ml.prototype.unmount=co.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kt(function(){Wl(null,e,null,null)}),t[ht]=null}};function Ml(e){this._internalRoot=e}Ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=_d();e={blockedOn:null,target:e,priority:t};for(var r=0;r<St.length&&t!==0&&t<St[r].priority;r++);St.splice(r,0,e),r===0&&Cd(e)}};function uo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _a(){}function Lh(e,t,r,l,i){if(i){if(typeof l=="function"){var o=l;l=function(){var c=zl(a);o.call(c)}}var a=Qc(t,l,e,0,null,!1,!1,"",_a);return e._reactRootContainer=a,e[ht]=a.current,ur(e.nodeType===8?e.parentNode:e),Kt(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof l=="function"){var d=l;l=function(){var c=zl(u);d.call(c)}}var u=oo(e,0,!1,null,null,!1,!1,"",_a);return e._reactRootContainer=u,e[ht]=u.current,ur(e.nodeType===8?e.parentNode:e),Kt(function(){Wl(t,u,r,l)}),u}function $l(e,t,r,l,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var d=i;i=function(){var u=zl(a);d.call(u)}}Wl(t,a,e,i)}else a=Lh(r,t,e,i,l);return zl(a)}bd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gn(t.pendingLanes);r!==0&&(Ts(t,r|1),Fe(t,ue()),!(Z&6)&&(Pn=ue()+500,Dt()))}break;case 13:Kt(function(){var l=ft(e,1);if(l!==null){var i=Pe();et(l,e,1,i)}}),ao(e,1)}};Es=function(e){if(e.tag===13){var t=ft(e,134217728);if(t!==null){var r=Pe();et(t,e,134217728,r)}ao(e,134217728)}};wd=function(e){if(e.tag===13){var t=Lt(e),r=ft(e,t);if(r!==null){var l=Pe();et(r,e,t,l)}ao(e,t)}};_d=function(){return te};kd=function(e,t){var r=te;try{return te=e,t()}finally{te=r}};Fi=function(e,t,r){switch(t){case"input":if(Ti(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var i=Bl(l);if(!i)throw Error(W(90));nd(l),Ti(l,i)}}}break;case"textarea":ld(e,r);break;case"select":t=r.value,t!=null&&yn(e,!!r.multiple,t,!1)}};ud=ro;pd=Kt;var Bh={usingClientEntryPoint:!1,Events:[kr,dn,Bl,dd,cd,ro]},Un={findFiberByHostInstance:Mt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nh={bundleType:Un.bundleType,version:Un.version,rendererPackageName:Un.rendererPackageName,rendererConfig:Un.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xd(e),e===null?null:e.stateNode},findFiberByHostInstance:Un.findFiberByHostInstance||Rh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$r.isDisabled&&$r.supportsFiber)try{Tl=$r.inject(Nh),it=$r}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bh;Me.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uo(t))throw Error(W(200));return Eh(e,t,null,r)};Me.createRoot=function(e,t){if(!uo(e))throw Error(W(299));var r=!1,l="",i=Hc;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=oo(e,1,!1,null,null,r,!1,l,i),e[ht]=t.current,ur(e.nodeType===8?e.parentNode:e),new co(t)};Me.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=xd(t),e=e===null?null:e.stateNode,e};Me.flushSync=function(e){return Kt(e)};Me.hydrate=function(e,t,r){if(!Ul(t))throw Error(W(200));return $l(null,e,t,!0,r)};Me.hydrateRoot=function(e,t,r){if(!uo(e))throw Error(W(405));var l=r!=null&&r.hydratedSources||null,i=!1,o="",a=Hc;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Qc(t,null,e,1,r??null,i,!1,o,a),e[ht]=t.current,ur(e),l)for(e=0;e<l.length;e++)r=l[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Ml(t)};Me.render=function(e,t,r){if(!Ul(t))throw Error(W(200));return $l(null,e,t,!1,r)};Me.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(W(40));return e._reactRootContainer?(Kt(function(){$l(null,null,e,!1,function(){e._reactRootContainer=null,e[ht]=null})}),!0):!1};Me.unstable_batchedUpdates=ro;Me.unstable_renderSubtreeIntoContainer=function(e,t,r,l){if(!Ul(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return $l(e,t,r,!1,l)};Me.version="18.3.1-next-f1338f8080-20240426";function qc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qc)}catch(e){console.error(e)}}qc(),qa.exports=Me;var Ah=qa.exports,ka=Ah;bi.createRoot=ka.createRoot,bi.hydrateRoot=ka.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},jr.apply(this,arguments)}var kt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(kt||(kt={}));const Ca="popstate";function Fh(e){e===void 0&&(e={});function t(l,i){let{pathname:o,search:a,hash:d}=l.location;return xs("",{pathname:o,search:a,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(l,i){return typeof i=="string"?i:Yc(i)}return Dh(t,r,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function po(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ih(){return Math.random().toString(36).substr(2,8)}function za(e,t){return{usr:e.state,key:e.key,idx:t}}function xs(e,t,r,l){return r===void 0&&(r=null),jr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ln(t):t,{state:r,key:t&&t.key||l||Ih()})}function Yc(e){let{pathname:t="/",search:r="",hash:l=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function Ln(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let l=e.indexOf("?");l>=0&&(t.search=e.substr(l),e=e.substr(0,l)),e&&(t.pathname=e)}return t}function Dh(e,t,r,l){l===void 0&&(l={});let{window:i=document.defaultView,v5Compat:o=!1}=l,a=i.history,d=kt.Pop,u=null,c=g();c==null&&(c=0,a.replaceState(jr({},a.state,{idx:c}),""));function g(){return(a.state||{idx:null}).idx}function S(){d=kt.Pop;let E=g(),x=E==null?null:E-c;c=E,u&&u({action:d,location:y.location,delta:x})}function j(E,x){d=kt.Push;let p=xs(y.location,E,x);c=g()+1;let m=za(p,c),z=y.createHref(p);try{a.pushState(m,"",z)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(z)}o&&u&&u({action:d,location:y.location,delta:1})}function P(E,x){d=kt.Replace;let p=xs(y.location,E,x);c=g();let m=za(p,c),z=y.createHref(p);a.replaceState(m,"",z),o&&u&&u({action:d,location:y.location,delta:0})}function C(E){let x=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:Yc(E);return p=p.replace(/ $/,"%20"),xe(x,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,x)}let y={get action(){return d},get location(){return e(i,a)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Ca,S),u=E,()=>{i.removeEventListener(Ca,S),u=null}},createHref(E){return t(i,E)},createURL:C,encodeLocation(E){let x=C(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:j,replace:P,go(E){return a.go(E)}};return y}var Pa;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pa||(Pa={}));function Oh(e,t,r){return r===void 0&&(r="/"),Wh(e,t,r)}function Wh(e,t,r,l){let i=typeof t=="string"?Ln(t):t,o=Jc(i.pathname||"/",r);if(o==null)return null;let a=Xc(e);Mh(a);let d=null;for(let u=0;d==null&&u<a.length;++u){let c=Zh(o);d=Xh(a[u],c)}return d}function Xc(e,t,r,l){t===void 0&&(t=[]),r===void 0&&(r=[]),l===void 0&&(l="");let i=(o,a,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(xe(u.relativePath.startsWith(l),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(l.length));let c=Qt([l,u.relativePath]),g=r.concat(u);o.children&&o.children.length>0&&(xe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Xc(o.children,t,g,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:qh(c,o.index),routesMeta:g})};return e.forEach((o,a)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,a);else for(let u of Kc(o.path))i(o,a,u)}),t}function Kc(e){let t=e.split("/");if(t.length===0)return[];let[r,...l]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(l.length===0)return i?[o,""]:[o];let a=Kc(l.join("/")),d=[];return d.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&d.push(...a),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function Mh(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Yh(t.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}const Uh=/^:[\w-]+$/,$h=3,Vh=2,Gh=1,Qh=10,Hh=-2,Ta=e=>e==="*";function qh(e,t){let r=e.split("/"),l=r.length;return r.some(Ta)&&(l+=Hh),t&&(l+=Vh),r.filter(i=>!Ta(i)).reduce((i,o)=>i+(Uh.test(o)?$h:o===""?Gh:Qh),l)}function Yh(e,t){return e.length===t.length&&e.slice(0,-1).every((l,i)=>l===t[i])?e[e.length-1]-t[t.length-1]:0}function Xh(e,t,r){let{routesMeta:l}=e,i={},o="/",a=[];for(let d=0;d<l.length;++d){let u=l[d],c=d===l.length-1,g=o==="/"?t:t.slice(o.length)||"/",S=Kh({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},g),j=u.route;if(!S)return null;Object.assign(i,S.params),a.push({params:i,pathname:Qt([o,S.pathname]),pathnameBase:of(Qt([o,S.pathnameBase])),route:j}),S.pathnameBase!=="/"&&(o=Qt([o,S.pathnameBase]))}return a}function Kh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,l]=Jh(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:l.reduce((c,g,S)=>{let{paramName:j,isOptional:P}=g;if(j==="*"){let y=d[S]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const C=d[S];return P&&!C?c[j]=void 0:c[j]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:e}}function Jh(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),po(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let l=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,d,u)=>(l.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(l.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),l]}function Zh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return po(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,l=e.charAt(r);return l&&l!=="/"?null:e.slice(r)||"/"}const ef=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tf=e=>ef.test(e);function nf(e,t){t===void 0&&(t="/");let{pathname:r,search:l="",hash:i=""}=typeof e=="string"?Ln(e):e,o;if(r)if(tf(r))o=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),po(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?o=Ea(r.substring(1),"/"):o=Ea(r,t)}else o=t;return{pathname:o,search:af(l),hash:df(i)}}function Ea(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Si(e,t,r,l){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rf(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lf(e,t){let r=rf(e);return t?r.map((l,i)=>i===r.length-1?l.pathname:l.pathnameBase):r.map(l=>l.pathnameBase)}function sf(e,t,r,l){l===void 0&&(l=!1);let i;typeof e=="string"?i=Ln(e):(i=jr({},e),xe(!i.pathname||!i.pathname.includes("?"),Si("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),Si("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),Si("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,d;if(a==null)d=r;else{let S=t.length-1;if(!l&&a.startsWith("..")){let j=a.split("/");for(;j[0]==="..";)j.shift(),S-=1;i.pathname=j.join("/")}d=S>=0?t[S]:"/"}let u=nf(i,d),c=a&&a!=="/"&&a.endsWith("/"),g=(o||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||g)&&(u.pathname+="/"),u}const Qt=e=>e.join("/").replace(/\/\/+/g,"/"),of=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),af=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,df=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zc=["post","put","patch","delete"];new Set(Zc);const uf=["get",...Zc];new Set(uf);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sr(){return Sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Sr.apply(this,arguments)}const ho=v.createContext(null),pf=v.createContext(null),Vl=v.createContext(null),Gl=v.createContext(null),en=v.createContext({outlet:null,matches:[],isDataRoute:!1}),eu=v.createContext(null);function Ql(){return v.useContext(Gl)!=null}function tu(){return Ql()||xe(!1),v.useContext(Gl).location}function nu(e){v.useContext(Vl).static||v.useLayoutEffect(e)}function Bn(){let{isDataRoute:e}=v.useContext(en);return e?kf():hf()}function hf(){Ql()||xe(!1);let e=v.useContext(ho),{basename:t,future:r,navigator:l}=v.useContext(Vl),{matches:i}=v.useContext(en),{pathname:o}=tu(),a=JSON.stringify(lf(i,r.v7_relativeSplatPath)),d=v.useRef(!1);return nu(()=>{d.current=!0}),v.useCallback(function(c,g){if(g===void 0&&(g={}),!d.current)return;if(typeof c=="number"){l.go(c);return}let S=sf(c,JSON.parse(a),o,g.relative==="path");e==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:Qt([t,S.pathname])),(g.replace?l.replace:l.push)(S,g.state,g)},[t,l,a,o,e])}function fo(){let{matches:e}=v.useContext(en),t=e[e.length-1];return t?t.params:{}}function ff(e,t){return xf(e,t)}function xf(e,t,r,l){Ql()||xe(!1);let{navigator:i}=v.useContext(Vl),{matches:o}=v.useContext(en),a=o[o.length-1],d=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=tu(),g;if(t){var S;let E=typeof t=="string"?Ln(t):t;u==="/"||(S=E.pathname)!=null&&S.startsWith(u)||xe(!1),g=E}else g=c;let j=g.pathname||"/",P=j;if(u!=="/"){let E=u.replace(/^\//,"").split("/");P="/"+j.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=Oh(e,{pathname:P}),y=jf(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:Qt([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Qt([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,r,l);return t&&y?v.createElement(Gl.Provider,{value:{location:Sr({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:kt.Pop}},y):y}function yf(){let e=_f(),t=cf(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:i},r):null,null)}const mf=v.createElement(yf,null);class gf extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(en.Provider,{value:this.props.routeContext},v.createElement(eu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vf(e){let{routeContext:t,match:r,children:l}=e,i=v.useContext(ho);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(en.Provider,{value:t},l)}function jf(e,t,r,l){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),l===void 0&&(l=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=l)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,d=(i=r)==null?void 0:i.errors;if(d!=null){let g=a.findIndex(S=>S.route.id&&(d==null?void 0:d[S.route.id])!==void 0);g>=0||xe(!1),a=a.slice(0,Math.min(a.length,g+1))}let u=!1,c=-1;if(r&&l&&l.v7_partialHydration)for(let g=0;g<a.length;g++){let S=a[g];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(c=g),S.route.id){let{loaderData:j,errors:P}=r,C=S.route.loader&&j[S.route.id]===void 0&&(!P||P[S.route.id]===void 0);if(S.route.lazy||C){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((g,S,j)=>{let P,C=!1,y=null,E=null;r&&(P=d&&S.route.id?d[S.route.id]:void 0,y=S.route.errorElement||mf,u&&(c<0&&j===0?(Cf("route-fallback"),C=!0,E=null):c===j&&(C=!0,E=S.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,j+1)),p=()=>{let m;return P?m=y:C?m=E:S.route.Component?m=v.createElement(S.route.Component,null):S.route.element?m=S.route.element:m=g,v.createElement(vf,{match:S,routeContext:{outlet:g,matches:x,isDataRoute:r!=null},children:m})};return r&&(S.route.ErrorBoundary||S.route.errorElement||j===0)?v.createElement(gf,{location:r.location,revalidation:r.revalidation,component:y,error:P,children:p(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):p()},null)}var ru=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ru||{}),lu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lu||{});function Sf(e){let t=v.useContext(ho);return t||xe(!1),t}function bf(e){let t=v.useContext(pf);return t||xe(!1),t}function wf(e){let t=v.useContext(en);return t||xe(!1),t}function iu(e){let t=wf(),r=t.matches[t.matches.length-1];return r.route.id||xe(!1),r.route.id}function _f(){var e;let t=v.useContext(eu),r=bf(),l=iu();return t!==void 0?t:(e=r.errors)==null?void 0:e[l]}function kf(){let{router:e}=Sf(ru.UseNavigateStable),t=iu(lu.UseNavigateStable),r=v.useRef(!1);return nu(()=>{r.current=!0}),v.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Sr({fromRouteId:t},o)))},[e,t])}const Ra={};function Cf(e,t,r){Ra[e]||(Ra[e]=!0)}function zf(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gt(e){xe(!1)}function Pf(e){let{basename:t="/",children:r=null,location:l,navigationType:i=kt.Pop,navigator:o,static:a=!1,future:d}=e;Ql()&&xe(!1);let u=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:u,navigator:o,static:a,future:Sr({v7_relativeSplatPath:!1},d)}),[u,d,o,a]);typeof l=="string"&&(l=Ln(l));let{pathname:g="/",search:S="",hash:j="",state:P=null,key:C="default"}=l,y=v.useMemo(()=>{let E=Jc(g,u);return E==null?null:{location:{pathname:E,search:S,hash:j,state:P,key:C},navigationType:i}},[u,g,S,j,P,C,i]);return y==null?null:v.createElement(Vl.Provider,{value:c},v.createElement(Gl.Provider,{children:r,value:y}))}function Tf(e){let{children:t,location:r}=e;return ff(ys(t),r)}new Promise(()=>{});function ys(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(l,i)=>{if(!v.isValidElement(l))return;let o=[...t,i];if(l.type===v.Fragment){r.push.apply(r,ys(l.props.children,o));return}l.type!==gt&&xe(!1),!l.props.index||!l.props.children||xe(!1);let a={id:l.props.id||o.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(a.children=ys(l.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ef="6";try{window.__reactRouterVersion=Ef}catch{}const Rf="startTransition",La=_u[Rf];function Lf(e){let{basename:t,children:r,future:l,window:i}=e,o=v.useRef();o.current==null&&(o.current=Fh({window:i,v5Compat:!0}));let a=o.current,[d,u]=v.useState({action:a.action,location:a.location}),{v7_startTransition:c}=l||{},g=v.useCallback(S=>{c&&La?La(()=>u(S)):u(S)},[u,c]);return v.useLayoutEffect(()=>a.listen(g),[a,g]),v.useEffect(()=>zf(l),[l]),v.createElement(Pf,{basename:t,children:r,location:d.location,navigationType:d.action,navigator:a,future:l})}var Ba;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ba||(Ba={}));var Na;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Na||(Na={}));function Bf(){const e=Bn(),[t,r]=v.useState([]),[l,i]=v.useState([]),[o,a]=v.useState(!1),[d,u]=v.useState(!0),[c,g]=v.useState(!1),[S,j]=v.useState(null),P=v.useRef(),[C,y]=v.useState(null),[E,x]=v.useState(!1),[p,m]=v.useState({project_name:"",customer_id:"",finish_type:"None",project_manager:"",start_date:"",due_date:""});v.useEffect(()=>{z()},[E]);const z=async()=>{try{const[f,R]=await Promise.all([fetch(`/api/projects?include_archived=${E}`),fetch("/api/companies")]);f.ok&&r(await f.json()),R.ok&&i(await R.json())}catch(f){console.error(f)}u(!1)},N=f=>{const R=f.target.files[0];if(!R)return;y(R);const D=R.name.replace(".xml","").replace(/_/g," ");m(w=>({...w,project_name:w.project_name||D})),a(!0)},I=async()=>{g(!0),j(null);try{const f=new FormData;if(C&&f.append("file",C),f.append("project_name",p.project_name),f.append("customer_id",p.customer_id||"0"),f.append("finish_type",p.finish_type),f.append("project_manager",p.project_manager),f.append("start_date",p.start_date),f.append("due_date",p.due_date),C){const R=await fetch("/api/projects/create-from-xml",{method:"POST",body:f}),D=await R.json();R.ok?(j(D),a(!1),F(),z(),setTimeout(()=>e(`/project/${D.project_id}`),500)):j({error:D.detail||"Import failed"})}else{const R=await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_name:p.project_name,customer_id:p.customer_id?parseInt(p.customer_id):null,finish_type:p.finish_type,project_manager:p.project_manager,start_date:p.start_date||null,due_date:p.due_date||null})});if(R.ok){const D=await R.json();a(!1),F(),z(),e(`/project/${D.id}`)}}}catch(f){j({error:f.message})}g(!1)},F=()=>{m({project_name:"",customer_id:"",finish_type:"None",project_manager:"",start_date:"",due_date:""}),y(null),P.current&&(P.current.value="")},U=f=>{if(!f.station_summary)return"#333";const R=f.assembly_count||0;if(R===0)return"#333";const w=((f.station_summary.Shipped||0)+(f.station_summary["Shipped from Galvanizer"]||0))/R;return w>=1?"#166534":w>=.5?"#854d0e":"#1e3a5f"},T=f=>{var w,A;const R=f.assembly_count||0;if(R===0)return 0;const D=(((w=f.station_summary)==null?void 0:w.Shipped)||0)+(((A=f.station_summary)==null?void 0:A["Shipped from Galvanizer"])||0);return Math.round(D/R*100)};return d?n.jsx("div",{style:s.page,children:n.jsx("p",{children:"Loading projects..."})}):n.jsxs("div",{style:s.page,children:[n.jsx(tn,{title:"Projects"}),S&&!S.error&&n.jsxs("div",{style:{...s.card,marginBottom:"16px",background:"#0a2e0a",borderColor:"#166534"},children:[n.jsxs("span",{style:{color:"#4ade80",fontWeight:"600"},children:[" Project ",S.job_number," Created"]}),n.jsxs("span",{style:{marginLeft:"16px",color:"#9ca3af"},children:[S.assemblies_imported," assemblies, ",S.parts_imported," parts, ",S.drawings_imported," drawings imported"]})]}),(S==null?void 0:S.error)&&n.jsx("div",{style:{...s.card,marginBottom:"16px",background:"#3b1111",borderColor:"#7f1d1d"},children:n.jsxs("span",{style:{color:"#fca5a5"},children:[" ",S.error]})}),n.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"12px"},children:n.jsxs("label",{style:{fontSize:"12px",color:"#6b7280",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("input",{type:"checkbox",checked:E,onChange:f=>x(f.target.checked),style:{accentColor:"#6b7280"}}),"Show Archived (",t.filter(f=>f.archived).length,")"]})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"16px",marginBottom:"20px"},children:[n.jsxs("div",{onClick:()=>{a(!0),y(null)},style:{...s.card,cursor:"pointer",border:"2px dashed #555",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"200px",transition:"border-color 0.2s"},onMouseEnter:f=>f.currentTarget.style.borderColor="#3b82f6",onMouseLeave:f=>f.currentTarget.style.borderColor="#555",children:[n.jsx("div",{style:{fontSize:"48px",marginBottom:"8px"},children:"+"}),n.jsx("div",{style:{fontSize:"16px",color:"#9ca3af"},children:"New Project"}),n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Create empty or import XML"})]}),n.jsxs("div",{onClick:()=>{var f;return(f=P.current)==null?void 0:f.click()},style:{...s.card,cursor:"pointer",border:"2px dashed #b45309",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"200px",transition:"border-color 0.2s"},onMouseEnter:f=>f.currentTarget.style.borderColor="#f59e0b",onMouseLeave:f=>f.currentTarget.style.borderColor="#b45309",children:[n.jsx("div",{style:{fontSize:"48px",marginBottom:"8px"},children:""}),n.jsx("div",{style:{fontSize:"16px",color:"#f59e0b"},children:"Import Tekla XML"}),n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Upload XML to create project"}),n.jsx("input",{ref:P,type:"file",accept:".xml",onChange:N,style:{display:"none"}})]}),t.map(f=>n.jsxs("div",{onClick:()=>e(`/project/${f.id}`),style:{...s.card,cursor:"pointer",position:"relative",borderLeft:`4px solid ${U(f)}`,transition:"transform 0.15s, box-shadow 0.15s"},onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-2px)",R.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.3)"},onMouseLeave:R=>{R.currentTarget.style.transform="",R.currentTarget.style.boxShadow=""},children:[n.jsxs("div",{style:s.flexBetween,children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"#3b82f6"},children:f.job_number}),n.jsx("div",{style:{fontSize:"14px",color:"#d1d5db",marginTop:"4px"},children:f.project_name})]}),n.jsx("span",{style:s.badge(f.status==="Active"?"green":f.status==="Hold"?"yellow":"gray"),children:f.status})]}),n.jsxs("div",{style:{display:"flex",gap:"12px",fontSize:"12px",color:"#6b7280",marginTop:"8px"},children:[f.customer_name&&n.jsxs("span",{children:[" ",f.customer_name]}),f.project_manager&&n.jsxs("span",{children:[" PM: ",f.project_manager]})]}),f.archived&&n.jsx("span",{style:{position:"absolute",top:"8px",right:"8px",fontSize:"10px",background:"#44403c",color:"#a8a29e",padding:"2px 6px",borderRadius:"4px"},children:" Archived"}),n.jsxs("div",{style:{...s.grid3,marginTop:"12px"},children:[n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"22px",fontWeight:"700"},children:f.assembly_count||0}),n.jsx("div",{style:{fontSize:"10px",color:"#6b7280"},children:"ASSEMBLIES"})]}),n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"22px",fontWeight:"700"},children:f.drawing_count||0}),n.jsx("div",{style:{fontSize:"10px",color:"#6b7280"},children:"DRAWINGS"})]}),n.jsxs("div",{style:{textAlign:"center"},children:[n.jsxs("div",{style:{fontSize:"22px",fontWeight:"700",color:"#22c55e"},children:[T(f),"%"]}),n.jsx("div",{style:{fontSize:"10px",color:"#6b7280"},children:"SHIPPED"})]})]}),n.jsx("div",{style:{marginTop:"12px",background:"#333",borderRadius:"4px",height:"6px",overflow:"hidden"},children:n.jsx("div",{style:{width:`${T(f)}%`,background:"#22c55e",height:"100%",borderRadius:"4px",transition:"width 0.3s"}})}),f.station_summary&&Object.keys(f.station_summary).length>0&&n.jsx("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",gap:"4px"},children:Object.entries(f.station_summary).slice(0,5).map(([R,D])=>n.jsxs("span",{style:{padding:"2px 6px",borderRadius:"4px",fontSize:"10px",background:`${Le[R]||"#333"}33`,color:Le[R]||"#999"},children:[R.replace("QC - ","").replace(" Inspection",""),": ",D]},R))}),n.jsxs("div",{style:{marginTop:"10px",display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#6b7280"},children:[n.jsxs("div",{children:[f.start_date&&n.jsxs("span",{children:["Start: ",f.start_date]}),f.start_date&&f.due_date&&" | ",f.due_date&&n.jsxs("span",{children:["Due: ",f.due_date]})]}),n.jsxs("div",{style:{display:"flex",gap:"4px"},onClick:R=>R.stopPropagation(),children:[f.archived?n.jsx("button",{onClick:async()=>{await fetch(`/api/projects/${f.id}/unarchive`,{method:"PUT"}),z()},style:{background:"none",border:"none",cursor:"pointer",fontSize:"14px",opacity:.5},title:"Unarchive",children:""}):n.jsx("button",{onClick:async()=>{confirm("Archive this project?")&&(await fetch(`/api/projects/${f.id}/archive`,{method:"PUT"}),z())},style:{background:"none",border:"none",cursor:"pointer",fontSize:"14px",opacity:.5},title:"Archive",children:""}),n.jsx("button",{onClick:async()=>{confirm(`DELETE project ${f.job_number}? This cannot be undone!`)&&(await fetch(`/api/projects/${f.id}`,{method:"DELETE"}),z())},style:{background:"none",border:"none",cursor:"pointer",fontSize:"14px",opacity:.5},title:"Delete",children:""})]})]})]},f.id))]}),o&&n.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:n.jsxs("div",{style:{...s.card,width:"100%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},children:[n.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",marginBottom:"16px"},children:C?" Import Project from XML":" New Project"}),C?n.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#1a2e1a",borderRadius:"8px",border:"1px solid #166534"},children:[n.jsxs("div",{style:{fontSize:"14px",color:"#4ade80",fontWeight:"600"},children:[" ",C.name]}),n.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:[(C.size/1024).toFixed(0)," KB  Ready to import"]}),n.jsx("button",{onClick:()=>{y(null),P.current&&(P.current.value="")},style:{...s.btn,...s.btnGray,padding:"4px 8px",fontSize:"11px",marginTop:"8px"},children:" Remove File"})]}):n.jsx("div",{style:{marginBottom:"16px"},children:n.jsxs("label",{style:{display:"block",padding:"20px",border:"2px dashed #555",borderRadius:"8px",textAlign:"center",cursor:"pointer",transition:"border-color 0.2s"},onMouseEnter:f=>f.currentTarget.style.borderColor="#b45309",onMouseLeave:f=>f.currentTarget.style.borderColor="#555",children:[n.jsx("div",{style:{fontSize:"24px",marginBottom:"4px"},children:""}),n.jsx("div",{style:{color:"#f59e0b",fontWeight:"600"},children:"Click to upload Tekla XML"}),n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Optional  or create empty project"}),n.jsx("input",{type:"file",accept:".xml",onChange:N,style:{display:"none"}})]})}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:s.label,children:"Project Name *"}),n.jsx("input",{style:s.input,value:p.project_name,onChange:f=>m({...p,project_name:f.target.value}),placeholder:"CYPRESS EQUITIES RDNI - PARCEL 2A"}),n.jsx("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:"Job number auto-generates (26-XXXX)"})]}),n.jsxs("div",{style:{...s.grid2,marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Customer"}),n.jsxs("select",{style:s.select,value:p.customer_id,onChange:f=>m({...p,customer_id:f.target.value}),children:[n.jsx("option",{value:"",children:" Select "}),l.map(f=>n.jsx("option",{value:f.id,children:f.name},f.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Project Manager"}),n.jsx("input",{style:s.input,value:p.project_manager,onChange:f=>m({...p,project_manager:f.target.value}),placeholder:"Name"})]})]}),n.jsxs("div",{style:{...s.grid2,marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Start Date"}),n.jsx("input",{type:"date",style:{...s.input,colorScheme:"dark"},value:p.start_date,onChange:f=>m({...p,start_date:f.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Due Date"}),n.jsx("input",{type:"date",style:{...s.input,colorScheme:"dark"},value:p.due_date,onChange:f=>m({...p,due_date:f.target.value})})]})]}),n.jsxs("div",{style:{...s.flexGap,justifyContent:"flex-end"},children:[n.jsx("button",{onClick:()=>{a(!1),F()},style:{...s.btn,...s.btnGray},children:"Cancel"}),n.jsx("button",{onClick:I,disabled:!p.project_name||c,style:{...s.btn,...C?{background:"#b45309",color:"white"}:s.btnPrimary,opacity:p.project_name&&!c?1:.5},children:c?" Importing...":C?" Create & Import":"Create Project"})]})]})})]})}const G="",ce=e=>e?`$${Number(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"$0.00",nl=e=>e?`${Number(e).toLocaleString()}#`:"0#",rl=()=>new Date().toLocaleDateString("en-US")+" "+new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),Y={th:{border:"1px solid #999",padding:"4px 6px",textAlign:"left",fontSize:"10px",fontWeight:"700",background:"#e0e0e0"},td:{border:"1px solid #999",padding:"4px 6px",fontSize:"10px"}};function xo({title:e,onClose:t,children:r}){const l=v.useRef(),i=()=>{const o=window.open("","_blank");o.document.write("<!DOCTYPE html><html><head><title>"+e+"</title><style>* { margin:0; padding:0; box-sizing:border-box; } body { font-family: Arial, Helvetica, sans-serif; font-size: 11px; color: #000; background: #fff; padding: 20px; } table { width: 100%; border-collapse: collapse; } th, td { border: 1px solid #999; padding: 4px 6px; text-align: left; font-size: 10px; } th { background: #e0e0e0; font-weight: 700; } @media print { body { padding: 0; } }</style></head><body>"+l.current.innerHTML+"</body></html>"),o.document.close(),setTimeout(()=>{o.print(),o.close()},300)};return n.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",zIndex:9999,overflow:"auto",padding:"20px"},children:n.jsxs("div",{style:{maxWidth:"850px",margin:"0 auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("button",{onClick:i,style:{...s.btn,...s.btnGreen,padding:"8px 24px"},children:" Print"}),n.jsx("button",{onClick:t,style:{...s.btn,...s.btnRed,padding:"8px 24px"},children:" Close"})]}),n.jsx("div",{ref:l,style:{background:"#fff",color:"#000",padding:"30px",borderRadius:"4px",fontFamily:"Arial, sans-serif",fontSize:"11px",lineHeight:1.4},children:r})]})})}function nr({docTitle:e,docNumber:t}){return n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px",paddingBottom:"8px",borderBottom:"3px solid #000"},children:[n.jsxs("div",{style:{fontSize:"10px",lineHeight:1.5},children:[n.jsx("div",{style:{fontWeight:"700",fontSize:"13px"},children:"Southern Services and Equipment"}),n.jsx("div",{children:"321 Bayou Rd"}),n.jsx("div",{children:"St. Bernard, La 70085"}),n.jsx("div",{children:"Phone: 504-682-8800"}),n.jsx("div",{children:"Fax: 504-682-8881"})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("div",{style:{fontSize:"18px",fontWeight:"700"},children:e}),t&&n.jsx("div",{style:{fontSize:"11px",marginTop:"4px"},children:n.jsx("b",{children:t})}),n.jsx("div",{style:{fontSize:"10px",marginTop:"2px"},children:rl()})]})]})}function yo(){return n.jsx("div",{style:{marginTop:"20px",fontSize:"9px",textAlign:"center",color:"#666",borderTop:"1px solid #ccc",paddingTop:"8px"},children:"Southern Services and Equipment | 321 Bayou Rd, St. Bernard, La 70085 | 504-682-8800"})}function Nf({projectId:e,jobNumber:t}){const[r,l]=v.useState([]),[i,o]=v.useState(new Set),[a,d]=v.useState(null),[u,c]=v.useState([]),[g,S]=v.useState(!1),[j,P]=v.useState(""),[C,y]=v.useState(""),[E,x]=v.useState("mult"),[p,m]=v.useState([]),[z,N]=v.useState({});v.useEffect(()=>{I(),F(),U()},[e]);const I=async()=>{const h=await fetch(G+"/api/v2/projects/"+e+"/nestable-parts");h.ok&&l(await h.json())},F=async()=>{const h=await fetch(G+"/api/v2/projects/"+e+"/nest-runs");h.ok&&c(await h.json())},U=async()=>{const h=await fetch(G+"/api/v2/stock-config");h.ok&&m(await h.json())},T=["W","WF","HSS","HSSR","RT","TS","PIPE","L","C","MC","S"],f=["PL","PLATE"],R=h=>T.includes(h.toUpperCase()),D=h=>f.includes(h.toUpperCase()),w=r.filter(h=>E==="mult"?R(h.shape):E==="plate"?D(h.shape):!0),A=C?w.filter(h=>h.shape+" "+h.dimensions===C):w,$=h=>{const k={W:"W",WF:"W",HSS:"HSS",TS:"HSS",HSSR:"HSSR",RT:"RT",PIPE:"PIPE",L:"L",C:"C",MC:"MC",S:"S",PL:"PL",PLATE:"PL"}[h.toUpperCase()]||h.toUpperCase();return p.find(_=>_.shape_code===k)},X=h=>{const M=r.find(_=>_.id===h);if(M&&M.is_locked)return;const k=new Set(i);k.has(h)?k.delete(h):k.add(h),!i.has(h)&&M&&M.is_main_member&&r.filter(_=>_.assembly_id===M.assembly_id&&!_.is_locked).forEach(_=>k.add(_.id)),o(k)},L=(h,M,k)=>{const _=new Set(i);w.filter(V=>V.shape===h&&V.dimensions===M&&V.grade===k&&!V.is_locked).forEach(V=>_.add(V.id)),o(_)},B=(h,M,k)=>{const _=new Set(i);w.filter(V=>V.shape===h&&V.dimensions===M&&V.grade===k).forEach(V=>_.delete(V.id)),o(_)},b=()=>{const h=new Set(i);w.filter(M=>!M.is_locked).forEach(M=>h.add(M.id)),o(h)},O=async()=>{if(i.size===0)return alert("Select parts to nest");S(!0);try{const h={};Object.entries(z).forEach(([_,V])=>{V&&V.trim()&&(h[_.toUpperCase()]=V.split(",").map(K=>parseFloat(K.trim())).filter(K=>K>0))});const M=await fetch(G+"/api/v2/projects/"+e+"/run-nest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({part_ids:[...i],stock_length_inches:0,stock_overrides:h,operator:j,nest_mode:E})}),k=await M.json();M.ok?(d(k),o(new Set),I(),F()):alert(k.detail||"Nesting failed")}finally{S(!1)}},q={};A.forEach(h=>{const M=h.shape+"|"+h.dimensions+"|"+h.grade;q[M]||(q[M]={shape:h.shape,dimensions:h.dimensions,grade:h.grade,parts:[]}),q[M].parts.push(h)});const H=[...new Set(w.map(h=>h.shape+" "+h.dimensions))],ee={mult:"#3b82f6",plate:"#f59e0b",both:"#8b5cf6"};return n.jsxs("div",{children:[n.jsxs("div",{style:{...s.card,marginBottom:"12px"},children:[n.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[{key:"mult",label:" Mult (Linear)",desc:"W, HSS, Pipe, Angle, Channel, S Beams"},{key:"plate",label:" Nest Plate",desc:"Plate stock"},{key:"both",label:" Mult + Nest",desc:"All shapes combined"}].map(h=>n.jsxs("button",{onClick:()=>{x(h.key),o(new Set),y("")},style:{...s.btn,flex:1,padding:"12px",background:E===h.key?ee[h.key]:"#1f2937",color:E===h.key?"white":"#9ca3af",border:E===h.key?"2px solid "+ee[h.key]:"1px solid #374151",borderRadius:"8px",textAlign:"left"},children:[n.jsx("div",{style:{fontWeight:"700",fontSize:"14px"},children:h.label}),n.jsx("div",{style:{fontSize:"11px",marginTop:"2px",opacity:.8},children:h.desc})]},h.key))}),n.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[n.jsxs("label",{style:{fontSize:"13px",color:"#9ca3af"},children:["Operator:",n.jsx("input",{value:j,onChange:h=>P(h.target.value),style:{...s.input,width:"150px",marginLeft:"8px"},placeholder:"Name"})]}),n.jsxs("label",{style:{fontSize:"13px",color:"#9ca3af"},children:["Filter Shape:",n.jsxs("select",{value:C,onChange:h=>y(h.target.value),style:{...s.input,marginLeft:"8px"},children:[n.jsx("option",{value:"",children:"All Shapes"}),H.map(h=>n.jsx("option",{value:h,children:h},h))]})]}),n.jsx("button",{onClick:b,style:{...s.btn,...s.btnGray,fontSize:"12px"},children:"Select All Visible"}),n.jsx("div",{style:{flex:1}}),n.jsxs("span",{style:{color:ee[E],fontWeight:"600"},children:[i.size," parts selected"]}),n.jsx("button",{onClick:O,disabled:g||i.size===0,style:{...s.btn,background:ee[E],color:"white",opacity:i.size===0?.5:1,padding:"8px 20px"},children:g?" Running...":" Run Nest"})]})]}),p.length>0&&n.jsxs("div",{style:{...s.card,marginBottom:"12px",padding:"10px 16px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"6px"},children:" Stock Library (auto-selected per shape):"}),n.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",fontSize:"11px",marginBottom:"8px"},children:p.filter(h=>E==="plate"?h.nest_type==="plate":E==="mult"?h.nest_type==="mult":!0).map(h=>n.jsxs("span",{style:{padding:"2px 8px",background:"#1a1a2e",borderRadius:"4px",color:"#9ca3af"},children:[n.jsx("b",{style:{color:"#60a5fa"},children:h.shape_code}),": ",h.nest_type==="plate"?(h.available_lengths||[]).length+" plate sizes":(h.available_lengths||[]).map(M=>M+"'").join(", ")]},h.id))}),n.jsxs("details",{style:{marginTop:"4px"},children:[n.jsx("summary",{style:{cursor:"pointer",fontSize:"12px",color:"#f59e0b",fontWeight:"600"},children:" Manual Stock Length Overrides (click to expand)"}),n.jsxs("div",{style:{marginTop:"8px",padding:"10px",background:"#1a1a0a",borderRadius:"6px",border:"1px solid #854d0e"},children:[n.jsx("div",{style:{fontSize:"11px",color:"#9ca3af",marginBottom:"8px"},children:"Override stock lengths per shape. Enter lengths in feet, comma-separated. Leave blank to use defaults."}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"6px"},children:p.filter(h=>h.nest_type==="mult").map(h=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("span",{style:{fontSize:"11px",fontWeight:"700",color:"#60a5fa",width:"40px"},children:h.shape_code}),n.jsx("input",{value:z[h.shape_code]||"",onChange:M=>N(k=>({...k,[h.shape_code]:M.target.value})),placeholder:(h.available_lengths||[]).join(", "),style:{...s.input,flex:1,fontSize:"11px",padding:"4px 6px"}}),n.jsx("span",{style:{fontSize:"10px",color:"#6b7280"},children:"ft"})]},h.shape_code))}),n.jsx("div",{style:{fontSize:"10px",color:"#9ca3af",marginTop:"6px"},children:`Example: For PIPE enter "21" to only nest from 21' pipe instead of 21' and 42'`})]})]})]}),a&&n.jsxs("div",{style:{...s.card,marginBottom:"12px",background:"#0a2e0a",borderColor:"#166534"},children:[n.jsxs("div",{style:{fontWeight:"700",marginBottom:"8px",color:"#4ade80"},children:[" Nest Complete  Yield: ",a.yield_percentage,"% | Stock Pieces: ",a.total_stock_pieces," | Parts: ",a.total_parts_nested]}),a.warnings&&a.warnings.length>0&&n.jsxs("div",{style:{marginBottom:"10px",padding:"10px",background:"#2e1a0a",borderRadius:"6px",border:"2px solid #dc2626"},children:[n.jsxs("div",{style:{fontWeight:"700",color:"#ef4444",marginBottom:"6px"},children:[" OVERSIZED PART ALERTS (",a.warnings.length,")"]}),a.warnings.map((h,M)=>n.jsxs("div",{style:{fontSize:"12px",color:"#fca5a5",padding:"4px 0",borderBottom:M<a.warnings.length-1?"1px solid #7f1d1d":"none"},children:[n.jsxs("b",{children:[h.shape," ",h.dimensions]}),"  mark ",n.jsx("b",{style:{color:"#f59e0b"},children:h.part_mark})," is ",n.jsxs("b",{style:{color:"#ef4444"},children:[h.part_length_ft,"'"]})," but max stock is only ",n.jsxs("b",{children:[h.max_stock_ft,"'"]}),n.jsx("div",{style:{fontSize:"10px",color:"#9ca3af"},children:"This part exceeds your longest available stock. Contact supplier for special length or update stock config."})]},M))]}),a.buy_list&&a.buy_list.length>0&&n.jsxs("div",{style:{marginTop:"8px",padding:"10px",background:"#0d2818",borderRadius:"6px",border:"1px solid #166534"},children:[n.jsx("span",{style:{fontWeight:"700",fontSize:"14px",color:"#4ade80",display:"block",marginBottom:"8px"},children:" Material Buy List"}),n.jsxs("table",{style:{...s.table,fontSize:"12px"},children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:s.th,children:"Material"}),n.jsx("th",{style:s.th,children:"Grade"}),n.jsx("th",{style:s.th,children:"Stock Length"}),n.jsx("th",{style:s.th,children:"Qty to Buy"})]})}),n.jsx("tbody",{children:a.buy_list.map((h,M)=>n.jsxs("tr",{children:[n.jsxs("td",{style:{...s.td,fontWeight:"600",color:"#60a5fa"},children:[h.shape," ",h.dimensions]}),n.jsx("td",{style:s.td,children:h.grade}),n.jsx("td",{style:s.td,children:h.is_plate?`${h.stock_width_ft}'${h.stock_length_ft}' Sheet`:`${h.stock_length_ft}'`}),n.jsx("td",{style:{...s.td,fontWeight:"700",textAlign:"center",color:"#4ade80"},children:h.qty})]},M))})]})]}),a.groups&&a.groups.length>0&&n.jsxs("div",{style:{marginTop:"8px"},children:[n.jsx("span",{style:{fontWeight:"600",fontSize:"13px",color:"#60a5fa",display:"block",marginBottom:"4px"},children:"Groups:"}),a.groups.map((h,M)=>n.jsxs("div",{style:{fontSize:"12px",color:"#d1d5db",marginBottom:"2px"},children:[n.jsxs("b",{children:[h.shape," ",h.dimensions]})," (",h.grade,")  ",h.stock_count," stock pieces",h.is_plate&&h.sheet_desc&&n.jsxs("span",{style:{color:"#fbbf24"},children:["  ",h.sheet_desc," sheets"]}),!h.is_plate&&h.stock_lengths&&h.stock_lengths.length>0&&n.jsxs("span",{style:{color:"#4ade80"},children:["  Lengths: ",h.stock_lengths.sort((k,_)=>k-_).map(k=>k+"'").join(", ")]}),h.yield_pct&&n.jsxs("span",{style:{color:h.yield_pct>85?"#4ade80":"#fbbf24"},children:["  ",h.yield_pct,"% yield"]})]},M))]}),a.drops&&a.drops.length>0&&n.jsxs("div",{style:{marginTop:"8px"},children:[n.jsx("span",{style:{fontWeight:"600",fontSize:"13px",color:"#fbbf24"},children:"Drops:"}),a.drops.map((h,M)=>n.jsxs("span",{style:{marginLeft:"12px",fontSize:"12px",color:"#d1d5db"},children:[h.shape,"  ",h.stock_length_ft?h.stock_length_ft+"' stock  ":"",h.drop_length||h.drop_length_display," drop"]},M))]}),n.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:()=>d(h=>({...h,showRFQ:!0})),style:{...s.btn,...s.btnPurple,fontSize:"12px"},children:" Generate RFQ from this Nest"}),n.jsx("button",{onClick:()=>d(null),style:{...s.btn,...s.btnGray,fontSize:"12px"},children:" Close"})]}),a.showRFQ&&n.jsx(Af,{projectId:e,nestRunId:a.nest_run_id,onCreated:()=>d(null)})]}),Object.keys(q).length===0&&!a&&n.jsx("div",{style:{...s.card,color:"#6b7280",textAlign:"center",padding:"24px"},children:r.length===0?"No parts available for nesting. Import XML first.":`No ${E==="mult"?"linear (W, HSS, Angle, etc.)":E==="plate"?"plate":""} parts found. Try a different mode.`}),Object.entries(q).map(([h,M])=>{const k=$(M.shape);return n.jsxs("div",{style:{...s.card,marginBottom:"8px"},children:[n.jsxs("div",{style:{...s.flexBetween,marginBottom:"8px"},children:[n.jsxs("span",{style:{fontWeight:"700",color:"#60a5fa"},children:[M.shape," ",M.dimensions,"  ",M.grade,n.jsxs("span",{style:{fontWeight:"400",color:"#6b7280",marginLeft:"8px"},children:["(",M.parts.length," parts)"]}),k&&n.jsxs("span",{style:{fontWeight:"400",color:"#4ade80",marginLeft:"8px",fontSize:"11px"},children:[" Stock: ",k.nest_type==="plate"?"Plate sheets":(k.available_lengths||[]).map(_=>_+"'").join(", ")]})]}),n.jsxs("div",{style:{display:"flex",gap:"6px"},children:[n.jsx("button",{onClick:()=>L(M.shape,M.dimensions,M.grade),style:{...s.btn,...s.btnGray,padding:"2px 8px",fontSize:"11px"},children:"Select All"}),n.jsx("button",{onClick:()=>B(M.shape,M.dimensions,M.grade),style:{...s.btn,...s.btnGray,padding:"2px 8px",fontSize:"11px"},children:"Deselect"})]})]}),n.jsxs("table",{style:s.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:{...s.th,width:"40px"},children:""}),n.jsx("th",{style:s.th,children:"Part Mark"}),n.jsx("th",{style:s.th,children:"Assembly"}),n.jsx("th",{style:s.th,children:"Length"}),n.jsx("th",{style:s.th,children:"Qty"}),n.jsx("th",{style:s.th,children:"Status"})]})}),n.jsx("tbody",{children:M.parts.map(_=>n.jsxs("tr",{onClick:()=>X(_.id),style:{cursor:_.is_locked?"not-allowed":"pointer",opacity:_.is_locked?.5:1},children:[n.jsx("td",{style:{...s.td,textAlign:"center"},children:_.is_locked?"":n.jsx("input",{type:"checkbox",checked:i.has(_.id),readOnly:!0,style:{cursor:"pointer",accentColor:ee[E]}})}),n.jsxs("td",{style:{...s.td,fontWeight:_.is_main_member?"700":"400",color:_.is_main_member?"#3b82f6":"#d1d5db"},children:[_.part_mark," ",_.is_main_member&&""]}),n.jsx("td",{style:s.td,children:_.assembly_mark}),n.jsx("td",{style:s.td,children:_.length_display}),n.jsx("td",{style:{...s.td,textAlign:"center"},children:_.quantity}),n.jsx("td",{style:s.td,children:_.is_locked?n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("span",{style:{color:"#ef4444",fontSize:"11px",fontWeight:"600"},children:" NESTED"}),n.jsx("button",{onClick:async V=>{if(V.stopPropagation(),!confirm("Unnest "+_.part_mark+"?"))return;(await fetch(G+"/api/v2/unnest-parts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({part_ids:[_.id]})})).ok&&(I(),F())},style:{...s.btn,background:"#7f1d1d",color:"#fca5a5",padding:"1px 6px",fontSize:"10px"},children:""})]}):n.jsx("span",{style:{color:"#4ade80",fontSize:"11px"},children:"Available"})})]},_.id))})]})]},h)}),u.length>0&&n.jsxs("div",{style:{...s.card,marginTop:"16px"},children:[n.jsx("h3",{style:{fontWeight:"700",marginBottom:"8px"},children:"Past Nest Runs"}),n.jsxs("table",{style:s.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:s.th,children:"Date"}),n.jsx("th",{style:s.th,children:"Operator"}),n.jsx("th",{style:s.th,children:"Yield"}),n.jsx("th",{style:s.th,children:"Stock Used"}),n.jsx("th",{style:s.th,children:"Parts"}),n.jsx("th",{style:s.th,children:"Actions"})]})}),n.jsx("tbody",{children:u.map(h=>n.jsxs("tr",{children:[n.jsx("td",{style:s.td,children:h.nest_date?new Date(h.nest_date).toLocaleDateString():""}),n.jsx("td",{style:s.td,children:h.operator}),n.jsxs("td",{style:{...s.td,color:h.yield_percentage>85?"#4ade80":"#fbbf24"},children:[h.yield_percentage,"%"]}),n.jsx("td",{style:{...s.td,textAlign:"center"},children:h.total_stock_used}),n.jsx("td",{style:{...s.td,textAlign:"center"},children:h.total_parts_cut}),n.jsx("td",{style:s.td,children:n.jsxs("div",{style:{display:"flex",gap:"4px"},children:[n.jsx("button",{onClick:async()=>{const M=await fetch(G+"/api/v2/nest-runs/"+h.id);M.ok&&d({...await M.json(),nest_run_id:h.id,yield_percentage:h.yield_percentage,total_stock_pieces:h.total_stock_used,total_parts_nested:h.total_parts_cut})},style:{...s.btn,...s.btnGray,padding:"3px 8px",fontSize:"11px"},children:" View"}),n.jsx("button",{onClick:()=>d({nest_run_id:h.id,yield_percentage:h.yield_percentage,total_stock_pieces:h.total_stock_used,total_parts_nested:h.total_parts_cut,showRFQ:!0}),style:{...s.btn,...s.btnPurple,padding:"3px 8px",fontSize:"11px"},children:" RFQ"}),n.jsx("button",{onClick:async()=>{if(!confirm("Unnest this run? All "+h.total_parts_cut+" parts will be unlocked for re-nesting."))return;const M=await fetch(G+"/api/v2/nest-runs/"+h.id,{method:"DELETE"});if(M.ok){const k=await M.json();alert(k.message),I(),F(),d(null)}else{const k=await M.json();alert(k.detail||"Failed")}},style:{...s.btn,background:"#7f1d1d",color:"#fca5a5",padding:"3px 8px",fontSize:"11px"},children:" Unnest"})]})})]},h.id))})]})]})]})}function Af({projectId:e,nestRunId:t,onCreated:r}){const[l,i]=v.useState([]),[o,a]=v.useState(""),[d,u]=v.useState(!0);v.useEffect(()=>{fetch(G+"/api/v2/vendors").then(g=>g.json()).then(i).catch(()=>{})},[]);const c=async()=>{const g=await fetch(G+"/api/v2/projects/"+e+"/rfqs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nest_run_id:t,vendor_id:o?Number(o):null,exclude_hardware:d,item_ids:[]})});if(g.ok){const S=await g.json();alert("RFQ "+S.rfq_number+" created with "+S.items.length+" line items"),r()}};return n.jsx("div",{style:{marginTop:"12px",padding:"12px",background:"#1a1a2e",borderRadius:"8px"},children:n.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[n.jsxs("select",{value:o,onChange:g=>a(g.target.value),style:{...s.input,width:"200px"},children:[n.jsx("option",{value:"",children:"Select Vendor (optional)"}),l.map(g=>n.jsx("option",{value:g.id,children:g.name},g.id))]}),n.jsxs("label",{style:{fontSize:"12px",color:"#9ca3af",display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("input",{type:"checkbox",checked:d,onChange:g=>u(g.target.checked)})," Exclude Hardware"]}),n.jsx("button",{onClick:c,style:{...s.btn,...s.btnGreen,fontSize:"12px"},children:" Create RFQ"})]})})}function Ff({projectId:e}){const[t,r]=v.useState([]),[l,i]=v.useState(null),[o,a]=v.useState([]),[d,u]=v.useState(!1),[c,g]=v.useState([]),[S,j]=v.useState(!1),[P,C]=v.useState({vendor_id:"",sub_total:"",tax:"",freight:"",total_price:"",lead_time_days:"",terms:"",notes:""}),y=v.useRef();v.useEffect(()=>{E(),x()},[e]);const E=async()=>{const w=await fetch(G+"/api/v2/projects/"+e+"/rfqs-list");w.ok&&r(await w.json())},x=async()=>{const w=await fetch(G+"/api/v2/vendors");w.ok&&a(await w.json())},p=async w=>{const A=await fetch(G+"/api/v2/rfqs/"+w);A.ok&&(i(await A.json()),m(w))},m=async w=>{const A=await fetch(G+"/api/v2/rfqs/"+w+"/quotes");A.ok&&g(await A.json())},z=async w=>{l&&(await fetch(G+"/api/v2/rfqs/"+l.id+"/toggle-item/"+w,{method:"PUT"}),p(l.id))},N=async w=>{if(!l)return;const A=new FormData;A.append("vendor_id",w),await fetch(G+"/api/v2/rfqs/"+l.id+"/assign-vendor",{method:"PUT",body:A}),p(l.id),E()},I=async w=>{if(!l)return;const A=new FormData;A.append("status",w),await fetch(G+"/api/v2/rfqs/"+l.id+"/update-status",{method:"PUT",body:A}),p(l.id),E()},F=async()=>{if(!l)return;if(!l.vendor)return alert("Assign a vendor before converting to PO");const w=new FormData;w.append("ordered_by","");const A=await fetch(G+"/api/v2/rfqs/"+l.id+"/convert-to-po",{method:"POST",body:w});if(A.ok){const $=await A.json();alert("PO "+$.po_number+" created!"),i(null),E()}},U=async()=>{var $,X;if(!P.vendor_id)return alert("Select a vendor");const w=new FormData;w.append("vendor_id",P.vendor_id),w.append("sub_total",P.sub_total||"0"),w.append("tax",P.tax||"0"),w.append("freight",P.freight||"0"),w.append("total_price",P.total_price||"0"),w.append("lead_time_days",P.lead_time_days||"0"),w.append("terms",P.terms||""),w.append("notes",P.notes||""),(X=($=y.current)==null?void 0:$.files)!=null&&X[0]&&w.append("quote_file",y.current.files[0]),(await fetch(G+"/api/v2/rfqs/"+l.id+"/quotes",{method:"POST",body:w})).ok&&(j(!1),C({vendor_id:"",sub_total:"",tax:"",freight:"",total_price:"",lead_time_days:"",terms:"",notes:""}),m(l.id),E())},T=async w=>{(await fetch(G+"/api/v2/rfq-quotes/"+w+"/select",{method:"PUT"})).ok&&(m(l.id),p(l.id),E())},f=l?(l.items||[]).filter(w=>!w.excluded):[],R=f.reduce((w,A)=>w+(A.weight||0)*(A.qty||1),0),D=c.length>0?c.reduce((w,A)=>(w.total_price||999999999)<(A.total_price||999999999)?w:A):null;return n.jsxs("div",{children:[d&&l&&n.jsxs(xo,{title:"RFQ "+l.rfq_number,onClose:()=>u(!1),children:[n.jsx(nr,{docTitle:"Request For Pricing",docNumber:"Req #: "+l.rfq_number}),l.vendor&&n.jsxs("div",{style:{margin:"8px 0",fontSize:"10px"},children:[n.jsx("b",{children:"To:"})," ",l.vendor.name,l.vendor.contact_name?"  Attn: "+l.vendor.contact_name:"",l.vendor.phone?" | Phone: "+l.vendor.phone:""]}),n.jsxs("div",{style:{margin:"8px 0",fontSize:"10px"},children:[n.jsx("b",{children:"Job:"})," ",l.job_number,"  ",l.project_name]}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"8px"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#e0e0e0"},children:[n.jsx("th",{style:Y.th,children:"Qty"}),n.jsx("th",{style:Y.th,children:"Dimensions"}),n.jsx("th",{style:Y.th,children:"Grade"}),n.jsx("th",{style:Y.th,children:"Length"}),n.jsx("th",{style:Y.th,children:"Job #"}),n.jsx("th",{style:Y.th,children:"Weight"}),n.jsx("th",{style:Y.th,children:"Unit Price"}),n.jsx("th",{style:Y.th,children:"Total"})]})}),n.jsx("tbody",{children:f.map((w,A)=>n.jsxs("tr",{children:[n.jsx("td",{style:Y.td,children:w.qty}),n.jsxs("td",{style:{...Y.td,fontWeight:"700"},children:[w.shape," ",w.dimensions]}),n.jsx("td",{style:Y.td,children:w.grade}),n.jsx("td",{style:Y.td,children:w.length_display}),n.jsx("td",{style:Y.td,children:w.job_number}),n.jsx("td",{style:{...Y.td,textAlign:"right"},children:nl((w.weight||0)*(w.qty||1))}),n.jsx("td",{style:{...Y.td,textAlign:"right"}}),n.jsx("td",{style:{...Y.td,textAlign:"right"}})]},A))}),n.jsx("tfoot",{children:n.jsxs("tr",{style:{fontWeight:"700",borderTop:"2px solid #000"},children:[n.jsx("td",{style:Y.td,children:f.reduce((w,A)=>w+(A.qty||0),0)}),n.jsx("td",{colSpan:"4",style:Y.td,children:"TOTAL"}),n.jsx("td",{style:{...Y.td,textAlign:"right"},children:nl(R)}),n.jsx("td",{style:Y.td}),n.jsx("td",{style:Y.td})]})})]}),n.jsxs("div",{style:{textAlign:"right",marginTop:"12px",fontSize:"11px"},children:[n.jsx("div",{children:"Sub-Total: $________"}),n.jsx("div",{children:"Total Tax: $________"}),n.jsx("div",{children:"Freight: $________"}),n.jsx("div",{children:"Misc Cost: $________"}),n.jsx("div",{style:{fontWeight:"700",fontSize:"12px",marginTop:"4px"},children:"Total Price: $________"}),n.jsx("div",{children:"Terms Discount: $________"}),n.jsx("div",{style:{fontWeight:"700",fontSize:"12px",borderTop:"1px solid #000",paddingTop:"4px",marginTop:"4px"},children:"Total Less Terms Discount: $________"})]}),n.jsx(yo,{})]}),n.jsxs("div",{style:s.card,children:[n.jsxs("div",{style:{...s.flexBetween,marginBottom:"8px"},children:[n.jsx("h3",{style:{fontWeight:"700"},children:"Requests for Pricing"}),n.jsxs("div",{style:{display:"flex",gap:"6px"},children:[n.jsx("button",{onClick:async()=>{const w=await fetch(G+"/api/v2/projects/"+e+"/hardware-rfq",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hw_type:"hardware"})});if(w.ok){const A=await w.json();alert(A.rfq_number+" created with "+A.items.length+" items"),E()}else{const A=await w.json();alert(A.detail||"No hardware found")}},style:{...s.btn,background:"#78350f",color:"#fbbf24",fontSize:"11px"},children:" Hardware RFQ"}),n.jsx("button",{onClick:async()=>{const w=await fetch(G+"/api/v2/projects/"+e+"/hardware-rfq",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hw_type:"anchor_bolts"})});if(w.ok){const A=await w.json();alert(A.rfq_number+" created with "+A.items.length+" items"),E()}else{const A=await w.json();alert(A.detail||"No anchor bolts found")}},style:{...s.btn,background:"#4338ca",color:"white",fontSize:"11px"},children:" Anchor Bolt RFQ"})]})]}),t.length===0?n.jsx("p",{style:{color:"#6b7280",fontSize:"13px"},children:"No RFQs yet. Create one from the Nesting tab or use the hardware buttons above."}):n.jsxs("table",{style:s.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:s.th,children:"RFQ #"}),n.jsx("th",{style:s.th,children:"Vendor"}),n.jsx("th",{style:s.th,children:"Status"}),n.jsx("th",{style:s.th,children:"Items"}),n.jsx("th",{style:s.th,children:"Quotes"}),n.jsx("th",{style:s.th,children:"Total"}),n.jsx("th",{style:s.th,children:"Actions"})]})}),n.jsx("tbody",{children:t.map(w=>n.jsxs("tr",{children:[n.jsx("td",{style:{...s.td,fontWeight:"700",color:"#3b82f6"},children:w.rfq_number}),n.jsx("td",{style:s.td,children:w.vendor_name}),n.jsx("td",{style:s.td,children:n.jsx("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",background:w.status==="accepted"?"#166534":w.status==="received"?"#78350f":w.status==="sent"?"#1e3a5f":"#333",color:w.status==="accepted"?"#4ade80":w.status==="received"?"#fbbf24":w.status==="sent"?"#60a5fa":"#9ca3af"},children:w.status})}),n.jsx("td",{style:{...s.td,textAlign:"center"},children:w.item_count}),n.jsx("td",{style:{...s.td,textAlign:"center"},children:w.quote_count||0}),n.jsx("td",{style:s.td,children:ce(w.total_price)}),n.jsx("td",{style:s.td,children:n.jsxs("div",{style:{display:"flex",gap:"4px"},children:[n.jsx("button",{onClick:()=>p(w.id),style:{...s.btn,...s.btnGray,padding:"3px 8px",fontSize:"11px"},children:"View"}),n.jsx("button",{onClick:async()=>{if(!confirm("Delete "+w.rfq_number+"? This cannot be undone."))return;(await fetch(G+"/api/v2/rfqs/"+w.id,{method:"DELETE"})).ok&&(E(),l&&l.id===w.id&&i(null))},style:{...s.btn,background:"#7f1d1d",color:"#fca5a5",padding:"3px 6px",fontSize:"10px"},children:""})]})})]},w.id))})]})]}),l&&n.jsxs("div",{style:{...s.card,marginTop:"12px"},children:[n.jsxs("div",{style:{...s.flexBetween,marginBottom:"12px"},children:[n.jsxs("h3",{style:{fontWeight:"700"},children:[l.rfq_number,"  ",l.project_name]}),n.jsx("button",{onClick:()=>{i(null),g([])},style:{...s.btn,...s.btnGray,padding:"3px 8px"},children:" Close"})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px",flexWrap:"wrap",alignItems:"center"},children:[n.jsxs("select",{value:l.vendor?l.vendor.id:"",onChange:w=>N(w.target.value),style:{...s.input,width:"200px"},children:[n.jsx("option",{value:"",children:"Assign Vendor"}),o.map(w=>n.jsx("option",{value:w.id,children:w.name},w.id))]}),n.jsx("button",{onClick:()=>u(!0),style:{...s.btn,background:"#4338ca",color:"white",fontSize:"12px"},children:" Print Preview"}),l.status==="draft"&&n.jsx("button",{onClick:()=>I("sent"),style:{...s.btn,...s.btnPrimary,fontSize:"12px"},children:" Mark Sent"}),n.jsx("button",{onClick:()=>j(!0),style:{...s.btn,background:"#b45309",color:"white",fontSize:"12px"},children:" Upload Quote"}),l.status==="accepted"&&n.jsx("button",{onClick:F,style:{...s.btn,...s.btnGreen,fontSize:"12px"},children:" Convert to PO"})]}),S&&n.jsxs("div",{style:{marginBottom:"16px",padding:"16px",background:"#1a1a2e",borderRadius:"8px",border:"1px solid #374151"},children:[n.jsx("h4",{style:{fontWeight:"600",marginBottom:"12px",color:"#fbbf24"},children:" Upload Vendor Quote"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px",marginBottom:"8px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"11px",color:"#9ca3af"},children:"Vendor *"}),n.jsxs("select",{value:P.vendor_id,onChange:w=>C({...P,vendor_id:w.target.value}),style:{...s.input,width:"100%"},children:[n.jsx("option",{value:"",children:"Select Vendor"}),o.map(w=>n.jsx("option",{value:w.id,children:w.name},w.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"11px",color:"#9ca3af"},children:"Sub-Total ($)"}),n.jsx("input",{type:"number",step:"0.01",value:P.sub_total,onChange:w=>C({...P,sub_total:w.target.value}),style:{...s.input,width:"100%"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"11px",color:"#9ca3af"},children:"Tax ($)"}),n.jsx("input",{type:"number",step:"0.01",value:P.tax,onChange:w=>C({...P,tax:w.target.value}),style:{...s.input,width:"100%"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"11px",color:"#9ca3af"},children:"Freight ($)"}),n.jsx("input",{type:"number",step:"0.01",value:P.freight,onChange:w=>C({...P,freight:w.target.value}),style:{...s.input,width:"100%"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"11px",color:"#9ca3af"},children:"Total Price ($)"}),n.jsx("input",{type:"number",step:"0.01",value:P.total_price,onChange:w=>C({...P,total_price:w.target.value}),style:{...s.input,width:"100%"},placeholder:"Auto-calc if blank"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"11px",color:"#9ca3af"},children:"Lead Time (days)"}),n.jsx("input",{type:"number",value:P.lead_time_days,onChange:w=>C({...P,lead_time_days:w.target.value}),style:{...s.input,width:"100%"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"11px",color:"#9ca3af"},children:"Terms"}),n.jsx("input",{value:P.terms,onChange:w=>C({...P,terms:w.target.value}),style:{...s.input,width:"100%"},placeholder:"Net 45"})]}),n.jsxs("div",{style:{gridColumn:"span 2"},children:[n.jsx("label",{style:{fontSize:"11px",color:"#9ca3af"},children:"Quote PDF"}),n.jsx("input",{type:"file",accept:".pdf",ref:y,style:{fontSize:"12px",color:"#d1d5db"}})]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[n.jsx("button",{onClick:U,style:{...s.btn,background:"#b45309",color:"white",fontSize:"12px"},children:" Save Quote"}),n.jsx("button",{onClick:()=>j(!1),style:{...s.btn,...s.btnGray,fontSize:"12px"},children:"Cancel"})]})]}),c.length>0&&n.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#0f1729",borderRadius:"8px",border:"1px solid #1e3a5f"},children:[n.jsxs("h4",{style:{fontWeight:"600",marginBottom:"8px",color:"#60a5fa"},children:[" Quote Comparison (",c.length," quotes)"]}),D&&n.jsxs("div",{style:{marginBottom:"8px",padding:"8px",background:"#0a2e0a",borderRadius:"6px",fontSize:"13px"},children:[" ",n.jsx("b",{style:{color:"#4ade80"},children:"Recommendation:"})," ",n.jsxs("span",{style:{color:"#d1d5db"},children:[D.vendor_name," at ",ce(D.total_price),"  lowest total price"]}),D.lead_time_days>0&&n.jsxs("span",{style:{color:"#9ca3af"},children:[" (",D.lead_time_days," day lead time)"]})]}),n.jsxs("table",{style:{...s.table,fontSize:"12px"},children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:s.th,children:"Vendor"}),n.jsx("th",{style:s.th,children:"Sub-Total"}),n.jsx("th",{style:s.th,children:"Tax"}),n.jsx("th",{style:s.th,children:"Freight"}),n.jsx("th",{style:s.th,children:"Total"}),n.jsx("th",{style:s.th,children:"Lead Time"}),n.jsx("th",{style:s.th,children:"Terms"}),n.jsx("th",{style:s.th,children:"PDF"}),n.jsx("th",{style:s.th,children:"Select"})]})}),n.jsx("tbody",{children:c.map(w=>n.jsxs("tr",{style:{background:w.is_selected?"#0a2e0a":w.id===(D==null?void 0:D.id)?"#1a1a2e":"transparent"},children:[n.jsxs("td",{style:{...s.td,fontWeight:"600",color:w.is_selected?"#4ade80":"#d1d5db"},children:[w.vendor_name," ",w.is_selected&&""]}),n.jsx("td",{style:s.td,children:ce(w.sub_total)}),n.jsx("td",{style:s.td,children:ce(w.tax)}),n.jsx("td",{style:s.td,children:ce(w.freight)}),n.jsx("td",{style:{...s.td,fontWeight:"700",color:w.id===(D==null?void 0:D.id)?"#4ade80":"#d1d5db"},children:ce(w.total_price)}),n.jsxs("td",{style:{...s.td,textAlign:"center"},children:[w.lead_time_days||""," ",w.lead_time_days?"days":""]}),n.jsx("td",{style:s.td,children:w.terms||""}),n.jsx("td",{style:s.td,children:w.has_pdf&&n.jsx("button",{onClick:async()=>{const A=await fetch(G+"/api/v2/rfq-quotes/"+w.id+"/pdf");if(A.ok){const $=await A.json();window.open("data:application/pdf;base64,"+$.pdf_data)}},style:{...s.btn,...s.btnGray,padding:"2px 6px",fontSize:"10px"},children:""})}),n.jsx("td",{style:s.td,children:w.is_selected?n.jsx("span",{style:{color:"#4ade80",fontSize:"11px",fontWeight:"700"},children:"Winner"}):n.jsx("button",{onClick:()=>T(w.id),style:{...s.btn,...s.btnGreen,padding:"2px 8px",fontSize:"10px"},children:" Select"})})]},w.id))})]})]}),n.jsxs("table",{style:s.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:{...s.th,width:"40px"},children:"Inc"}),n.jsx("th",{style:s.th,children:"#"}),n.jsx("th",{style:s.th,children:"Qty"}),n.jsx("th",{style:s.th,children:"Dimensions"}),n.jsx("th",{style:s.th,children:"Grade"}),n.jsx("th",{style:s.th,children:"Length"}),n.jsx("th",{style:s.th,children:"Job #"}),n.jsx("th",{style:s.th,children:"Weight"}),n.jsx("th",{style:s.th,children:"Unit $"}),n.jsx("th",{style:s.th,children:"Total"})]})}),n.jsx("tbody",{children:(l.items||[]).map(w=>n.jsxs("tr",{style:{opacity:w.excluded?.4:1},children:[n.jsx("td",{style:{...s.td,textAlign:"center"},children:n.jsx("input",{type:"checkbox",checked:!w.excluded,onChange:()=>z(w.id)})}),n.jsx("td",{style:s.td,children:w.line_number}),n.jsx("td",{style:{...s.td,textAlign:"center"},children:w.qty}),n.jsxs("td",{style:{...s.td,fontWeight:"600"},children:[w.shape," ",w.dimensions]}),n.jsx("td",{style:s.td,children:w.grade}),n.jsx("td",{style:s.td,children:w.length_display}),n.jsx("td",{style:s.td,children:w.job_number}),n.jsx("td",{style:s.td,children:nl(w.weight)}),n.jsx("td",{style:s.td,children:ce(w.unit_price)}),n.jsx("td",{style:s.td,children:ce(w.total_price)})]},w.id))})]}),(l.items||[]).some(w=>w.is_hardware)&&n.jsx("p",{style:{marginTop:"8px",fontSize:"12px",color:"#9ca3af"},children:" Hardware items can be included/excluded using the checkboxes."})]})]})}function If({projectId:e}){const[t,r]=v.useState([]),[l,i]=v.useState(null),[o,a]=v.useState({}),[d,u]=v.useState(!1),[c,g]=v.useState([]),[S,j]=v.useState(!1),[P,C]=v.useState([]),[y,E]=v.useState({vendor_id:"",terms:"Net 45 days",fob:"",ship_via:"",notes:""}),[x,p]=v.useState([{qty:1,shape:"",dimensions:"",grade:"",length_display:"",unit_cost:"",unit_type:"ea"}]);v.useEffect(()=>{m(),z()},[e]);const m=async()=>{const T=await fetch(G+"/api/v2/projects/"+e+"/pos-list");T.ok&&r(await T.json())},z=async()=>{const T=await fetch(G+"/api/v2/vendors");T.ok&&C(await T.json())},N=async T=>{const f=await fetch(G+"/api/v2/pos/"+T);f.ok&&(i(await f.json()),g([]))},I=async(T,f)=>{if(!confirm("Delete "+f+"? This cannot be undone."))return;(await fetch(G+"/api/v2/pos/"+T,{method:"DELETE"})).ok&&(m(),l&&l.id===T&&i(null))},F=async()=>{const T=await fetch(G+"/api/v2/projects/"+e+"/manual-po",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...y,vendor_id:y.vendor_id?Number(y.vendor_id):null,items:x.filter(f=>f.shape||f.dimensions)})});if(T.ok){const f=await T.json();alert(f.po_number+" created!"),j(!1),p([{qty:1,shape:"",dimensions:"",grade:"",length_display:"",unit_cost:"",unit_type:"ea"}]),m()}else try{const f=await T.json();alert(f.detail||"Failed")}catch{alert("Server error creating PO")}},U=async T=>{const f=o[T];if(!f||!f.heat_number)return alert("Heat number is required");const R=new FormData;R.append("qty_received",f.qty||1),R.append("heat_number",f.heat_number),R.append("received_by",f.received_by||""),R.append("yard_location",f.yard_location||"");const D=await fetch(G+"/api/v2/po-items/"+T+"/receive",{method:"POST",body:R});if(D.ok){const w=await D.json();g(A=>[...A,w]),N(l.id),m()}};return n.jsxs("div",{children:[d&&l&&n.jsxs(xo,{title:"PO "+l.po_number,onClose:()=>u(!1),children:[n.jsx(nr,{docTitle:"Purchase Order",docNumber:"PO #: "+l.po_number}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",margin:"8px 0",fontSize:"10px"},children:[n.jsxs("div",{style:{border:"1px solid #999",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"700",marginBottom:"4px"},children:"Order Information"}),n.jsxs("div",{children:["Order Date: ",n.jsx("b",{children:l.order_date||""})]}),n.jsxs("div",{children:["Ordered By: ",n.jsx("b",{children:l.ordered_by||""})]}),n.jsxs("div",{children:["F.O.B.: ",n.jsx("b",{children:l.fob})]}),n.jsxs("div",{children:["Ship Via: ",n.jsx("b",{children:l.ship_via})]}),n.jsxs("div",{children:["Terms: ",n.jsx("b",{children:l.terms})]}),n.jsxs("div",{children:["Order Type: ",n.jsx("b",{children:l.order_type})]})]}),n.jsxs("div",{children:[n.jsxs("div",{style:{border:"1px solid #999",padding:"8px",marginBottom:"6px"},children:[n.jsx("div",{style:{fontWeight:"700",marginBottom:"4px"},children:"Vendor"}),l.vendor?n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{fontWeight:"600"},children:l.vendor.name}),l.vendor.contact_name&&n.jsxs("div",{children:["Attn: ",l.vendor.contact_name]}),l.vendor.address_line1&&n.jsx("div",{children:l.vendor.address_line1}),n.jsxs("div",{children:[l.vendor.city,l.vendor.state?", "+l.vendor.state:""," ",l.vendor.zip_code]}),l.vendor.phone&&n.jsxs("div",{children:["Phone: ",l.vendor.phone]})]}):n.jsx("div",{style:{color:"#999"},children:"No vendor assigned"})]}),n.jsxs("div",{style:{border:"1px solid #999",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"700",marginBottom:"4px"},children:"Ship & Bill To"}),n.jsx("div",{style:{fontWeight:"600"},children:"Southern Services and Equipment"}),n.jsx("div",{children:"321 Bayou Rd"}),n.jsx("div",{children:"St. Bernard, La 70085"}),n.jsx("div",{children:"Phone: 504-682-8800"})]})]})]}),n.jsx("div",{style:{fontWeight:"700",marginTop:"12px",marginBottom:"4px"},children:"Material"}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#e0e0e0"},children:[n.jsx("th",{style:Y.th,children:"#"}),n.jsx("th",{style:Y.th,children:"Qty"}),n.jsx("th",{style:Y.th,children:"Dimensions"}),n.jsx("th",{style:Y.th,children:"Length"}),n.jsx("th",{style:Y.th,children:"Grade"}),n.jsx("th",{style:Y.th,children:"Job #"}),n.jsx("th",{style:Y.th,children:"Weight"}),n.jsx("th",{style:Y.th,children:"Unit Cost"}),n.jsx("th",{style:Y.th,children:"Cost"})]})}),n.jsx("tbody",{children:l.items.map(T=>n.jsxs("tr",{children:[n.jsx("td",{style:Y.td,children:T.line_number}),n.jsx("td",{style:Y.td,children:T.qty}),n.jsxs("td",{style:{...Y.td,fontWeight:"700"},children:[T.shape," ",T.dimensions]}),n.jsx("td",{style:Y.td,children:T.length_display}),n.jsx("td",{style:Y.td,children:T.grade}),n.jsx("td",{style:Y.td,children:T.job_number}),n.jsx("td",{style:{...Y.td,textAlign:"right"},children:nl((T.weight||0)*(T.qty||1))}),n.jsx("td",{style:{...Y.td,textAlign:"right"},children:T.unit_cost?ce(T.unit_cost)+"/"+T.unit_type:""}),n.jsx("td",{style:{...Y.td,textAlign:"right"},children:ce(T.cost)})]},T.id))})]}),n.jsxs("div",{style:{textAlign:"right",marginTop:"12px",fontSize:"11px"},children:[n.jsxs("div",{children:["Sub-Total: ",n.jsx("b",{children:ce(l.sub_total)})]}),n.jsxs("div",{children:["Total Tax: ",n.jsx("b",{children:ce(l.tax)})]}),n.jsxs("div",{style:{fontWeight:"700",fontSize:"13px",borderTop:"2px solid #000",paddingTop:"4px",marginTop:"4px"},children:["Total Price: ",ce(l.total_price)]})]}),n.jsx(yo,{})]}),n.jsxs("div",{style:s.card,children:[n.jsxs("div",{style:{...s.flexBetween,marginBottom:"8px"},children:[n.jsx("h3",{style:{fontWeight:"700"},children:"Purchase Orders"}),n.jsx("button",{onClick:()=>j(!S),style:{...s.btn,...s.btnGreen,fontSize:"12px"},children:" Write Manual PO"})]}),S&&n.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#1a1a2e",borderRadius:"8px",border:"1px solid #166534"},children:[n.jsx("h4",{style:{fontWeight:"600",color:"#4ade80",marginBottom:"8px"},children:" Manual PO  Self Write"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px",marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"11px",color:"#9ca3af"},children:"Vendor"}),n.jsxs("select",{value:y.vendor_id,onChange:T=>E({...y,vendor_id:T.target.value}),style:{...s.input,width:"100%"},children:[n.jsx("option",{value:"",children:"Select Vendor"}),P.map(T=>n.jsx("option",{value:T.id,children:T.name},T.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"11px",color:"#9ca3af"},children:"Terms"}),n.jsx("input",{value:y.terms,onChange:T=>E({...y,terms:T.target.value}),style:{...s.input,width:"100%"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"11px",color:"#9ca3af"},children:"Ship Via"}),n.jsx("input",{value:y.ship_via,onChange:T=>E({...y,ship_via:T.target.value}),style:{...s.input,width:"100%"}})]})]}),n.jsx("div",{style:{fontWeight:"600",fontSize:"12px",marginBottom:"6px",color:"#60a5fa"},children:"Line Items:"}),n.jsxs("table",{style:{...s.table,fontSize:"12px",marginBottom:"8px"},children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:s.th,children:"Qty"}),n.jsx("th",{style:s.th,children:"Shape"}),n.jsx("th",{style:s.th,children:"Dimensions"}),n.jsx("th",{style:s.th,children:"Grade"}),n.jsx("th",{style:s.th,children:"Length"}),n.jsx("th",{style:s.th,children:"Unit $"}),n.jsx("th",{style:s.th,children:"Unit"}),n.jsx("th",{style:s.th})]})}),n.jsx("tbody",{children:x.map((T,f)=>n.jsxs("tr",{children:[n.jsx("td",{style:s.td,children:n.jsx("input",{type:"number",value:T.qty,onChange:R=>{const D=[...x];D[f].qty=Number(R.target.value),p(D)},style:{...s.input,width:"50px"}})}),n.jsx("td",{style:s.td,children:n.jsx("input",{value:T.shape,onChange:R=>{const D=[...x];D[f].shape=R.target.value,p(D)},style:{...s.input,width:"60px"},placeholder:"W"})}),n.jsx("td",{style:s.td,children:n.jsx("input",{value:T.dimensions,onChange:R=>{const D=[...x];D[f].dimensions=R.target.value,p(D)},style:{...s.input,width:"100px"},placeholder:"10X22"})}),n.jsx("td",{style:s.td,children:n.jsx("input",{value:T.grade,onChange:R=>{const D=[...x];D[f].grade=R.target.value,p(D)},style:{...s.input,width:"60px"},placeholder:"A992"})}),n.jsx("td",{style:s.td,children:n.jsx("input",{value:T.length_display,onChange:R=>{const D=[...x];D[f].length_display=R.target.value,p(D)},style:{...s.input,width:"70px"},placeholder:`40'-0"`})}),n.jsx("td",{style:s.td,children:n.jsx("input",{type:"number",step:"0.01",value:T.unit_cost,onChange:R=>{const D=[...x];D[f].unit_cost=R.target.value,p(D)},style:{...s.input,width:"70px"}})}),n.jsx("td",{style:s.td,children:n.jsxs("select",{value:T.unit_type,onChange:R=>{const D=[...x];D[f].unit_type=R.target.value,p(D)},style:{...s.input,width:"60px"},children:[n.jsx("option",{value:"ea",children:"ea"}),n.jsx("option",{value:"cwt",children:"cwt"}),n.jsx("option",{value:"ton",children:"ton"}),n.jsx("option",{value:"ft",children:"ft"})]})}),n.jsx("td",{style:s.td,children:n.jsx("button",{onClick:()=>p(x.filter((R,D)=>D!==f)),style:{...s.btn,background:"#7f1d1d",color:"#fca5a5",padding:"2px 6px",fontSize:"10px"},children:""})})]},f))})]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:()=>p([...x,{qty:1,shape:"",dimensions:"",grade:"",length_display:"",unit_cost:"",unit_type:"ea"}]),style:{...s.btn,...s.btnGray,fontSize:"11px"},children:"+ Add Line"}),n.jsx("button",{onClick:F,style:{...s.btn,...s.btnGreen,fontSize:"12px"},children:" Create PO"}),n.jsx("button",{onClick:()=>j(!1),style:{...s.btn,...s.btnGray,fontSize:"12px"},children:"Cancel"})]})]}),t.length===0&&!S?n.jsx("p",{style:{color:"#6b7280",fontSize:"13px"},children:"No POs yet. Convert an RFQ or write a manual PO."}):t.length>0&&n.jsxs("table",{style:s.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:s.th,children:"PO #"}),n.jsx("th",{style:s.th,children:"Vendor"}),n.jsx("th",{style:s.th,children:"Status"}),n.jsx("th",{style:s.th,children:"Date"}),n.jsx("th",{style:s.th,children:"Items"}),n.jsx("th",{style:s.th,children:"Received"}),n.jsx("th",{style:s.th,children:"Total"}),n.jsx("th",{style:s.th,children:"Actions"})]})}),n.jsx("tbody",{children:t.map(T=>n.jsxs("tr",{children:[n.jsx("td",{style:{...s.td,fontWeight:"700",color:"#3b82f6"},children:T.po_number}),n.jsx("td",{style:s.td,children:T.vendor_name}),n.jsx("td",{style:s.td,children:n.jsx("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",background:T.status==="complete"?"#166534":T.status==="partial"?"#78350f":"#333",color:T.status==="complete"?"#4ade80":T.status==="partial"?"#fbbf24":"#9ca3af"},children:T.status})}),n.jsx("td",{style:s.td,children:T.order_date}),n.jsx("td",{style:{...s.td,textAlign:"center"},children:T.items_total}),n.jsxs("td",{style:{...s.td,textAlign:"center",color:T.items_received===T.items_total?"#4ade80":"#fbbf24"},children:[T.items_received,"/",T.items_total]}),n.jsx("td",{style:s.td,children:ce(T.total_price)}),n.jsx("td",{style:s.td,children:n.jsxs("div",{style:{display:"flex",gap:"4px"},children:[n.jsx("button",{onClick:()=>N(T.id),style:{...s.btn,...s.btnGray,padding:"3px 8px",fontSize:"11px"},children:"View"}),n.jsx("button",{onClick:()=>I(T.id,T.po_number),style:{...s.btn,background:"#7f1d1d",color:"#fca5a5",padding:"3px 6px",fontSize:"10px"},children:""})]})})]},T.id))})]})]}),l&&n.jsxs("div",{style:{...s.card,marginTop:"12px"},children:[n.jsxs("div",{style:{...s.flexBetween,marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("h3",{style:{fontWeight:"700"},children:l.po_number}),n.jsxs("span",{style:{color:"#9ca3af",fontSize:"13px"},children:[l.vendor?l.vendor.name:"No vendor"," | ",l.project_name]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:()=>u(!0),style:{...s.btn,background:"#4338ca",color:"white",padding:"6px 16px",fontSize:"12px"},children:" Print PO"}),n.jsx("button",{onClick:()=>i(null),style:{...s.btn,...s.btnGray,padding:"3px 8px"},children:" Close"})]})]}),n.jsx("div",{style:{marginBottom:"12px",padding:"8px",background:"#1a1a2e",borderRadius:"6px",fontSize:"13px"},children:n.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap"},children:[n.jsxs("span",{children:["Terms: ",n.jsx("b",{children:l.terms})]}),n.jsxs("span",{children:["FOB: ",n.jsx("b",{children:l.fob})]}),n.jsxs("span",{children:["Ship Via: ",n.jsx("b",{children:l.ship_via})]}),n.jsxs("span",{children:["Order Type: ",n.jsx("b",{children:l.order_type})]})]})}),c.length>0&&n.jsxs("div",{style:{marginBottom:"12px",padding:"10px",background:"#0a2e0a",borderRadius:"6px",border:"1px solid #166534"},children:[n.jsx("div",{style:{fontWeight:"700",color:"#4ade80",marginBottom:"6px"},children:" Tags Generated"}),c.map((T,f)=>n.jsxs("div",{style:{fontSize:"12px",color:"#d1d5db",marginBottom:"4px"},children:[n.jsx("span",{style:{color:"#60a5fa",fontWeight:"600"},children:T.yard_tag.member_size}),"  Yard: ",n.jsx("code",{style:{color:"#4ade80"},children:T.yard_tag.barcode})," | Drop: ",n.jsx("code",{style:{color:"#fbbf24"},children:T.drop_tag.barcode}),T.yard_tag.yard_location&&" | Location: "+T.yard_tag.yard_location]},f))]}),n.jsx("h4",{style:{fontWeight:"600",marginBottom:"8px",color:"#fbbf24"},children:" Receiving Checklist"}),n.jsxs("table",{style:s.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:s.th,children:"#"}),n.jsx("th",{style:s.th,children:"Qty"}),n.jsx("th",{style:s.th,children:"Dimensions"}),n.jsx("th",{style:s.th,children:"Grade"}),n.jsx("th",{style:s.th,children:"Length"}),n.jsx("th",{style:s.th,children:"Status"}),n.jsx("th",{style:s.th,children:"Heat #"}),n.jsx("th",{style:s.th,children:"Location"}),n.jsx("th",{style:s.th,children:"Action"})]})}),n.jsx("tbody",{children:l.items.map(T=>n.jsxs("tr",{style:{background:T.receiving_status==="complete"?"#0a2e0a":"transparent"},children:[n.jsx("td",{style:s.td,children:T.line_number}),n.jsx("td",{style:{...s.td,textAlign:"center"},children:T.qty}),n.jsxs("td",{style:{...s.td,fontWeight:"600"},children:[T.shape," ",T.dimensions]}),n.jsx("td",{style:s.td,children:T.grade}),n.jsx("td",{style:s.td,children:T.length_display}),n.jsx("td",{style:s.td,children:T.receiving_status==="complete"?n.jsx("span",{style:{color:"#4ade80",fontSize:"11px"},children:" Received"}):n.jsx("span",{style:{color:"#f87171",fontSize:"11px"},children:" Pending"})}),n.jsx("td",{style:s.td,children:T.receiving_status==="complete"?n.jsx("span",{style:{fontWeight:"600"},children:T.heat_number}):n.jsx("input",{value:o[T.id]&&o[T.id].heat_number||"",placeholder:"Heat #",onChange:f=>a(R=>({...R,[T.id]:{...R[T.id],heat_number:f.target.value,qty:T.qty}})),style:{...s.input,width:"120px",fontSize:"12px"}})}),n.jsx("td",{style:s.td,children:T.receiving_status==="complete"?n.jsx("span",{style:{fontSize:"11px",color:"#9ca3af"},children:""}):n.jsx("input",{value:o[T.id]&&o[T.id].yard_location||"",placeholder:"Bay/Row",onChange:f=>a(R=>({...R,[T.id]:{...R[T.id],yard_location:f.target.value}})),style:{...s.input,width:"90px",fontSize:"12px"}})}),n.jsx("td",{style:s.td,children:T.receiving_status!=="complete"&&n.jsx("button",{onClick:()=>U(T.id),style:{...s.btn,...s.btnGreen,padding:"3px 8px",fontSize:"11px"},children:" Receive"})})]},T.id))})]})]})]})}function Df(){const[e,t]=v.useState([]),[r,l]=v.useState(null),[i,o]=v.useState({}),[a,d]=v.useState(!1),u=v.useRef();v.useEffect(()=>{c()},[]);const c=async()=>{const y=await fetch(G+"/api/v2/vendors?active_only=false");y.ok&&t(await y.json())},g=async()=>{const y=r==="new"?"POST":"PUT",E=r==="new"?G+"/api/v2/vendors":G+"/api/v2/vendors/"+r;(await fetch(E,{method:y,headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok&&(l(null),o({}),c())},S=()=>{l("new"),o({name:"",contact_name:"",address_line1:"",city:"",state:"",zip_code:"",phone:"",fax:"",email:"",default_terms:"Net 45 days",notes:""})},j=y=>{l(y.id),o(y)},P=async y=>{await fetch(G+"/api/v2/vendors/"+y,{method:"DELETE"}),c()},C=async()=>{var p,m;const y=(m=(p=u.current)==null?void 0:p.files)==null?void 0:m[0];if(!y)return alert("Select a CSV file");const E=new FormData;E.append("file",y);const x=await fetch(G+"/api/v2/vendors/import-csv",{method:"POST",body:E});if(x.ok){const z=await x.json();alert(`Imported ${z.imported} vendors (${z.skipped} skipped/duplicates)`),d(!1),c()}else alert("CSV import failed")};return n.jsxs("div",{style:s.card,children:[n.jsxs("div",{style:{...s.flexBetween,marginBottom:"12px"},children:[n.jsx("h3",{style:{fontWeight:"700"},children:"Vendor Management"}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:()=>d(!a),style:{...s.btn,...s.btnGray},children:" Import CSV"}),n.jsx("button",{onClick:S,style:{...s.btn,...s.btnPrimary},children:"+ Add Vendor"})]})]}),a&&n.jsxs("div",{style:{marginBottom:"12px",padding:"12px",background:"#1a1a2e",borderRadius:"6px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"8px"},children:"Upload a CSV with columns: Name, Contact, Address, City, State, Zip, Phone, Fax, Email, Terms"}),n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[n.jsx("input",{type:"file",accept:".csv",ref:u,style:{fontSize:"12px",color:"#d1d5db"}}),n.jsx("button",{onClick:C,style:{...s.btn,...s.btnGreen,fontSize:"12px"},children:" Upload"}),n.jsx("button",{onClick:()=>d(!1),style:{...s.btn,...s.btnGray,fontSize:"12px"},children:"Cancel"})]})]}),r&&n.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#1a1a2e",borderRadius:"6px"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[n.jsx("input",{value:i.name||"",onChange:y=>o({...i,name:y.target.value}),placeholder:"Company Name *",style:s.input}),n.jsx("input",{value:i.contact_name||"",onChange:y=>o({...i,contact_name:y.target.value}),placeholder:"Contact Name",style:s.input}),n.jsx("input",{value:i.address_line1||"",onChange:y=>o({...i,address_line1:y.target.value}),placeholder:"Address",style:s.input}),n.jsx("input",{value:i.city||"",onChange:y=>o({...i,city:y.target.value}),placeholder:"City",style:s.input}),n.jsx("input",{value:i.state||"",onChange:y=>o({...i,state:y.target.value}),placeholder:"State",style:s.input}),n.jsx("input",{value:i.zip_code||"",onChange:y=>o({...i,zip_code:y.target.value}),placeholder:"Zip",style:s.input}),n.jsx("input",{value:i.phone||"",onChange:y=>o({...i,phone:y.target.value}),placeholder:"Phone",style:s.input}),n.jsx("input",{value:i.fax||"",onChange:y=>o({...i,fax:y.target.value}),placeholder:"Fax",style:s.input}),n.jsx("input",{value:i.email||"",onChange:y=>o({...i,email:y.target.value}),placeholder:"Email",style:s.input}),n.jsx("input",{value:i.default_terms||"",onChange:y=>o({...i,default_terms:y.target.value}),placeholder:"Terms",style:s.input})]}),n.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:g,style:{...s.btn,...s.btnGreen},children:" Save"}),n.jsx("button",{onClick:()=>l(null),style:{...s.btn,...s.btnGray},children:"Cancel"})]})]}),n.jsxs("table",{style:s.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:s.th,children:"Name"}),n.jsx("th",{style:s.th,children:"Contact"}),n.jsx("th",{style:s.th,children:"Phone"}),n.jsx("th",{style:s.th,children:"Email"}),n.jsx("th",{style:s.th,children:"City/State"}),n.jsx("th",{style:s.th,children:"Terms"}),n.jsx("th",{style:s.th,children:"Actions"})]})}),n.jsx("tbody",{children:e.map(y=>n.jsxs("tr",{style:{opacity:y.active?1:.5},children:[n.jsx("td",{style:{...s.td,fontWeight:"700",color:"#3b82f6"},children:y.name}),n.jsx("td",{style:s.td,children:y.contact_name}),n.jsx("td",{style:s.td,children:y.phone}),n.jsx("td",{style:s.td,children:y.email}),n.jsxs("td",{style:s.td,children:[y.city,y.state?", "+y.state:""]}),n.jsx("td",{style:s.td,children:y.default_terms}),n.jsx("td",{style:s.td,children:n.jsxs("div",{style:{display:"flex",gap:"4px"},children:[n.jsx("button",{onClick:()=>j(y),style:{...s.btn,...s.btnGray,padding:"3px 8px",fontSize:"11px"},children:"Edit"}),y.active&&n.jsx("button",{onClick:()=>P(y.id),style:{...s.btn,...s.btnRed,padding:"3px 8px",fontSize:"11px"},children:"Deactivate"})]})})]},y.id))})]})]})}function Of({projectId:e}){const[t,r]=v.useState([]),[l,i]=v.useState(""),[o,a]=v.useState(null),[d,u]=v.useState({}),[c,g]=v.useState(null),[S,j]=v.useState(!1),[P,C]=v.useState([]),[y,E]=v.useState(!1),[x,p]=v.useState(new Set),m=v.useRef();v.useEffect(()=>{z(),N()},[e,l]);const z=async()=>{const b=l?"?doc_type="+l:"",O=await fetch(G+"/api/v2/projects/"+e+"/packets"+b);O.ok&&r(await O.json())},N=async()=>{const b=await fetch("/api/projects/"+e+"/drawings");b.ok&&C(await b.json())},I=async b=>{const O=await fetch(G+"/api/v2/packets/"+b);O.ok&&g(await O.json())},F=b=>{a(b),u({doc_type:b,to_company:"",to_contact:"",to_address:"",to_phone:"",to_email:"",subject:"",description:"",co_shop_drawings:0,co_material:0,co_fabrication:0,co_coating:0,co_field_work:0,co_overhead_pct:15})},U=async()=>{const b=await fetch(G+"/api/v2/projects/"+e+"/packets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(b.ok){const O=await b.json();alert(O.doc_number+" created"),a(null),z()}},T=async()=>{const b=m.current&&m.current.files&&m.current.files[0];if(!b||!c)return alert("Select a file");const O=new FormData;O.append("file",b),(await fetch(G+"/api/v2/packets/"+c.id+"/attach",{method:"POST",body:O})).ok?(I(c.id),z(),m.current.value=""):alert("Upload failed")},f=async b=>{if(!confirm("Remove this attachment?"))return;(await fetch(G+"/api/v2/packet-attachments/"+b,{method:"DELETE"})).ok&&(I(c.id),z())},R=async(b,O)=>{const q=await fetch(G+"/api/v2/packet-attachments/"+b+"/download");if(q.ok){const H=await q.json(),ee=document.createElement("a"),h=(O||"").split(".").pop().toLowerCase(),M=h==="pdf"?"application/pdf":h==="xlsx"?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":h==="docx"?"application/vnd.openxmlformats-officedocument.wordprocessingml.document":"application/octet-stream";ee.href="data:"+M+";base64,"+H.file_data,ee.download=H.filename||O,ee.click()}},D=async()=>{if(x.size===0||!c)return;const b=new FormData;b.append("drawing_ids",[...x].join(","));const O=await fetch(G+"/api/v2/packets/"+c.id+"/attach-drawings",{method:"POST",body:b});if(O.ok){const q=await O.json();alert(q.attached+" drawing(s) attached"),E(!1),p(new Set),I(c.id),z()}},w=async()=>{if(!c)return;const b=await fetch(G+"/api/v2/packets/"+c.id+"/download-zip");if(b.ok){const O=await b.json(),q=document.createElement("a");q.href="data:application/zip;base64,"+O.zip_data,q.download=O.filename,q.click()}else alert("No attachments to download")},A=async b=>{await fetch(G+"/api/v2/packets/"+b+"/send",{method:"PUT"}),z(),c&&c.id===b&&I(b)},$=(d.co_shop_drawings||0)+(d.co_material||0)+(d.co_fabrication||0)+(d.co_coating||0)+(d.co_field_work||0),X=$*((d.co_overhead_pct||15)/100),L=$+X,B={transmittal:"Transmittal",change_order:"Change Order",rfi:"RFI"};return n.jsxs("div",{children:[S&&c&&n.jsxs(xo,{title:(B[c.doc_type]||"")+" "+c.doc_number,onClose:()=>j(!1),children:[c.doc_type==="change_order"?n.jsxs(n.Fragment,{children:[n.jsx(nr,{docTitle:"Change Order Request",docNumber:c.doc_number}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",margin:"8px 0",fontSize:"10px"},children:[n.jsxs("div",{style:{border:"1px solid #999",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"700",marginBottom:"4px"},children:"To:"}),n.jsx("div",{children:c.to_company}),c.to_contact&&n.jsxs("div",{children:["Attn: ",c.to_contact]}),c.to_address&&n.jsx("div",{children:c.to_address}),c.to_phone&&n.jsxs("div",{children:["Phone: ",c.to_phone]})]}),n.jsxs("div",{style:{border:"1px solid #999",padding:"8px"},children:[n.jsxs("div",{children:[n.jsx("b",{children:"Job #:"})," ",c.job_number]}),n.jsxs("div",{children:[n.jsx("b",{children:"Project:"})," ",c.project_name]}),n.jsxs("div",{children:[n.jsx("b",{children:"CO #:"})," ",c.doc_number]}),n.jsxs("div",{children:[n.jsx("b",{children:"Date:"})," ",rl()]}),n.jsxs("div",{children:[n.jsx("b",{children:"Attachments:"})," ",c.attachment_count," enclosed"]})]})]}),n.jsxs("div",{style:{margin:"12px 0",fontSize:"10px"},children:[n.jsx("div",{style:{fontWeight:"700",marginBottom:"4px"},children:"Subject:"}),n.jsx("div",{children:c.subject})]}),c.description&&n.jsxs("div",{style:{margin:"8px 0",fontSize:"10px",padding:"8px",border:"1px solid #ccc"},children:[n.jsx("div",{style:{fontWeight:"700",marginBottom:"4px"},children:"Description of Change:"}),n.jsx("div",{style:{whiteSpace:"pre-wrap"},children:c.description})]}),n.jsxs("div",{style:{marginTop:"12px"},children:[n.jsx("div",{style:{fontWeight:"700",marginBottom:"6px"},children:"Cost Breakdown"}),n.jsx("table",{style:{width:"60%",borderCollapse:"collapse"},children:n.jsxs("tbody",{children:[[["Shop Drawings",c.co_shop_drawings],["Material",c.co_material],["Fabrication",c.co_fabrication],["Coating",c.co_coating],["Field Work",c.co_field_work]].map(([b,O])=>n.jsxs("tr",{children:[n.jsx("td",{style:{...Y.td,fontWeight:"600"},children:b}),n.jsx("td",{style:{...Y.td,textAlign:"right"},children:ce(O)})]},b)),n.jsxs("tr",{style:{borderTop:"2px solid #000"},children:[n.jsx("td",{style:{...Y.td,fontWeight:"700"},children:"Subtotal"}),n.jsx("td",{style:{...Y.td,textAlign:"right",fontWeight:"700"},children:ce(c.co_shop_drawings+c.co_material+c.co_fabrication+c.co_coating+c.co_field_work)})]}),n.jsxs("tr",{children:[n.jsxs("td",{style:{...Y.td,fontWeight:"600"},children:["Overhead & Profit (",c.co_overhead_pct,"%)"]}),n.jsx("td",{style:{...Y.td,textAlign:"right"},children:ce((c.co_shop_drawings+c.co_material+c.co_fabrication+c.co_coating+c.co_field_work)*(c.co_overhead_pct/100))})]}),n.jsxs("tr",{style:{borderTop:"2px solid #000"},children:[n.jsx("td",{style:{...Y.td,fontWeight:"700",fontSize:"12px"},children:"TOTAL"}),n.jsx("td",{style:{...Y.td,textAlign:"right",fontWeight:"700",fontSize:"12px"},children:ce(c.co_total)})]})]})})]}),n.jsxs("div",{style:{marginTop:"40px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"40px",fontSize:"10px"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{borderBottom:"1px solid #000",width:"100%",marginBottom:"4px",height:"20px"}}),n.jsx("div",{children:"SSE Authorized Signature / Date"})]}),n.jsxs("div",{children:[n.jsx("div",{style:{borderBottom:"1px solid #000",width:"100%",marginBottom:"4px",height:"20px"}}),n.jsx("div",{children:"Customer Authorized Signature / Date"})]})]})]}):c.doc_type==="transmittal"?n.jsxs(n.Fragment,{children:[n.jsx(nr,{docTitle:"Transmittal",docNumber:c.doc_number}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",margin:"8px 0",fontSize:"10px"},children:[n.jsxs("div",{style:{border:"1px solid #999",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"700",marginBottom:"4px"},children:"To:"}),n.jsx("div",{children:c.to_company}),c.to_contact&&n.jsxs("div",{children:["Attn: ",c.to_contact]}),c.to_address&&n.jsx("div",{children:c.to_address}),c.to_phone&&n.jsxs("div",{children:["Phone: ",c.to_phone]})]}),n.jsxs("div",{style:{border:"1px solid #999",padding:"8px"},children:[n.jsxs("div",{children:[n.jsx("b",{children:"Job #:"})," ",c.job_number]}),n.jsxs("div",{children:[n.jsx("b",{children:"Project:"})," ",c.project_name]}),n.jsxs("div",{children:[n.jsx("b",{children:"Date:"})," ",rl()]}),n.jsxs("div",{style:{marginTop:"6px",fontWeight:"700"},children:[" ",c.attachment_count," attachment",c.attachment_count!==1?"s":""," enclosed"]}),c.prints_enclosed>0&&n.jsxs("div",{style:{fontWeight:"700"},children:[c.prints_enclosed," prints enclosed"]})]})]}),n.jsx("div",{style:{margin:"12px 0",fontSize:"10px"},children:n.jsxs("div",{style:{fontWeight:"700"},children:["RE: ",c.subject]})}),c.description&&n.jsx("div",{style:{margin:"8px 0",padding:"8px",border:"1px solid #ccc",fontSize:"10px",whiteSpace:"pre-wrap"},children:c.description}),c.attachments&&c.attachments.length>0&&n.jsxs("div",{style:{marginTop:"12px"},children:[n.jsx("div",{style:{fontWeight:"700",marginBottom:"4px",fontSize:"10px"},children:"Enclosed Documents:"}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#e0e0e0"},children:[n.jsx("th",{style:Y.th,children:"#"}),n.jsx("th",{style:Y.th,children:"Filename"}),n.jsx("th",{style:Y.th,children:"Size"})]})}),n.jsx("tbody",{children:c.attachments.map((b,O)=>n.jsxs("tr",{children:[n.jsx("td",{style:Y.td,children:O+1}),n.jsx("td",{style:Y.td,children:b.filename}),n.jsx("td",{style:Y.td,children:b.file_size?(b.file_size/1024).toFixed(0)+" KB":""})]},b.id))})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(nr,{docTitle:"Request for Information",docNumber:c.doc_number}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",margin:"8px 0",fontSize:"10px"},children:[n.jsxs("div",{style:{border:"1px solid #999",padding:"8px"},children:[n.jsx("div",{style:{fontWeight:"700",marginBottom:"4px"},children:"To:"}),n.jsx("div",{children:c.to_company}),c.to_contact&&n.jsxs("div",{children:["Attn: ",c.to_contact]})]}),n.jsxs("div",{style:{border:"1px solid #999",padding:"8px"},children:[n.jsxs("div",{children:[n.jsx("b",{children:"Job #:"})," ",c.job_number]}),n.jsxs("div",{children:[n.jsx("b",{children:"RFI #:"})," ",c.doc_number]}),n.jsxs("div",{children:[n.jsx("b",{children:"Date:"})," ",rl()]}),n.jsxs("div",{children:[n.jsx("b",{children:"Attachments:"})," ",c.attachment_count," enclosed"]})]})]}),n.jsx("div",{style:{margin:"12px 0",fontSize:"10px"},children:n.jsxs("div",{style:{fontWeight:"700"},children:["Subject: ",c.subject]})}),n.jsxs("div",{style:{padding:"12px",border:"1px solid #999",fontSize:"10px",minHeight:"120px"},children:[n.jsx("div",{style:{fontWeight:"700",marginBottom:"6px"},children:"Question / Request:"}),n.jsx("div",{style:{whiteSpace:"pre-wrap"},children:c.description})]}),n.jsxs("div",{style:{padding:"12px",border:"1px solid #999",borderTop:"none",fontSize:"10px",minHeight:"100px"},children:[n.jsx("div",{style:{fontWeight:"700",marginBottom:"6px"},children:"Response:"}),n.jsx("div",{style:{color:"#999"},children:"(To be completed by recipient)"})]}),n.jsxs("div",{style:{marginTop:"30px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"40px",fontSize:"10px"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{borderBottom:"1px solid #000",width:"100%",marginBottom:"4px",height:"20px"}}),n.jsx("div",{children:"Signature / Date"})]}),n.jsxs("div",{children:[n.jsx("div",{style:{borderBottom:"1px solid #000",width:"100%",marginBottom:"4px",height:"20px"}}),n.jsx("div",{children:"Response Signature / Date"})]})]})]}),n.jsx(yo,{})]}),n.jsxs("div",{style:s.card,children:[n.jsxs("div",{style:{...s.flexBetween,marginBottom:"12px"},children:[n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[n.jsx("h3",{style:{fontWeight:"700"},children:"Documents"}),n.jsxs("select",{value:l,onChange:b=>i(b.target.value),style:{...s.input,width:"160px"},children:[n.jsx("option",{value:"",children:"All Types"}),n.jsx("option",{value:"transmittal",children:"Transmittals"}),n.jsx("option",{value:"change_order",children:"Change Orders"}),n.jsx("option",{value:"rfi",children:"RFIs"})]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:()=>F("transmittal"),style:{...s.btn,...s.btnPurple,fontSize:"12px"},children:" New Transmittal"}),n.jsx("button",{onClick:()=>F("change_order"),style:{...s.btn,background:"#b45309",color:"white",fontSize:"12px"},children:" New CO"}),n.jsx("button",{onClick:()=>F("rfi"),style:{...s.btn,...s.btnGreen,fontSize:"12px"},children:" New RFI"})]})]}),o&&n.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#1a1a2e",borderRadius:"6px"},children:[n.jsxs("h4",{style:{fontWeight:"600",marginBottom:"8px"},children:["New ",B[o]]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[n.jsx("input",{value:d.to_company||"",onChange:b=>u({...d,to_company:b.target.value}),placeholder:"To: Company",style:s.input}),n.jsx("input",{value:d.to_contact||"",onChange:b=>u({...d,to_contact:b.target.value}),placeholder:"Attn: Contact",style:s.input}),n.jsx("input",{value:d.to_phone||"",onChange:b=>u({...d,to_phone:b.target.value}),placeholder:"Phone",style:s.input}),n.jsx("input",{value:d.to_email||"",onChange:b=>u({...d,to_email:b.target.value}),placeholder:"Email",style:s.input}),n.jsx("textarea",{value:d.to_address||"",onChange:b=>u({...d,to_address:b.target.value}),placeholder:"Address",style:{...s.input,fontFamily:"inherit"}}),n.jsx("input",{value:d.subject||"",onChange:b=>u({...d,subject:b.target.value}),placeholder:"Subject",style:s.input}),n.jsx("textarea",{value:d.description||"",onChange:b=>u({...d,description:b.target.value}),placeholder:"Description / Notes",style:{...s.input,gridColumn:"1 / -1",minHeight:"80px",fontFamily:"inherit"}})]}),o==="change_order"&&n.jsxs("div",{style:{marginTop:"12px"},children:[n.jsx("h5",{style:{fontWeight:"600",marginBottom:"8px",color:"#fbbf24"},children:"Cost Breakdown"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px"},children:[[["co_shop_drawings","Shop Drawings"],["co_material","Material"],["co_fabrication","Fabrication"],["co_coating","Coating"],["co_field_work","Field Work"]].map(([b,O])=>n.jsxs("label",{style:{fontSize:"12px",color:"#9ca3af"},children:[O,":",n.jsx("input",{type:"number",step:"0.01",value:d[b]||0,onChange:q=>u({...d,[b]:Number(q.target.value)}),style:{...s.input,width:"100%",marginTop:"2px"}})]},b)),n.jsxs("label",{style:{fontSize:"12px",color:"#9ca3af"},children:["Overhead %:",n.jsx("input",{type:"number",step:"0.5",value:d.co_overhead_pct||15,onChange:b=>u({...d,co_overhead_pct:Number(b.target.value)}),style:{...s.input,width:"100%",marginTop:"2px"}})]})]}),n.jsx("div",{style:{marginTop:"8px",padding:"8px",background:"#0d0d1a",borderRadius:"4px"},children:n.jsxs("span",{style:{fontSize:"13px"},children:["Subtotal: ",n.jsx("b",{children:ce($)})," | Overhead (",d.co_overhead_pct,"%): ",n.jsx("b",{children:ce(X)})," | ",n.jsxs("span",{style:{color:"#4ade80",fontWeight:"700"},children:["Total: ",ce(L)]})]})})]}),n.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:U,style:{...s.btn,...s.btnGreen},children:" Save"}),n.jsx("button",{onClick:()=>a(null),style:{...s.btn,...s.btnGray},children:"Cancel"})]})]}),n.jsxs("table",{style:s.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:s.th,children:"Doc #"}),n.jsx("th",{style:s.th,children:"Type"}),n.jsx("th",{style:s.th,children:"To"}),n.jsx("th",{style:s.th,children:"Subject"}),n.jsx("th",{style:s.th,children:"Attachments"}),n.jsx("th",{style:s.th,children:"Status"}),n.jsx("th",{style:s.th,children:"Actions"})]})}),n.jsx("tbody",{children:t.map(b=>n.jsxs("tr",{children:[n.jsx("td",{style:{...s.td,fontWeight:"700",color:"#3b82f6",cursor:"pointer"},onClick:()=>I(b.id),children:b.doc_number}),n.jsx("td",{style:s.td,children:n.jsx("span",{style:{padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"600",background:b.doc_type==="change_order"?"#78350f":b.doc_type==="rfi"?"#1e3a5f":"#3b1f5e",color:b.doc_type==="change_order"?"#fbbf24":b.doc_type==="rfi"?"#60a5fa":"#c084fc"},children:B[b.doc_type]||b.doc_type})}),n.jsx("td",{style:s.td,children:b.to_company}),n.jsx("td",{style:s.td,children:b.subject}),n.jsxs("td",{style:{...s.td,textAlign:"center"},children:[" ",b.attachment_count]}),n.jsx("td",{style:s.td,children:n.jsx("span",{style:{fontSize:"11px",color:b.status==="sent"?"#60a5fa":b.status==="approved"?"#4ade80":"#9ca3af"},children:b.status})}),n.jsx("td",{style:s.td,children:n.jsxs("div",{style:{display:"flex",gap:"4px"},children:[n.jsx("button",{onClick:()=>I(b.id),style:{...s.btn,...s.btnGray,padding:"3px 6px",fontSize:"10px"},children:"View"}),b.status==="draft"&&n.jsx("button",{onClick:()=>A(b.id),style:{...s.btn,...s.btnPrimary,padding:"3px 6px",fontSize:"10px"},children:"Send"}),n.jsx("button",{onClick:()=>{if(!b.to_email)return alert("No email address set.");alert(" Email requires Azure AD setup. See Send via Email in the detail panel.")},style:{...s.btn,background:"#0e7490",color:"white",padding:"3px 6px",fontSize:"10px"},children:""})]})})]},b.id))})]}),t.length===0&&n.jsx("p",{style:{color:"#6b7280",fontSize:"13px",textAlign:"center",padding:"20px"},children:"No documents yet"})]}),c&&!S&&n.jsxs("div",{style:{...s.card,marginTop:"12px"},children:[n.jsxs("div",{style:{...s.flexBetween,marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("h3",{style:{fontWeight:"700"},children:c.doc_number}),n.jsxs("span",{style:{color:"#9ca3af",fontSize:"13px"},children:[B[c.doc_type],"  ",c.to_company]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:()=>j(!0),style:{...s.btn,background:"#4338ca",color:"white",padding:"6px 16px",fontSize:"12px"},children:" Print Preview"}),n.jsx("button",{onClick:()=>{g(null),E(!1)},style:{...s.btn,...s.btnGray,padding:"3px 8px"},children:" Close"})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"12px"},children:[n.jsxs("div",{style:{padding:"10px",background:"#0d0d1a",borderRadius:"6px",fontSize:"13px"},children:[n.jsxs("div",{children:[n.jsx("b",{children:"To:"})," ",c.to_company]}),c.to_contact&&n.jsxs("div",{children:[n.jsx("b",{children:"Attn:"})," ",c.to_contact]}),c.to_phone&&n.jsxs("div",{children:[n.jsx("b",{children:"Phone:"})," ",c.to_phone]}),c.to_email&&n.jsxs("div",{children:[n.jsx("b",{children:"Email:"})," ",c.to_email]}),c.to_address&&n.jsxs("div",{children:[n.jsx("b",{children:"Address:"})," ",c.to_address]})]}),n.jsxs("div",{style:{padding:"10px",background:"#0d0d1a",borderRadius:"6px",fontSize:"13px"},children:[n.jsxs("div",{children:[n.jsx("b",{children:"Subject:"})," ",c.subject]}),n.jsxs("div",{children:[n.jsx("b",{children:"Status:"})," ",c.status]}),n.jsxs("div",{children:[n.jsx("b",{children:"Attachments:"})," ",c.attachment_count]}),c.doc_type==="change_order"&&n.jsxs("div",{style:{color:"#4ade80",fontWeight:"700",marginTop:"4px"},children:[n.jsx("b",{children:"CO Total:"})," ",ce(c.co_total)]})]})]}),c.description&&n.jsx("div",{style:{padding:"10px",background:"#0d0d1a",borderRadius:"6px",fontSize:"13px",marginBottom:"12px",whiteSpace:"pre-wrap"},children:c.description}),n.jsxs("div",{style:{padding:"12px",background:"#1a1a2e",borderRadius:"6px",marginBottom:"12px",border:"1px dashed #4b5563"},children:[n.jsxs("div",{style:{...s.flexBetween,marginBottom:"10px"},children:[n.jsxs("div",{style:{fontWeight:"600",color:"#60a5fa"},children:[" Attachments (",c.attachment_count,")"]}),n.jsxs("div",{style:{display:"flex",gap:"6px"},children:[c.doc_type==="transmittal"&&n.jsx("button",{onClick:()=>{E(!y),p(new Set)},style:{...s.btn,...s.btnPurple,fontSize:"11px",padding:"4px 10px"},children:" Attach Drawings"}),(c.attachment_count||0)>=1&&n.jsx("button",{onClick:w,style:{...s.btn,background:"#4338ca",color:"white",fontSize:"11px",padding:"4px 10px"},children:" Download ZIP"})]})]}),y&&n.jsxs("div",{style:{marginBottom:"12px",padding:"10px",background:"#0d0d1a",borderRadius:"6px",border:"1px solid #374151"},children:[n.jsx("div",{style:{fontWeight:"600",fontSize:"12px",marginBottom:"8px",color:"#c084fc"},children:"Select Project Drawings to Attach:"}),P.length===0?n.jsx("p",{style:{fontSize:"12px",color:"#6b7280"},children:"No drawings uploaded yet. Upload PDFs in the Drawings tab first."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{maxHeight:"200px",overflow:"auto",marginBottom:"8px"},children:P.map(b=>n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 8px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",color:"#d1d5db",background:x.has(b.id)?"#1e3a5f":"transparent"},children:[n.jsx("input",{type:"checkbox",checked:x.has(b.id),onChange:()=>{const O=new Set(x);O.has(b.id)?O.delete(b.id):O.add(b.id),p(O)},style:{accentColor:"#8b5cf6"}}),n.jsx("span",{style:{fontWeight:"600",color:"#60a5fa"},children:b.drawing_number}),n.jsxs("span",{style:{color:"#6b7280"},children:["Rev ",b.current_revision||"0"]}),n.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:b.drawing_title||""}),b.has_pdf?n.jsx("span",{style:{color:"#4ade80",fontSize:"10px"},children:" PDF"}):n.jsx("span",{style:{color:"#ef4444",fontSize:"10px"},children:" No PDF"})]},b.id))}),n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[n.jsxs("button",{onClick:D,disabled:x.size===0,style:{...s.btn,...s.btnGreen,fontSize:"11px",padding:"4px 12px",opacity:x.size===0?.5:1},children:[" Attach ",x.size," Drawing",x.size!==1?"s":""]}),n.jsx("button",{onClick:()=>{const b=new Set;P.filter(O=>O.has_pdf).forEach(O=>b.add(O.id)),p(b)},style:{...s.btn,...s.btnGray,fontSize:"11px",padding:"4px 10px"},children:"Select All with PDF"}),n.jsx("button",{onClick:()=>{E(!1),p(new Set)},style:{...s.btn,...s.btnGray,fontSize:"11px",padding:"4px 10px"},children:"Cancel"})]})]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap",marginBottom:"10px"},children:[n.jsx("input",{type:"file",ref:m,accept:".pdf,.jpg,.jpeg,.png,.dwg,.dxf,.xlsx,.docx",style:{fontSize:"12px",color:"#d1d5db"}}),n.jsx("button",{onClick:T,style:{...s.btn,...s.btnGreen,fontSize:"11px",padding:"4px 10px"},children:" Upload File"}),n.jsx("span",{style:{fontSize:"11px",color:"#6b7280"},children:"PDF, Images, Drawings, Excel, Word"})]}),c.attachments&&c.attachments.length>0?c.attachments.map((b,O)=>n.jsxs("div",{style:{padding:"6px 10px",background:"#0d0d1a",borderRadius:"4px",marginBottom:"4px",fontSize:"12px",color:"#d1d5db",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("span",{children:[n.jsxs("span",{style:{color:"#6b7280",marginRight:"6px"},children:[O+1,"."]})," ",b.filename,n.jsxs("span",{style:{color:"#6b7280",marginLeft:"8px"},children:["(",b.file_size?(b.file_size/1024).toFixed(0)+" KB":"no file",")"]})]}),n.jsxs("div",{style:{display:"flex",gap:"4px"},children:[n.jsx("button",{onClick:()=>R(b.id,b.filename),style:{...s.btn,...s.btnGray,padding:"2px 6px",fontSize:"10px"},children:""}),n.jsx("button",{onClick:()=>f(b.id),style:{...s.btn,background:"#7f1d1d",color:"#fca5a5",padding:"2px 6px",fontSize:"10px"},children:""})]})]},b.id)):n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",textAlign:"center",padding:"10px"},children:"No attachments yet"})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[c.status==="draft"&&n.jsx("button",{onClick:()=>A(c.id),style:{...s.btn,...s.btnPrimary,fontSize:"12px"},children:" Mark as Sent"}),(c.attachment_count||0)>=1&&(c.attachment_count||0)<3&&n.jsx("button",{onClick:w,style:{...s.btn,background:"#4338ca",color:"white",fontSize:"12px"},children:" Download All as ZIP"}),n.jsx("button",{onClick:()=>{if(!c.to_email)return alert("No email address set on this document. Edit the To: Email field first.");alert(` Email integration requires Microsoft Graph API setup.

To enable:
1. Register an app in Azure AD
2. Set AZURE_TENANT_ID, AZURE_CLIENT_ID, AZURE_CLIENT_SECRET in Railway
3. Deploy  the Send Email button will activate automatically.

Ask Justin for the setup guide.`)},style:{...s.btn,background:"#0e7490",color:"white",fontSize:"12px"},children:" Send via Email"})]})]})]})}function su({projectId:e,jobNumber:t}){const[r,l]=v.useState([]),[i,o]=v.useState(""),[a,d]=v.useState("available"),[u,c]=v.useState(!1),[g,S]=v.useState(!1),[j,P]=v.useState(!1),[C,y]=v.useState(null),[E,x]=v.useState(!1),[p,m]=v.useState(new Set),[z,N]=v.useState({shape:"",dimensions:"",grade:"A36",length_display:"",length_inches:"",width_inches:"",quantity:"1",heat_number:"",location:"",notes:"",added_by:""});v.useEffect(()=>{I()},[i,a]);const I=async()=>{const L=new URLSearchParams({status:a});i&&L.set("search",i);const B=await fetch(G+"/api/v2/inventory-v2?"+L);B.ok&&l(await B.json())},F=async()=>{const L={...z,length_inches:parseFloat(z.length_inches)||0,width_inches:parseFloat(z.width_inches)||null,quantity:parseInt(z.quantity)||1,weight:parseFloat(z.weight)||null},B=await fetch(G+"/api/v2/inventory-v2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(B.ok)c(!1),N({shape:"",dimensions:"",grade:"A36",length_display:"",length_inches:"",width_inches:"",quantity:"1",heat_number:"",location:"",notes:"",added_by:""}),I();else try{const b=await B.json();alert(b.detail||"Failed")}catch{alert("Error adding item")}},U=async L=>{const B=L.target.files[0];if(!B)return;const b=new FormData;b.append("file",B),b.append("added_by",""),x(!0);const O=await fetch(G+"/api/v2/inventory-v2/bulk-csv",{method:"POST",body:b});if(x(!1),O.ok){const q=await O.json();alert(`Imported ${q.added} items`+(q.errors.length?`

Errors:
${q.errors.join(`
`)}`:"")),I(),S(!1)}else try{const q=await O.json();alert(q.detail||"Upload failed")}catch{alert("Upload failed")}L.target.value=""},T=async L=>{if(!confirm("Delete this inventory item?"))return;(await fetch(G+"/api/v2/inventory-v2/"+L,{method:"DELETE"})).ok&&I()},f=async L=>{if(!e){alert("Open a project to reserve items");return}const B=await fetch(G+"/api/v2/inventory-v2/"+L+"/reserve",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`project_id=${e}&reserved_by=PM`});if(B.ok)alert("Reserved!"),I();else try{const b=await B.json();alert(b.detail||"Failed")}catch{alert("Failed")}},R=async L=>{(await fetch(G+"/api/v2/inventory-v2/"+L+"/release",{method:"POST"})).ok&&I()},D=L=>{const B=L.barcode||"NO-BARCODE",b=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(B)}`,O=window.open("","_blank");O.document.write(`<!DOCTYPE html><html><head><title>Inventory Label</title>
<style>
  @page { size: 4in 3in; margin: 0.15in; }
  body { font-family: Arial, sans-serif; margin: 0; padding: 0.15in; }
  .label { width: 3.6in; border: 2px solid #000; padding: 0.15in; page-break-after: always; }
  .label:last-child { page-break-after: auto; }
  .header { font-size: 14pt; font-weight: bold; text-align: center; border-bottom: 2px solid #000; padding-bottom: 4px; margin-bottom: 6px; }
  .row { display: flex; justify-content: space-between; font-size: 10pt; padding: 2px 0; border-bottom: 1px solid #ccc; }
  .row:last-child { border-bottom: none; }
  .label-key { font-weight: bold; color: #333; }
  .main-info { display: flex; gap: 0.15in; align-items: flex-start; }
  .qr { flex-shrink: 0; }
  .details { flex: 1; }
  .big { font-size: 16pt; font-weight: bold; text-align: center; padding: 4px 0; }
  .barcode-text { font-family: monospace; font-size: 11pt; text-align: center; letter-spacing: 2px; margin-top: 4px; color: #333; }
  @media print { body { padding: 0.1in; } .label { border: 2px solid #000; } }
</style></head><body>
<div class="label">
  <div class="header">SSE STEEL  INVENTORY</div>
  <div class="main-info">
    <div class="qr"><img src="${b}" width="120" height="120" /></div>
    <div class="details">
      <div class="big">${L.shape} ${L.dimensions}</div>
      <div class="row"><span class="label-key">Grade:</span><span>${L.grade||""}</span></div>
      <div class="row"><span class="label-key">Length:</span><span>${L.length_display||""}</span></div>
      ${L.width_inches?`<div class="row"><span class="label-key">Width:</span><span>${L.width_inches}"</span></div>`:""}
      <div class="row"><span class="label-key">Qty:</span><span>${L.quantity}</span></div>
      <div class="row"><span class="label-key">Weight:</span><span>${L.weight?L.weight+"#":""}</span></div>
    </div>
  </div>
  <div class="row"><span class="label-key">Heat #:</span><span>${L.heat_number||""}</span></div>
  <div class="row"><span class="label-key">Location:</span><span>${L.location||""}</span></div>
  <div class="row"><span class="label-key">Source:</span><span>${L.source_type||""}</span></div>
  <div class="barcode-text">${B}</div>
</div>
</body></html>`),O.document.close(),setTimeout(()=>O.print(),500)},w=()=>{const L=r.filter(b=>p.has(b.id));if(!L.length){alert("Select items to print");return}const B=window.open("","_blank");B.document.write(`<!DOCTYPE html><html><head><title>Inventory Labels</title>
<style>
  @page { size: 4in 3in; margin: 0.15in; }
  body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
  .label { width: 3.6in; border: 2px solid #000; padding: 0.15in; page-break-after: always; margin: 0.1in auto; }
  .label:last-child { page-break-after: auto; }
  .header { font-size: 14pt; font-weight: bold; text-align: center; border-bottom: 2px solid #000; padding-bottom: 4px; margin-bottom: 6px; }
  .row { display: flex; justify-content: space-between; font-size: 10pt; padding: 2px 0; border-bottom: 1px solid #ccc; }
  .row:last-child { border-bottom: none; }
  .label-key { font-weight: bold; color: #333; }
  .main-info { display: flex; gap: 0.15in; align-items: flex-start; }
  .qr { flex-shrink: 0; }
  .details { flex: 1; }
  .big { font-size: 16pt; font-weight: bold; text-align: center; padding: 4px 0; }
  .barcode-text { font-family: monospace; font-size: 11pt; text-align: center; letter-spacing: 2px; margin-top: 4px; color: #333; }
</style></head><body>`),L.forEach(b=>{const O=b.barcode||"NO-BARCODE",q=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(O)}`;B.document.write(`
<div class="label">
  <div class="header">SSE STEEL  INVENTORY</div>
  <div class="main-info">
    <div class="qr"><img src="${q}" width="120" height="120" /></div>
    <div class="details">
      <div class="big">${b.shape} ${b.dimensions}</div>
      <div class="row"><span class="label-key">Grade:</span><span>${b.grade||""}</span></div>
      <div class="row"><span class="label-key">Length:</span><span>${b.length_display||""}</span></div>
      <div class="row"><span class="label-key">Qty:</span><span>${b.quantity}</span></div>
      <div class="row"><span class="label-key">Weight:</span><span>${b.weight?b.weight+"#":""}</span></div>
    </div>
  </div>
  <div class="row"><span class="label-key">Heat #:</span><span>${b.heat_number||""}</span></div>
  <div class="row"><span class="label-key">Location:</span><span>${b.location||""}</span></div>
  <div class="barcode-text">${O}</div>
</div>`)}),B.document.write("</body></html>"),B.document.close(),setTimeout(()=>B.print(),500)},A=async()=>{if(!e)return;x(!0);const L=await fetch(G+"/api/v2/projects/"+e+"/inventory-check",{method:"POST"});if(x(!1),L.ok)y(await L.json()),P(!0);else try{const B=await L.json();alert(B.detail||"Check failed")}catch{alert("Check failed")}},$=async L=>{const B=await fetch(G+"/api/v2/projects/"+e+"/use-inventory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:L,reserved_by:"PM"})});if(B.ok){const b=await B.json();alert(`${b.items_reserved} items reserved from inventory!`),P(!1),y(null),I()}},X=()=>{const L=`shape,dimensions,grade,length_display,length_inches,width_inches,quantity,heat_number,location,notes
W,W10X22,A36,40',480,,3,A12345,Yard Bay 1,Leftover from job 2024-01
PL,1/2"X12",A36,8',96,12,2,,Rack 3,
L,L4X4X3/8,A36,20',240,,5,,Yard Bay 2,
HSS,HSS6X6X5/16,A500-GR.B,24',288,,10,,Inside Shop,New stock`,B=new Blob([L],{type:"text/csv"}),b=document.createElement("a");b.href=URL.createObjectURL(B),b.download="inventory_template.csv",b.click()};return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px",flexWrap:"wrap",gap:"8px"},children:[n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",flex:1},children:[n.jsx("span",{style:{fontSize:"18px",fontWeight:"700",color:"#f59e0b"},children:" Material Inventory"}),n.jsxs("span",{style:{fontSize:"12px",color:"#9ca3af"},children:["(",r.length," items)"]})]}),n.jsxs("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[e&&n.jsx("button",{onClick:A,disabled:E,style:{...s.btn,background:"#7c3aed",color:"white",padding:"6px 14px",fontSize:"12px"},children:" Check Inventory vs Nest"}),n.jsx("button",{onClick:()=>c(!u),style:{...s.btn,background:"#059669",color:"white",padding:"6px 14px",fontSize:"12px"},children:" Add Item"}),n.jsx("button",{onClick:()=>S(!g),style:{...s.btn,background:"#2563eb",color:"white",padding:"6px 14px",fontSize:"12px"},children:" CSV Import"}),p.size>0&&n.jsxs("button",{onClick:w,style:{...s.btn,background:"#0891b2",color:"white",padding:"6px 14px",fontSize:"12px"},children:[" Print ",p.size," Labels"]})]})]}),n.jsxs("div",{style:{...s.card,marginBottom:"12px",padding:"10px 16px",display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[n.jsx("input",{value:i,onChange:L=>o(L.target.value),placeholder:"Search shape, dimensions, location, heat #, barcode...",style:{...s.input,flex:1,minWidth:"200px"}}),n.jsxs("select",{value:a,onChange:L=>d(L.target.value),style:s.input,children:[n.jsx("option",{value:"available",children:"Available"}),n.jsx("option",{value:"reserved",children:"Reserved"}),n.jsx("option",{value:"used",children:"Used"}),n.jsx("option",{value:"all",children:"All Statuses"})]})]}),u&&n.jsxs("div",{style:{...s.card,marginBottom:"12px",padding:"16px"},children:[n.jsx("div",{style:{fontWeight:"700",color:"#10b981",marginBottom:"10px"},children:" Add Inventory Item"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"8px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Shape*"}),n.jsx("input",{value:z.shape,onChange:L=>N({...z,shape:L.target.value}),style:s.input,placeholder:"W, PL, HSS, L..."})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Dimensions*"}),n.jsx("input",{value:z.dimensions,onChange:L=>N({...z,dimensions:L.target.value}),style:s.input,placeholder:'W10X22, 1/2"X12"'})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Grade"}),n.jsx("input",{value:z.grade,onChange:L=>N({...z,grade:L.target.value}),style:s.input})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Length Display"}),n.jsx("input",{value:z.length_display,onChange:L=>N({...z,length_display:L.target.value}),style:s.input,placeholder:"40'"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Length (inches)"}),n.jsx("input",{value:z.length_inches,onChange:L=>N({...z,length_inches:L.target.value}),style:s.input,type:"number",placeholder:"480"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Width (inches)"}),n.jsx("input",{value:z.width_inches,onChange:L=>N({...z,width_inches:L.target.value}),style:s.input,type:"number",placeholder:"Plate only"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Quantity"}),n.jsx("input",{value:z.quantity,onChange:L=>N({...z,quantity:L.target.value}),style:s.input,type:"number"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Heat Number"}),n.jsx("input",{value:z.heat_number,onChange:L=>N({...z,heat_number:L.target.value}),style:s.input})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Location"}),n.jsx("input",{value:z.location,onChange:L=>N({...z,location:L.target.value}),style:s.input,placeholder:"Yard Bay 1"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Notes"}),n.jsx("input",{value:z.notes,onChange:L=>N({...z,notes:L.target.value}),style:s.input})]})]}),n.jsxs("div",{style:{marginTop:"10px",display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:F,style:{...s.btn,background:"#059669",color:"white",padding:"6px 16px"},children:" Add & Generate Barcode"}),n.jsx("button",{onClick:()=>c(!1),style:{...s.btn,...s.btnGray},children:"Cancel"})]})]}),g&&n.jsxs("div",{style:{...s.card,marginBottom:"12px",padding:"16px"},children:[n.jsx("div",{style:{fontWeight:"700",color:"#3b82f6",marginBottom:"10px"},children:" CSV Bulk Import"}),n.jsx("p",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"8px"},children:"Upload a CSV with columns: shape, dimensions, grade, length_display, length_inches, width_inches, quantity, heat_number, location, notes"}),n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[n.jsx("input",{type:"file",accept:".csv",onChange:U,style:{fontSize:"12px"}}),n.jsx("button",{onClick:X,style:{...s.btn,...s.btnGray,fontSize:"11px"},children:" Download Template"}),n.jsx("button",{onClick:()=>S(!1),style:{...s.btn,...s.btnGray,fontSize:"11px"},children:"Cancel"})]}),E&&n.jsx("div",{style:{color:"#f59e0b",marginTop:"8px",fontSize:"12px"},children:" Importing..."})]}),j&&C&&n.jsxs("div",{style:{...s.card,marginBottom:"12px",padding:"16px",background:"#1a0a2e",borderColor:"#7c3aed"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[n.jsx("span",{style:{fontWeight:"700",color:"#a78bfa",fontSize:"16px"},children:" Inventory Check  What's In Stock?"}),n.jsx("button",{onClick:()=>P(!1),style:{...s.btn,...s.btnGray,fontSize:"11px"},children:" Close"})]}),n.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"12px"},children:[C.total_buy_groups," material groups needed  ",C.groups_with_stock," found in inventory"]}),C.matches.length===0?n.jsx("div",{style:{padding:"16px",textAlign:"center",color:"#9ca3af"},children:"No matching inventory found. All material needs to be purchased."}):n.jsxs("div",{children:[C.matches.map((L,B)=>n.jsxs("div",{style:{background:"#1e1e2e",borderRadius:"8px",padding:"12px",marginBottom:"8px",border:L.can_cover?"1px solid #166534":"1px solid #854d0e"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"},children:[n.jsxs("span",{style:{fontWeight:"700",color:"#e2e8f0"},children:[L.material," ",n.jsxs("span",{style:{color:"#9ca3af",fontWeight:"400"},children:["(",L.grade,")"]})]}),n.jsxs("span",{style:{fontSize:"12px"},children:["Need: ",n.jsx("span",{style:{color:"#ef4444",fontWeight:"700"},children:L.needed_qty}),"  In Stock: ",n.jsx("span",{style:{color:"#4ade80",fontWeight:"700"},children:L.available_qty}),L.can_cover&&n.jsx("span",{style:{color:"#4ade80",marginLeft:"8px"},children:" FULLY COVERED"}),!L.can_cover&&n.jsx("span",{style:{color:"#f59e0b",marginLeft:"8px"},children:" PARTIAL"})]})]}),n.jsxs("table",{style:{width:"100%",fontSize:"11px",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{color:"#9ca3af"},children:[n.jsx("th",{style:{textAlign:"left",padding:"3px 6px"},children:"Barcode"}),n.jsx("th",{style:{textAlign:"left",padding:"3px 6px"},children:"Length"}),n.jsx("th",{style:{textAlign:"center",padding:"3px 6px"},children:"Qty"}),n.jsx("th",{style:{textAlign:"left",padding:"3px 6px"},children:"Location"}),n.jsx("th",{style:{textAlign:"left",padding:"3px 6px"},children:"Heat #"}),n.jsx("th",{style:{textAlign:"center",padding:"3px 6px"},children:"Use?"})]})}),n.jsx("tbody",{children:L.inventory_items.map((b,O)=>n.jsxs("tr",{style:{color:"#d1d5db"},children:[n.jsx("td",{style:{padding:"3px 6px",fontFamily:"monospace",color:"#60a5fa"},children:b.barcode}),n.jsx("td",{style:{padding:"3px 6px"},children:b.length_display}),n.jsx("td",{style:{padding:"3px 6px",textAlign:"center"},children:b.quantity}),n.jsx("td",{style:{padding:"3px 6px"},children:b.location}),n.jsx("td",{style:{padding:"3px 6px"},children:b.heat_number}),n.jsx("td",{style:{padding:"3px 6px",textAlign:"center"},children:n.jsx("button",{onClick:()=>$([{inv_id:b.inv_id,qty:b.quantity}]),style:{...s.btn,background:"#059669",color:"white",padding:"2px 10px",fontSize:"10px"},children:"Use"})})]},O))})]})]},B)),n.jsxs("div",{style:{marginTop:"10px",display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:()=>{const L=C.matches.flatMap(B=>B.inventory_items.map(b=>({inv_id:b.inv_id,qty:Math.min(b.quantity,B.needed_qty)})));$(L)},style:{...s.btn,background:"#059669",color:"white",padding:"8px 20px"},children:" Use All Available Stock"}),n.jsx("p",{style:{fontSize:"11px",color:"#9ca3af",alignSelf:"center"},children:"After reserving stock, create an RFQ for only the remaining material you still need to buy."})]})]})]}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#1e293b"},children:[n.jsx("th",{style:{...s.th,padding:"6px 4px",width:"30px"},children:n.jsx("input",{type:"checkbox",onChange:L=>{L.target.checked?m(new Set(r.map(B=>B.id))):m(new Set)},checked:p.size>0&&p.size===r.length})}),["Barcode","Shape","Dimensions","Grade","Length","Qty","Location","Heat #","Status","Actions"].map(L=>n.jsx("th",{style:{...s.th,padding:"6px 8px",fontSize:"11px",whiteSpace:"nowrap"},children:L},L))]})}),n.jsxs("tbody",{children:[r.map(L=>n.jsxs("tr",{style:{borderBottom:"1px solid #1e293b"},children:[n.jsx("td",{style:{...s.td,padding:"4px"},children:n.jsx("input",{type:"checkbox",checked:p.has(L.id),onChange:B=>{const b=new Set(p);B.target.checked?b.add(L.id):b.delete(L.id),m(b)}})}),n.jsx("td",{style:{...s.td,fontFamily:"monospace",color:"#60a5fa",fontSize:"10px"},children:L.barcode||""}),n.jsx("td",{style:{...s.td,fontWeight:"600",color:"#f59e0b"},children:L.shape}),n.jsx("td",{style:s.td,children:L.dimensions}),n.jsx("td",{style:s.td,children:L.grade}),n.jsx("td",{style:s.td,children:L.length_display}),n.jsx("td",{style:{...s.td,textAlign:"center",fontWeight:"600"},children:L.quantity}),n.jsx("td",{style:s.td,children:L.location}),n.jsx("td",{style:{...s.td,fontSize:"10px"},children:L.heat_number}),n.jsxs("td",{style:s.td,children:[L.status==="available"&&n.jsx("span",{style:{color:"#4ade80",fontSize:"11px"},children:" Available"}),L.status==="reserved"&&n.jsxs("span",{style:{color:"#f59e0b",fontSize:"11px"},title:L.reserved_project||"",children:[" Reserved",L.reserved_project?`  ${L.reserved_project}`:""]}),L.status==="used"&&n.jsx("span",{style:{color:"#94a3b8",fontSize:"11px"},children:"Used"})]}),n.jsx("td",{style:{...s.td,whiteSpace:"nowrap"},children:n.jsxs("div",{style:{display:"flex",gap:"3px"},children:[n.jsx("button",{onClick:()=>D(L),style:{...s.btn,background:"#0891b2",color:"white",padding:"2px 6px",fontSize:"10px"},title:"Print label with QR code",children:""}),L.status==="available"&&e&&n.jsx("button",{onClick:()=>f(L.id),style:{...s.btn,background:"#7c3aed",color:"white",padding:"2px 6px",fontSize:"10px"},title:"Reserve for this project",children:""}),L.status==="reserved"&&n.jsx("button",{onClick:()=>R(L.id),style:{...s.btn,background:"#059669",color:"white",padding:"2px 6px",fontSize:"10px"},title:"Release back to available",children:""}),n.jsx("button",{onClick:()=>T(L.id),style:{...s.btn,background:"#7f1d1d",color:"#fca5a5",padding:"2px 6px",fontSize:"10px"},children:""})]})})]},L.id)),r.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:11,style:{padding:"24px",textAlign:"center",color:"#6b7280"},children:"No inventory items found. Add items or import CSV to get started."})})]})]})})]})}function Wf({projectId:e}){const[t,r]=v.useState([]),[l,i]=v.useState(!1),[o,a]=v.useState(null),[d,u]=v.useState(!1),[c,g]=v.useState({folder_number:"",folder_name:"",shop:"Shop 1",assigned_to:"",notes:"",piece_marks_text:""}),[S,j]=v.useState(""),[P,C]=v.useState(null),[y,E]=v.useState({});v.useEffect(()=>{x()},[e]);const x=async()=>{const A=await fetch(G+"/api/v2/projects/"+e+"/folders");A.ok&&r(await A.json())},p=async()=>{const A=c.piece_marks_text.split(/[\n,]+/).map(L=>L.trim()).filter(Boolean),$={folder_number:parseInt(c.folder_number)||t.length+1,folder_name:c.folder_name,shop:c.shop,assigned_to:c.assigned_to,notes:c.notes,piece_marks:A},X=await fetch(G+"/api/v2/projects/"+e+"/folders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(X.ok)i(!1),g({folder_number:"",folder_name:"",shop:"Shop 1",assigned_to:"",notes:"",piece_marks_text:""}),x();else try{const L=await X.json();alert(L.detail)}catch{alert("Error")}},m=async A=>{const $=S.split(/[\n,]+/).map(L=>L.trim()).filter(Boolean);(await fetch(G+"/api/v2/folders/"+A+"/add-marks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({marks:$})})).ok&&(j(""),C(null),x())},z=async(A,$)=>{confirm("Remove this mark from folder?")&&(await fetch(G+"/api/v2/folders/"+A+"/items/"+$,{method:"DELETE"}),x())},N=async(A,$)=>{const X=new FormData;X.append("completed_by",""),X.append("station","");const L=await fetch(G+"/api/v2/folders/"+A+"/complete-item/"+$,{method:"POST",body:X});L.ok&&((await L.json()).folder_complete&&alert(" Folder completed!"),x())},I=async(A,$)=>{if(!confirm("Mark this entire folder as completed?"))return;const X=new FormData;X.append("completed_by",""),X.append("next_station",$||""),(await fetch(G+"/api/v2/folders/"+A+"/complete",{method:"POST",body:X})).ok&&(alert(" Folder completed! All parts updated."),x())},F=async A=>{const $=y[A];if(!$)return;const X=new FormData;X.append("station",$.station),X.append("sub_location",$.sub||""),X.append("moved_by",""),(await fetch(G+"/api/v2/folders/"+A+"/move-station",{method:"POST",body:X})).ok&&(E(B=>({...B,[A]:null})),x())},U=async A=>{confirm("Delete this folder? Items will not be deleted from the project.")&&(await fetch(G+"/api/v2/folders/"+A,{method:"DELETE"}),x())},T={Yard:["Yard","Yard - Bay 1","Yard - Bay 2","Yard - Bay 3","Yard - Rack"],PreProduction:["Plasma Plate","Plasma Beam Line","Piranha Laser","Press Brake"],"Assembly / QC":["Fit","QC","Weld","CWI - Visual","CWI - NDT"],Finish:["Prime","Galvanize","Powder Coat","Off Site Painting"],Shipping:["Ready to Ship","Shipped - To Coater","Shipped - To Customer","Delivered"]},f=A=>({Yard:"#78716c","Plasma Plate":"#0e7490","Plasma Beam Line":"#0369a1","Piranha Laser":"#7c3aed","Press Brake":"#6d28d9",Fit:"#c026d3",QC:"#ea580c",Weld:"#dc2626","CWI - Visual":"#f97316","CWI - NDT":"#ef4444",Prime:"#0891b2",Galvanize:"#ca8a04","Powder Coat":"#7c3aed","Off Site Painting":"#a16207","Ready to Ship":"#16a34a","Shipped - To Coater":"#059669","Shipped - To Customer":"#22c55e",Delivered:"#15803d"})[A]||"#6b7280",R=A=>A==="completed"?{bg:"#166534",color:"#4ade80",text:" COMPLETED"}:A==="in_progress"?{bg:"#854d0e",color:"#fbbf24",text:" IN PROGRESS"}:{bg:"#374151",color:"#9ca3af",text:" OPEN"},D=t.filter(A=>A.shop==="Shop 1"),w=t.filter(A=>A.shop==="Shop 2");return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[n.jsx("span",{style:{fontSize:"18px",fontWeight:"700",color:"#c026d3"},children:" Production Folders"}),n.jsx("button",{onClick:()=>i(!l),style:{...s.btn,background:"#059669",color:"white",padding:"6px 14px",fontSize:"12px"},children:" New Folder"})]}),l&&n.jsxs("div",{style:{...s.card,marginBottom:"12px",padding:"16px"},children:[n.jsx("div",{style:{fontWeight:"700",color:"#10b981",marginBottom:"10px"},children:" Create Production Folder"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"8px",marginBottom:"8px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Folder #"}),n.jsx("input",{value:c.folder_number,onChange:A=>g({...c,folder_number:A.target.value}),style:s.input,placeholder:String(t.length+1),type:"number"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Name"}),n.jsx("input",{value:c.folder_name,onChange:A=>g({...c,folder_name:A.target.value}),style:s.input,placeholder:"Main Beams"})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Shop"}),n.jsxs("select",{value:c.shop,onChange:A=>g({...c,shop:A.target.value}),style:s.input,children:[n.jsx("option",{children:"Shop 1"}),n.jsx("option",{children:"Shop 2"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Assigned To"}),n.jsx("input",{value:c.assigned_to,onChange:A=>g({...c,assigned_to:A.target.value}),style:s.input})]})]}),n.jsxs("div",{style:{marginBottom:"8px"},children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Piece Marks (comma or line separated)"}),n.jsx("textarea",{value:c.piece_marks_text,onChange:A=>g({...c,piece_marks_text:A.target.value}),style:{...s.input,height:"80px",fontFamily:"monospace"},placeholder:`A1, A2, A3
B1, B2
C1`})]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:p,style:{...s.btn,background:"#059669",color:"white",padding:"6px 16px"},children:" Create Folder"}),n.jsx("button",{onClick:()=>i(!1),style:{...s.btn,...s.btnGray},children:"Cancel"})]})]}),[{label:"Shop 1",data:D},{label:"Shop 2",data:w}].map(A=>A.data.length>0&&n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:"700",color:"#9ca3af",marginBottom:"8px",borderBottom:"1px solid #333",paddingBottom:"4px"},children:A.label}),A.data.map($=>{var B,b,O,q;const X=R($.status),L=o===$.id;return n.jsxs("div",{style:{...s.card,marginBottom:"8px",padding:"12px",borderColor:$.status==="completed"?"#166534":"#333"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},onClick:()=>a(L?null:$.id),children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsxs("span",{style:{fontSize:"16px",fontWeight:"700",color:"#e2e8f0"},children:[" ",$.folder_name]}),n.jsx("span",{style:{fontSize:"11px",padding:"2px 8px",borderRadius:"4px",background:X.bg,color:X.color},children:X.text}),n.jsx("span",{style:{fontSize:"11px",padding:"2px 8px",borderRadius:"4px",background:f($.station)+"33",color:f($.station)},children:$.station})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsxs("span",{style:{fontSize:"12px",color:"#9ca3af"},children:[$.completed_items,"/",$.total_items," done"]}),n.jsx("div",{style:{width:"80px",height:"8px",background:"#374151",borderRadius:"4px",overflow:"hidden"},children:n.jsx("div",{style:{width:`${$.total_items?$.completed_items/$.total_items*100:0}%`,height:"100%",background:$.completed_items===$.total_items&&$.total_items>0?"#4ade80":"#f59e0b",borderRadius:"4px"}})}),n.jsx("span",{style:{fontSize:"14px"},children:L?"":""})]})]}),L&&n.jsxs("div",{style:{marginTop:"12px"},children:[$.assigned_to&&n.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af",marginBottom:"6px"},children:["Assigned to: ",n.jsx("b",{children:$.assigned_to})]}),n.jsxs("div",{style:{display:"flex",gap:"6px",marginBottom:"10px",flexWrap:"wrap",alignItems:"center"},children:[n.jsx("span",{style:{fontSize:"11px",color:"#9ca3af"},children:"Move folder to:"}),n.jsxs("select",{value:((B=y[$.id])==null?void 0:B.station)||"",onChange:H=>E(ee=>({...ee,[$.id]:{...ee[$.id],station:H.target.value}})),style:{...s.input,width:"180px",fontSize:"11px",padding:"4px"},children:[n.jsx("option",{value:"",children:"Select station..."}),Object.entries(T).map(([H,ee])=>n.jsx("optgroup",{label:H,children:ee.map(h=>n.jsx("option",{value:h,children:h},h))},H))]}),n.jsx("input",{value:((b=y[$.id])==null?void 0:b.sub)||"",onChange:H=>E(ee=>({...ee,[$.id]:{...ee[$.id],sub:H.target.value}})),placeholder:"Sub-location",style:{...s.input,width:"120px",fontSize:"11px",padding:"4px"}}),n.jsx("button",{onClick:()=>F($.id),disabled:!((O=y[$.id])!=null&&O.station),style:{...s.btn,background:"#2563eb",color:"white",padding:"3px 10px",fontSize:"11px",opacity:(q=y[$.id])!=null&&q.station?1:.5},children:" Move"}),$.status!=="completed"&&n.jsx("button",{onClick:()=>{var H;return I($.id,((H=y[$.id])==null?void 0:H.station)||"")},style:{...s.btn,background:"#059669",color:"white",padding:"3px 10px",fontSize:"11px",marginLeft:"auto"},children:" Complete Folder"}),n.jsx("button",{onClick:()=>U($.id),style:{...s.btn,background:"#7f1d1d",color:"#fca5a5",padding:"3px 10px",fontSize:"11px"},children:""})]}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#1e293b"},children:[n.jsx("th",{style:{...s.th,padding:"4px 8px"},children:"Mark"}),n.jsx("th",{style:{...s.th,padding:"4px 8px"},children:"Type"}),n.jsx("th",{style:{...s.th,padding:"4px 8px"},children:"Qty"}),n.jsx("th",{style:{...s.th,padding:"4px 8px"},children:"Station (Tracker)"}),n.jsx("th",{style:{...s.th,padding:"4px 8px"},children:"Status"}),n.jsx("th",{style:{...s.th,padding:"4px 8px"},children:"Actions"})]})}),n.jsx("tbody",{children:$.items.map(H=>n.jsxs("tr",{style:{borderBottom:"1px solid #1e293b",opacity:H.status==="completed"?.6:1},children:[n.jsx("td",{style:{...s.td,fontWeight:"700",color:"#60a5fa",fontFamily:"monospace"},children:H.piece_mark}),n.jsx("td",{style:s.td,children:H.assembly_name||""}),n.jsx("td",{style:{...s.td,textAlign:"center"},children:H.assembly_qty||""}),n.jsxs("td",{style:s.td,children:[H.current_station&&n.jsx("span",{style:{padding:"2px 6px",borderRadius:"4px",fontSize:"10px",background:f(H.current_station)+"33",color:f(H.current_station)},children:H.current_station}),!H.current_station&&n.jsx("span",{style:{color:"#6b7280"},children:""})]}),n.jsx("td",{style:s.td,children:H.status==="completed"?n.jsx("span",{style:{color:"#4ade80"},children:" Done"}):n.jsx("span",{style:{color:"#f59e0b"},children:" Pending"})}),n.jsx("td",{style:s.td,children:n.jsxs("div",{style:{display:"flex",gap:"3px"},children:[H.status!=="completed"&&n.jsx("button",{onClick:()=>N($.id,H.id),style:{...s.btn,background:"#059669",color:"white",padding:"2px 6px",fontSize:"10px"},children:""}),n.jsx("button",{onClick:()=>z($.id,H.id),style:{...s.btn,background:"#7f1d1d",color:"#fca5a5",padding:"2px 6px",fontSize:"10px"},children:""})]})})]},H.id))})]}),P===$.id?n.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"6px",alignItems:"center"},children:[n.jsx("input",{value:S,onChange:H=>j(H.target.value),placeholder:"A5, A6, B3...",style:{...s.input,flex:1,fontSize:"12px"}}),n.jsx("button",{onClick:()=>m($.id),style:{...s.btn,background:"#059669",color:"white",padding:"4px 10px",fontSize:"11px"},children:"Add"}),n.jsx("button",{onClick:()=>{C(null),j("")},style:{...s.btn,...s.btnGray,padding:"4px 10px",fontSize:"11px"},children:"Cancel"})]}):n.jsx("button",{onClick:()=>C($.id),style:{...s.btn,...s.btnGray,marginTop:"8px",padding:"4px 10px",fontSize:"11px"},children:" Add Marks"})]})]},$.id)})]},A.label)),t.length===0&&!l&&n.jsxs("div",{style:{...s.card,padding:"32px",textAlign:"center",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:""}),n.jsx("div",{children:"No production folders yet. Create a folder and assign piece marks to start tracking."})]})]})}function Mf({projectId:e}){const[t,r]=v.useState("sov"),[l,i]=v.useState([]),[o,a]=v.useState([]),[d,u]=v.useState(null),[c,g]=v.useState({}),[S,j]=v.useState(!1),[P,C]=v.useState({item_number:"",description:"",scheduled_value:""}),[y,E]=v.useState(""),[x,p]=v.useState(!1),[m,z]=v.useState(!1),[N,I]=v.useState({period_from:"",period_to:"",retainage_pct:10,notes:""}),[F,U]=v.useState(!1),[T,f]=v.useState(null);v.useEffect(()=>{R(),D()},[e]);const R=async()=>{const _=await fetch(G+"/api/v2/projects/"+e+"/sov");_.ok&&i(await _.json())},D=async()=>{const _=await fetch(G+"/api/v2/projects/"+e+"/invoices");_.ok&&a(await _.json())},w=async()=>{(await fetch(G+"/api/v2/projects/"+e+"/sov",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...P,scheduled_value:parseFloat(P.scheduled_value)||0})})).ok&&(C({item_number:"",description:"",scheduled_value:""}),j(!1),R())},A=async _=>{(await fetch(G+"/api/v2/sov/"+_,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})).ok&&(f(null),R())},$=async _=>{confirm("Delete this SOV line?")&&(await fetch(G+"/api/v2/sov/"+_,{method:"DELETE"}),R())},X=async()=>{const _=y.split(`
`).filter(K=>K.trim()).map((K,ye)=>{const Ce=K.split("	").length>1?K.split("	"):K.split(",");return{item_number:(Ce[0]||String(ye+1)).trim(),description:(Ce[1]||"").trim(),scheduled_value:parseFloat((Ce[2]||"0").replace(/[$,]/g,""))||0}}).filter(K=>K.description);if(!_.length)return alert("No valid lines found");(await fetch(G+"/api/v2/projects/"+e+"/sov/bulk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lines:_})})).ok&&(E(""),p(!1),R())},L=async()=>{const _=await fetch(G+"/api/v2/projects/"+e+"/invoices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(_.ok){const V=await _.json();z(!1),D(),B(V.invoice_id)}else{const V=await _.json();alert(V.detail||"Error")}},B=async _=>{const V=await fetch(G+"/api/v2/invoices/"+_);if(V.ok){const K=await V.json();u(K),r("detail");const ye={};K.line_items.forEach(Ce=>{ye[Ce.id]={this_period:Ce.this_period,materials_stored:Ce.materials_stored}}),g(ye)}},b=async()=>{if(d){U(!0);try{(await fetch(G+"/api/v2/invoices/"+d.id+"/lines",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok&&(B(d.id),D())}finally{U(!1)}}},O=async()=>{confirm("Submit this pay application?")&&(await fetch(G+"/api/v2/invoices/"+d.id+"/submit",{method:"PUT"}),B(d.id),D())},q=async()=>{await fetch(G+"/api/v2/invoices/"+d.id+"/approve",{method:"PUT"}),B(d.id),D()},H=async()=>{await fetch(G+"/api/v2/invoices/"+d.id+"/paid",{method:"PUT"}),B(d.id),D()},ee=async()=>{confirm("Delete this draft invoice?")&&(await fetch(G+"/api/v2/invoices/"+d.id,{method:"DELETE"}),u(null),r("invoices"),D())},h=_=>"$"+(_||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),M=l.reduce((_,V)=>_+V.scheduled_value,0),k={draft:{bg:"#374151",color:"#9ca3af"},submitted:{bg:"#1e3a5f",color:"#60a5fa"},approved:{bg:"#854d0e",color:"#fbbf24"},paid:{bg:"#166534",color:"#4ade80"}};return n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",gap:"6px",marginBottom:"16px"},children:[n.jsx("button",{onClick:()=>r("sov"),style:{...s.btn,padding:"8px 16px",fontWeight:"600",background:t==="sov"?"#7c3aed":"#1f2937",color:t==="sov"?"white":"#9ca3af",border:t==="sov"?"2px solid #7c3aed":"1px solid #374151"},children:" Schedule of Values"}),n.jsxs("button",{onClick:()=>r("invoices"),style:{...s.btn,padding:"8px 16px",fontWeight:"600",background:t==="invoices"?"#059669":"#1f2937",color:t==="invoices"?"white":"#9ca3af",border:t==="invoices"?"2px solid #059669":"1px solid #374151"},children:[" Pay Applications (",o.length,")"]}),d&&n.jsxs("button",{onClick:()=>r("detail"),style:{...s.btn,padding:"8px 16px",fontWeight:"600",background:t==="detail"?"#2563eb":"#1f2937",color:t==="detail"?"white":"#9ca3af",border:t==="detail"?"2px solid #2563eb":"1px solid #374151"},children:[" App #",d.application_number]})]}),t==="sov"&&n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[n.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:"#a78bfa"},children:" Schedule of Values"}),n.jsxs("div",{style:{display:"flex",gap:"6px"},children:[n.jsx("button",{onClick:()=>p(!x),style:{...s.btn,...s.btnGray,fontSize:"11px",padding:"4px 10px"},children:" Paste Bulk"}),n.jsx("button",{onClick:()=>j(!S),style:{...s.btn,background:"#059669",color:"white",fontSize:"11px",padding:"4px 10px"},children:" Add Line"})]})]}),x&&n.jsxs("div",{style:{...s.card,marginBottom:"12px",padding:"12px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"6px"},children:"Paste from Excel/CSV: Item# [tab] Description [tab] Amount"}),n.jsx("textarea",{value:y,onChange:_=>E(_.target.value),style:{...s.input,height:"120px",fontFamily:"monospace",fontSize:"12px"},placeholder:`1	Structural Steel Fabrication	250000
2	Misc Metals	75000
3	Steel Erection	180000`}),n.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px"},children:[n.jsx("button",{onClick:X,style:{...s.btn,background:"#059669",color:"white",padding:"4px 12px",fontSize:"12px"},children:"Import"}),n.jsx("button",{onClick:()=>p(!1),style:{...s.btn,...s.btnGray,padding:"4px 12px",fontSize:"12px"},children:"Cancel"})]})]}),S&&n.jsx("div",{style:{...s.card,marginBottom:"12px",padding:"12px"},children:n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"flex-end"},children:[n.jsxs("div",{style:{width:"60px"},children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Item #"}),n.jsx("input",{value:P.item_number,onChange:_=>C({...P,item_number:_.target.value}),style:{...s.input,fontSize:"12px"},placeholder:String(l.length+1)})]}),n.jsxs("div",{style:{flex:1},children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Description"}),n.jsx("input",{value:P.description,onChange:_=>C({...P,description:_.target.value}),style:{...s.input,fontSize:"12px"},placeholder:"Structural Steel Fabrication"})]}),n.jsxs("div",{style:{width:"140px"},children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Scheduled Value"}),n.jsx("input",{value:P.scheduled_value,onChange:_=>C({...P,scheduled_value:_.target.value}),style:{...s.input,fontSize:"12px"},placeholder:"250000",type:"number"})]}),n.jsx("button",{onClick:w,style:{...s.btn,background:"#059669",color:"white",padding:"6px 12px",fontSize:"12px"},children:"Add"})]})}),l.length>0&&n.jsx("div",{style:{...s.card,padding:"0",overflow:"hidden"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#1e293b"},children:[n.jsx("th",{style:{...s.th,padding:"8px",width:"60px"},children:"Item"}),n.jsx("th",{style:{...s.th,padding:"8px",textAlign:"left"},children:"Description of Work"}),n.jsx("th",{style:{...s.th,padding:"8px",width:"150px",textAlign:"right"},children:"Scheduled Value"}),n.jsx("th",{style:{...s.th,padding:"8px",width:"80px"},children:"Actions"})]})}),n.jsxs("tbody",{children:[l.map(_=>n.jsx("tr",{style:{borderBottom:"1px solid #1e293b"},children:T&&T.id===_.id?n.jsxs(n.Fragment,{children:[n.jsx("td",{style:s.td,children:n.jsx("input",{value:T.item_number,onChange:V=>f({...T,item_number:V.target.value}),style:{...s.input,fontSize:"12px",width:"50px"}})}),n.jsx("td",{style:s.td,children:n.jsx("input",{value:T.description,onChange:V=>f({...T,description:V.target.value}),style:{...s.input,fontSize:"12px"}})}),n.jsx("td",{style:s.td,children:n.jsx("input",{value:T.scheduled_value,onChange:V=>f({...T,scheduled_value:parseFloat(V.target.value)||0}),style:{...s.input,fontSize:"12px",textAlign:"right"},type:"number"})}),n.jsxs("td",{style:{...s.td,textAlign:"center"},children:[n.jsx("button",{onClick:()=>A(_.id),style:{...s.btn,background:"#059669",color:"white",padding:"2px 6px",fontSize:"10px",marginRight:"3px"},children:""}),n.jsx("button",{onClick:()=>f(null),style:{...s.btn,...s.btnGray,padding:"2px 6px",fontSize:"10px"},children:""})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("td",{style:{...s.td,textAlign:"center",fontWeight:"600"},children:_.item_number}),n.jsx("td",{style:s.td,children:_.description}),n.jsx("td",{style:{...s.td,textAlign:"right",fontWeight:"600",fontFamily:"monospace"},children:h(_.scheduled_value)}),n.jsxs("td",{style:{...s.td,textAlign:"center"},children:[n.jsx("button",{onClick:()=>f({id:_.id,item_number:_.item_number,description:_.description,scheduled_value:_.scheduled_value}),style:{background:"none",border:"none",cursor:"pointer",fontSize:"12px"},children:""}),n.jsx("button",{onClick:()=>$(_.id),style:{background:"none",border:"none",cursor:"pointer",fontSize:"12px"},children:""})]})]})},_.id)),n.jsxs("tr",{style:{background:"#111",fontWeight:"700"},children:[n.jsx("td",{style:{...s.td,textAlign:"center"}}),n.jsx("td",{style:{...s.td,textAlign:"right"},children:"TOTAL CONTRACT SUM"}),n.jsx("td",{style:{...s.td,textAlign:"right",fontFamily:"monospace",color:"#4ade80",fontSize:"16px"},children:h(M)}),n.jsx("td",{style:s.td})]})]})]})}),l.length===0&&n.jsxs("div",{style:{...s.card,padding:"32px",textAlign:"center",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:""}),"No Schedule of Values yet. Add line items to start billing."]})]}),t==="invoices"&&n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[n.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:"#10b981"},children:" Pay Applications (AIA G702)"}),n.jsx("button",{onClick:()=>z(!0),style:{...s.btn,background:"#059669",color:"white",fontSize:"12px",padding:"6px 14px"},children:" New Pay Application"})]}),m&&n.jsxs("div",{style:{...s.card,marginBottom:"12px",padding:"16px"},children:[n.jsx("div",{style:{fontWeight:"600",color:"#10b981",marginBottom:"10px"},children:"New Application for Payment"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"8px",marginBottom:"10px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Period From"}),n.jsx("input",{type:"date",value:N.period_from,onChange:_=>I({...N,period_from:_.target.value}),style:s.input})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Period To"}),n.jsx("input",{type:"date",value:N.period_to,onChange:_=>I({...N,period_to:_.target.value}),style:s.input})]}),n.jsxs("div",{children:[n.jsx("label",{style:{fontSize:"10px",color:"#9ca3af"},children:"Retainage %"}),n.jsx("input",{type:"number",value:N.retainage_pct,onChange:_=>I({...N,retainage_pct:parseFloat(_.target.value)||0}),style:s.input})]})]}),n.jsxs("div",{style:{display:"flex",gap:"6px"},children:[n.jsx("button",{onClick:L,style:{...s.btn,background:"#059669",color:"white",padding:"6px 16px"},children:"Create Application"}),n.jsx("button",{onClick:()=>z(!1),style:{...s.btn,...s.btnGray},children:"Cancel"})]})]}),o.map(_=>{const V=k[_.status]||k.draft;return n.jsxs("div",{onClick:()=>B(_.id),style:{...s.card,marginBottom:"8px",padding:"14px",cursor:"pointer",borderLeft:`4px solid ${V.color}`},onMouseEnter:K=>K.currentTarget.style.background="#1e293b",onMouseLeave:K=>K.currentTarget.style.background="",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsxs("span",{style:{fontWeight:"700",fontSize:"16px"},children:["Application #",_.application_number]}),n.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",background:V.bg,color:V.color},children:_.status.toUpperCase()})]}),n.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"#4ade80",fontFamily:"monospace"},children:h(_.current_payment_due)})]}),n.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"4px"},children:[_.period_from&&_.period_to?`${_.period_from} to ${_.period_to}`:"No period set","  ","Completed: ",h(_.total_completed_and_stored)," of ",h(_.contract_sum_to_date),"  ","Retainage: ",h(_.total_retainage)]})]},_.id)}),o.length===0&&n.jsxs("div",{style:{...s.card,padding:"32px",textAlign:"center",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:""}),"No pay applications yet. ",l.length===0?"Create your SOV first.":"Create your first application."]})]}),t==="detail"&&d&&n.jsxs("div",{children:[n.jsxs("div",{style:{...s.card,marginBottom:"12px",padding:"16px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsxs("span",{style:{fontSize:"18px",fontWeight:"700"},children:["AIA G702  Application #",d.application_number]}),n.jsx("span",{style:{marginLeft:"10px",padding:"3px 10px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",background:(k[d.status]||k.draft).bg,color:(k[d.status]||k.draft).color},children:d.status.toUpperCase()})]}),n.jsxs("div",{style:{display:"flex",gap:"6px"},children:[d.status==="draft"&&n.jsx("button",{onClick:O,style:{...s.btn,background:"#2563eb",color:"white",padding:"5px 12px",fontSize:"12px"},children:" Submit"}),d.status==="submitted"&&n.jsx("button",{onClick:q,style:{...s.btn,background:"#ca8a04",color:"white",padding:"5px 12px",fontSize:"12px"},children:" Approve"}),d.status==="approved"&&n.jsx("button",{onClick:H,style:{...s.btn,background:"#059669",color:"white",padding:"5px 12px",fontSize:"12px"},children:" Mark Paid"}),d.status==="draft"&&n.jsx("button",{onClick:ee,style:{...s.btn,background:"#7f1d1d",color:"#fca5a5",padding:"5px 12px",fontSize:"12px"},children:""})]})]}),d.period_from&&n.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"10px"},children:["Period: ",d.period_from," to ",d.period_to]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1px",background:"#374151",borderRadius:"6px",overflow:"hidden"},children:[["1. Original Contract Sum",h(d.original_contract_sum)],["2. Net Change Orders",h(d.net_change_orders)],["3. Contract Sum to Date",h(d.contract_sum_to_date)],["4. Total Completed & Stored",h(d.total_completed_and_stored)],["5a. Retainage on Completed",h(d.retainage_on_completed)],["5b. Retainage on Stored",h(d.retainage_on_stored)],["5. Total Retainage ("+d.retainage_pct+"%)",h(d.total_retainage)],["6. Less Previous Certificates",h(d.less_previous_certificates)]].map(([_,V],K)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 12px",background:"#1a1a2e",fontSize:"12px"},children:[n.jsx("span",{style:{color:"#9ca3af"},children:_}),n.jsx("span",{style:{fontFamily:"monospace",fontWeight:"500"},children:V})]},K))}),n.jsxs("div",{style:{marginTop:"12px",padding:"16px",background:"#0a2e0a",borderRadius:"8px",border:"2px solid #166534",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("span",{style:{fontSize:"16px",fontWeight:"700",color:"#4ade80"},children:"7. CURRENT PAYMENT DUE"}),n.jsx("span",{style:{fontSize:"28px",fontWeight:"700",color:"#4ade80",fontFamily:"monospace"},children:h(d.current_payment_due)})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 12px",marginTop:"4px",fontSize:"12px"},children:[n.jsx("span",{style:{color:"#9ca3af"},children:"8. Balance to Finish"}),n.jsx("span",{style:{fontFamily:"monospace"},children:h(d.balance_to_finish)})]})]}),n.jsxs("div",{style:{...s.card,padding:"0",overflow:"auto"},children:[n.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("span",{style:{fontWeight:"700",color:"#60a5fa"},children:"AIA G703  Continuation Sheet"}),d.status==="draft"&&n.jsx("button",{onClick:b,disabled:F,style:{...s.btn,background:"#059669",color:"white",padding:"5px 14px",fontSize:"12px"},children:F?" Saving...":" Save & Calculate"})]}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{style:{width:"100%",minWidth:"900px",borderCollapse:"collapse",fontSize:"12px"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#1e293b"},children:[n.jsxs("th",{style:{...s.th,padding:"6px",width:"40px"},children:["A",n.jsx("br",{}),n.jsx("span",{style:{fontSize:"9px",fontWeight:"400"},children:"Item"})]}),n.jsxs("th",{style:{...s.th,padding:"6px",textAlign:"left"},children:["B",n.jsx("br",{}),n.jsx("span",{style:{fontSize:"9px",fontWeight:"400"},children:"Description"})]}),n.jsxs("th",{style:{...s.th,padding:"6px",width:"100px"},children:["C",n.jsx("br",{}),n.jsx("span",{style:{fontSize:"9px",fontWeight:"400"},children:"Scheduled Value"})]}),n.jsxs("th",{style:{...s.th,padding:"6px",width:"100px"},children:["D",n.jsx("br",{}),n.jsx("span",{style:{fontSize:"9px",fontWeight:"400"},children:"Previous Apps"})]}),n.jsxs("th",{style:{...s.th,padding:"6px",width:"110px",background:d.status==="draft"?"#1e3a5f":"#1e293b"},children:["E",n.jsx("br",{}),n.jsx("span",{style:{fontSize:"9px",fontWeight:"400"},children:"This Period"})]}),n.jsxs("th",{style:{...s.th,padding:"6px",width:"100px",background:d.status==="draft"?"#1e3a5f":"#1e293b"},children:["F",n.jsx("br",{}),n.jsx("span",{style:{fontSize:"9px",fontWeight:"400"},children:"Materials Stored"})]}),n.jsxs("th",{style:{...s.th,padding:"6px",width:"100px"},children:["G",n.jsx("br",{}),n.jsx("span",{style:{fontSize:"9px",fontWeight:"400"},children:"Total (D+E+F)"})]}),n.jsxs("th",{style:{...s.th,padding:"6px",width:"50px"},children:["G/C",n.jsx("br",{}),n.jsx("span",{style:{fontSize:"9px",fontWeight:"400"},children:"%"})]}),n.jsxs("th",{style:{...s.th,padding:"6px",width:"100px"},children:["H",n.jsx("br",{}),n.jsx("span",{style:{fontSize:"9px",fontWeight:"400"},children:"Bal. to Finish"})]})]})}),n.jsxs("tbody",{children:[(d.line_items||[]).map(_=>{const V=c[_.id]||{},K=parseFloat(V.this_period)||0,ye=parseFloat(V.materials_stored)||0,Ce=_.previous_applications+K+ye,Hl=_.scheduled_value?Math.round(Ce/_.scheduled_value*100):0;return n.jsxs("tr",{style:{borderBottom:"1px solid #1e293b"},children:[n.jsx("td",{style:{...s.td,textAlign:"center",fontWeight:"600"},children:_.item_number}),n.jsx("td",{style:{...s.td,fontSize:"11px"},children:_.description}),n.jsx("td",{style:{...s.td,textAlign:"right",fontFamily:"monospace"},children:h(_.scheduled_value)}),n.jsx("td",{style:{...s.td,textAlign:"right",fontFamily:"monospace",color:"#9ca3af"},children:h(_.previous_applications)}),n.jsx("td",{style:{...s.td,padding:"2px 4px"},children:d.status==="draft"?n.jsx("input",{type:"number",value:V.this_period??_.this_period,onChange:ql=>g(Nn=>({...Nn,[_.id]:{...Nn[_.id],this_period:parseFloat(ql.target.value)||0}})),style:{...s.input,fontSize:"12px",textAlign:"right",padding:"4px 6px",fontFamily:"monospace",background:"#0a1628",border:"1px solid #2563eb"}}):n.jsx("span",{style:{fontFamily:"monospace",textAlign:"right",display:"block"},children:h(_.this_period)})}),n.jsx("td",{style:{...s.td,padding:"2px 4px"},children:d.status==="draft"?n.jsx("input",{type:"number",value:V.materials_stored??_.materials_stored,onChange:ql=>g(Nn=>({...Nn,[_.id]:{...Nn[_.id],materials_stored:parseFloat(ql.target.value)||0}})),style:{...s.input,fontSize:"12px",textAlign:"right",padding:"4px 6px",fontFamily:"monospace",background:"#0a1628",border:"1px solid #2563eb"}}):n.jsx("span",{style:{fontFamily:"monospace",textAlign:"right",display:"block"},children:h(_.materials_stored)})}),n.jsx("td",{style:{...s.td,textAlign:"right",fontFamily:"monospace",fontWeight:"600",color:"#4ade80"},children:h(Ce)}),n.jsxs("td",{style:{...s.td,textAlign:"center",fontWeight:"600",color:Hl>=100?"#4ade80":Hl>0?"#fbbf24":"#6b7280"},children:[Hl,"%"]}),n.jsx("td",{style:{...s.td,textAlign:"right",fontFamily:"monospace"},children:h(_.scheduled_value-Ce)})]},_.id)}),n.jsxs("tr",{style:{background:"#111",fontWeight:"700"},children:[n.jsx("td",{style:s.td}),n.jsx("td",{style:{...s.td,textAlign:"right"},children:"TOTALS"}),n.jsx("td",{style:{...s.td,textAlign:"right",fontFamily:"monospace",color:"#60a5fa"},children:h((d.line_items||[]).reduce((_,V)=>_+V.scheduled_value,0))}),n.jsx("td",{style:{...s.td,textAlign:"right",fontFamily:"monospace"},children:h((d.line_items||[]).reduce((_,V)=>_+V.previous_applications,0))}),n.jsx("td",{style:{...s.td,textAlign:"right",fontFamily:"monospace",color:"#f59e0b"},children:h(Object.values(c).reduce((_,V)=>_+(parseFloat(V.this_period)||0),0))}),n.jsx("td",{style:{...s.td,textAlign:"right",fontFamily:"monospace"},children:h(Object.values(c).reduce((_,V)=>_+(parseFloat(V.materials_stored)||0),0))}),n.jsx("td",{style:{...s.td,textAlign:"right",fontFamily:"monospace",color:"#4ade80"},children:h((d.line_items||[]).reduce((_,V)=>{const K=c[V.id]||{};return _+V.previous_applications+(parseFloat(K.this_period)||0)+(parseFloat(K.materials_stored)||0)},0))}),n.jsx("td",{style:s.td}),n.jsx("td",{style:s.td})]})]})]})})]})]})]})}function Uf(){var M;const{projectId:e}=fo(),t=Bn(),r=v.useRef(),l=v.useRef(),[i,o]=v.useState(null),[a,d]=v.useState([]),[u,c]=v.useState([]),[g,S]=v.useState(null),[j,P]=v.useState([]),[C,y]=v.useState("assemblies"),[E,x]=v.useState(""),[p,m]=v.useState(""),[z,N]=v.useState(!1),[I,F]=v.useState(null),[U,T]=v.useState(null),[f,R]=v.useState(null),[D,w]=v.useState(!1),[A,$]=v.useState(""),[X,L]=v.useState(null),[B,b]=v.useState(!1),O=v.useRef();v.useEffect(()=>{H()},[e]);const q=()=>H(),H=async()=>{const[k,_,V,K,ye]=await Promise.all([fetch(`/api/projects/${e}`),fetch(`/api/projects/${e}/assemblies?station=${E}&search=${p}`),fetch(`/api/projects/${e}/assembly-summary`),fetch(`/api/projects/${e}/drawings`),fetch(`/api/projects/${e}/inspections`)]);o(await k.json()),d(await _.json()),S(await V.json()),c(await K.json()),P(await ye.json())};v.useEffect(()=>{if(!e)return;(async()=>{const _=await fetch(`/api/projects/${e}/assemblies?station=${E}&search=${p}`);d(await _.json())})()},[E,p]);const ee=async k=>{const _=k.target.files[0];if(!_)return;N(!0),F(null);const V=new FormData;V.append("file",_);try{const K=await fetch(`/api/projects/${e}/import-xml`,{method:"POST",body:V}),ye=await K.json();K.ok?(F(ye),H()):F({error:ye.detail||"Import failed"})}catch(K){F({error:K.message})}N(!1)},h=async k=>{try{(await fetch("/api/inspections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...k,project_id:parseInt(e)})})).ok&&(T(null),H())}catch(_){console.error(_)}};return i?n.jsxs("div",{style:s.page,children:[n.jsx(tn,{title:`${i.job_number}  ${i.project_name}`,backTo:"/"}),n.jsxs("div",{style:{...s.grid4,marginBottom:"20px"},children:[n.jsxs("div",{style:{...s.card,textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#3b82f6"},children:(g==null?void 0:g.total_assemblies)||0}),n.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:"TOTAL ASSEMBLIES"})]}),n.jsxs("div",{style:{...s.card,textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#22c55e"},children:(g==null?void 0:g.shipped)||0}),n.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:"SHIPPED"})]}),n.jsxs("div",{style:{...s.card,textAlign:"center"},children:[n.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"#fbbf24"},children:[(g==null?void 0:g.percent_complete)||0,"%"]}),n.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:"COMPLETE"})]}),n.jsxs("div",{style:{...s.card,textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"32px",fontWeight:"700"},children:u.length}),n.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:"DRAWINGS"})]})]}),n.jsxs("div",{style:{...s.card,marginBottom:"12px",padding:"10px 16px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"8px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("span",{style:{fontSize:"12px",color:"#9ca3af"},children:"Status:"}),n.jsx("span",{style:{padding:"3px 10px",borderRadius:"6px",fontSize:"12px",fontWeight:"700",background:i.status==="Complete"?"#166534":i.status==="Hold"?"#854d0e":"#1e3a5f",color:i.status==="Complete"?"#4ade80":i.status==="Hold"?"#fbbf24":"#60a5fa"},children:i.status||"Active"}),i.completed_date&&n.jsxs("span",{style:{fontSize:"11px",color:"#6b7280"},children:["Completed: ",new Date(i.completed_date).toLocaleDateString()]}),i.archived&&n.jsx("span",{style:{fontSize:"11px",padding:"2px 6px",borderRadius:"4px",background:"#44403c",color:"#a8a29e"},children:" Archived"})]}),n.jsxs("div",{style:{display:"flex",gap:"6px"},children:[i.status!=="Complete"&&n.jsx("button",{onClick:async()=>{confirm("Mark this project as COMPLETE? It will auto-archive after 60 days.")&&(await fetch(`/api/projects/${e}/complete`,{method:"PUT"}),window.location.reload())},style:{...s.btn,background:"#16a34a",color:"white",padding:"5px 14px",fontSize:"12px"},children:" Complete Project"}),(i.status==="Complete"||i.archived)&&n.jsx("button",{onClick:async()=>{confirm("Reopen this project?")&&(await fetch(`/api/projects/${e}/reopen`,{method:"PUT"}),window.location.reload())},style:{...s.btn,background:"#2563eb",color:"white",padding:"5px 14px",fontSize:"12px"},children:" Reopen"})]})]}),(g==null?void 0:g.by_station)&&n.jsxs("div",{style:{...s.card,marginBottom:"20px"},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"12px"},children:"Production Flow"}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:[Jf.map(k=>{const _=g.by_station[k]||0;return _===0&&!["Detailing","Fit","Weld","Ready to Ship","Shipped"].includes(k)?null:n.jsxs("button",{onClick:()=>x(E===k?"":k),style:{padding:"6px 12px",borderRadius:"8px",border:"none",cursor:"pointer",background:E===k?Le[k]:`${Le[k]}33`,color:E===k?"white":Le[k]||"#999",fontWeight:"600",fontSize:"12px"},children:[k.replace("QC - ","").replace(" Inspection",""),": ",_]},k)}),E&&n.jsx("button",{onClick:()=>x(""),style:{...s.btn,...s.btnGray,padding:"6px 12px",fontSize:"12px"},children:" Clear Filter"})]})]}),n.jsxs("div",{style:{...s.flexGap,marginBottom:"16px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>y("assemblies"),style:{...s.btn,...C==="assemblies"?s.btnPrimary:s.btnGray},children:" Assemblies"}),n.jsx("button",{onClick:()=>y("drawings"),style:{...s.btn,...C==="drawings"?s.btnPrimary:s.btnGray},children:" Drawings"}),n.jsx("button",{onClick:()=>y("inspections"),style:{...s.btn,...C==="inspections"?s.btnPrimary:s.btnGray},children:" QC Inspections"}),n.jsx("button",{onClick:()=>y("cutlist"),style:{...s.btn,...C==="cutlist"?s.btnPrimary:s.btnGray},children:" Cut List"}),n.jsx("button",{onClick:()=>y("nesting"),style:{...s.btn,...C==="nesting"?{background:"#7c3aed",color:"white"}:s.btnGray},children:" Nesting"}),n.jsx("button",{onClick:()=>y("production"),style:{...s.btn,...C==="production"?{background:"#c026d3",color:"white"}:s.btnGray},children:" Production"}),n.jsx("button",{onClick:()=>y("rfqs"),style:{...s.btn,...C==="rfqs"?{background:"#b45309",color:"white"}:s.btnGray},children:" RFQs"}),n.jsx("button",{onClick:()=>y("pos"),style:{...s.btn,...C==="pos"?{background:"#047857",color:"white"}:s.btnGray},children:" POs"}),n.jsx("button",{onClick:()=>y("documents"),style:{...s.btn,...C==="documents"?{background:"#be185d",color:"white"}:s.btnGray},children:" Documents"}),n.jsx("button",{onClick:()=>y("inventory"),style:{...s.btn,...C==="inventory"?{background:"#d97706",color:"white"}:s.btnGray},children:" Inventory"}),n.jsx("button",{onClick:()=>y("vendors"),style:{...s.btn,...C==="vendors"?s.btnPrimary:s.btnGray},children:" Vendors"}),n.jsx("button",{onClick:()=>y("invoicing"),style:{...s.btn,...C==="invoicing"?{background:"#ca8a04",color:"white"}:s.btnGray},children:" Invoicing"}),n.jsx("div",{style:{flex:1}}),n.jsx("button",{onClick:()=>t(`/project/${e}/labels`),style:{...s.btn,...s.btnPurple},children:" Print Labels"}),n.jsx("button",{onClick:()=>t(`/project/${e}/ship`),style:{...s.btn,...s.btnGreen},children:" Ship / Load"}),n.jsx("input",{ref:r,type:"file",accept:".xml",onChange:ee,style:{display:"none"}}),n.jsx("button",{onClick:()=>r.current.click(),disabled:z,style:{...s.btn,background:"#b45309",color:"white"},children:z?" Importing...":" Import XML"})]}),I&&n.jsx("div",{style:{...s.card,marginBottom:"16px",background:I.error?"#3b1111":"#0a2e0a",borderColor:I.error?"#7f1d1d":"#166534"},children:I.error?n.jsxs("span",{style:{color:"#fca5a5"},children:[" ",I.error]}):n.jsxs("div",{children:[n.jsx("span",{style:{color:"#4ade80",fontWeight:"600"},children:" Import Complete"}),n.jsxs("span",{style:{marginLeft:"16px",color:"#9ca3af"},children:[I.assemblies_imported," assemblies, ",I.parts_imported," parts, ",I.drawings_imported," drawings"]})]})}),C==="assemblies"&&n.jsxs("div",{style:s.card,children:[n.jsxs("div",{style:{...s.flexBetween,marginBottom:"12px"},children:[n.jsxs("span",{style:{fontWeight:"600"},children:["Assemblies (",a.length,")"]}),n.jsx("input",{style:{...s.input,width:"250px"},placeholder:"Search marks...",value:p,onChange:k=>m(k.target.value)})]}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{style:s.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:s.th,children:"Mark"}),n.jsx("th",{style:s.th,children:"Type"}),n.jsx("th",{style:s.th,children:"Profile"}),n.jsx("th",{style:s.th,children:"Grade"}),n.jsx("th",{style:s.th,children:"Length"}),n.jsx("th",{style:s.th,children:"Qty"}),n.jsx("th",{style:s.th,children:"Seq"}),n.jsx("th",{style:s.th,children:"Drawing"}),n.jsx("th",{style:s.th,children:"Finish"}),n.jsx("th",{style:s.th,children:"Station"}),n.jsx("th",{style:s.th,children:"QC"}),n.jsx("th",{style:s.th,children:"Label"}),n.jsx("th",{style:s.th,children:"Actions"})]})}),n.jsx("tbody",{children:a.map(k=>{var _;return n.jsxs("tr",{style:{cursor:"pointer"},onClick:()=>R((f==null?void 0:f.id)===k.id?null:k),children:[n.jsx("td",{style:{...s.td,fontWeight:"700",color:"#3b82f6"},children:k.assembly_mark}),n.jsx("td",{style:s.td,children:k.assembly_name}),n.jsx("td",{style:s.td,children:k.main_dimensions||""}),n.jsx("td",{style:s.td,children:k.main_grade||""}),n.jsx("td",{style:s.td,children:k.main_length||""}),n.jsx("td",{style:{...s.td,textAlign:"center"},children:k.assembly_quantity}),n.jsx("td",{style:{...s.td,textAlign:"center"},children:k.sequence_number}),n.jsx("td",{style:{...s.td,fontSize:"11px",color:"#60a5fa"},children:k.drawing_number||""}),n.jsx("td",{style:{...s.td,fontSize:"11px"},children:k.finish_type||""}),n.jsx("td",{style:s.td,children:n.jsx("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",background:`${Le[k.current_station]||"#333"}33`,color:Le[k.current_station]||"#999"},children:k.current_station})}),n.jsx("td",{style:s.td,children:((_=k.inspections)==null?void 0:_.length)>0&&n.jsx("span",{style:s.badge(k.inspections[0].result==="Pass"?"green":"red"),children:k.inspections[0].result})}),n.jsx("td",{style:s.td,children:k.barcode_printed?n.jsx("span",{style:{color:"#22c55e"},children:""}):n.jsx("span",{style:{color:"#6b7280"},children:""})}),n.jsx("td",{style:s.td,children:n.jsx("button",{onClick:V=>{V.stopPropagation(),T(k)},style:{...s.btn,...s.btnGray,padding:"4px 8px",fontSize:"11px"},children:" Inspect"})})]},k.id)})})]})}),f&&n.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"#111",borderRadius:"8px",border:"1px solid #444"},children:[n.jsxs("div",{style:s.flexBetween,children:[n.jsx("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#3b82f6"},children:f.assembly_mark}),n.jsx("button",{onClick:()=>R(null),style:{...s.btn,...s.btnGray,padding:"4px 8px"},children:""})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"12px",marginTop:"12px"},children:[n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Type:"})," ",f.assembly_name]}),n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Profile:"})," ",f.main_dimensions]}),n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Finish:"})," ",n.jsxs("select",{value:f.finish_type||"",onChange:async k=>{const _=k.target.value,V=new FormData;V.append("finish_type",_),(await fetch(`/api/v2/assemblies/${f.id}/finish`,{method:"PUT",body:V})).ok&&(R({...f,finish_type:_}),q())},style:{...s.input,display:"inline",width:"110px",padding:"2px 4px",fontSize:"12px"},children:[n.jsx("option",{value:"",children:"None"}),n.jsx("option",{value:"ROP",children:"ROP"}),n.jsx("option",{value:"HDG",children:"HDG (Hot Dip Galv)"}),n.jsx("option",{value:"GALV",children:"GALV"}),n.jsx("option",{value:"PAINT",children:"Paint"}),n.jsx("option",{value:"PRIME",children:"Prime"}),n.jsx("option",{value:"SANDBLAST",children:"Sandblast"}),n.jsx("option",{value:"BARE",children:"Bare"})]})]}),n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Qty:"})," ",f.assembly_quantity]})]}),f.drawing_number&&(()=>{const k=u.find(_=>_.number===f.drawing_number);return n.jsxs("div",{style:{marginTop:"8px",padding:"8px",background:"#1a1a2e",borderRadius:"6px",display:"flex",alignItems:"center",gap:"10px"},children:[n.jsxs("span",{style:{fontSize:"12px",color:"#9ca3af"},children:[" Drawing: ",n.jsx("b",{style:{color:"#60a5fa"},children:f.drawing_number})]}),k&&n.jsxs("span",{style:{fontSize:"11px",color:"#9ca3af"},children:["Rev: ",n.jsx("b",{style:{color:"#fbbf24"},children:k.revision||"0"})]}),k&&k.revision_description&&n.jsxs("span",{style:{fontSize:"11px",color:"#6b7280"},children:["(",k.revision_description,")"]}),k&&k.has_pdf&&n.jsx("button",{onClick:async()=>{const _=await fetch(`/api/drawings/${k.id}/pdf-data`);if(_.ok){const V=await _.json();L({...V,number:k.number})}},style:{...s.btn,...s.btnGreen,padding:"3px 8px",fontSize:"11px"},children:" View PDF"}),k&&!k.has_pdf&&n.jsx("span",{style:{fontSize:"11px",color:"#6b7280"},children:"(No PDF  upload in Drawings tab)"}),!k&&n.jsx("span",{style:{fontSize:"11px",color:"#ef4444"},children:"Drawing not found in database"})]})})(),f.parts&&f.parts.length>0&&n.jsxs("div",{style:{marginTop:"12px"},children:[n.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:"#9ca3af",marginBottom:"4px"},children:["Parts (",f.parts.length,"):"]}),n.jsxs("table",{style:{...s.table,fontSize:"12px"},children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:s.th,children:"Mark"}),n.jsx("th",{style:s.th,children:"Shape"}),n.jsx("th",{style:s.th,children:"Dimensions"}),n.jsx("th",{style:s.th,children:"Grade"}),n.jsx("th",{style:s.th,children:"Length"}),n.jsx("th",{style:s.th,children:"Qty"}),n.jsx("th",{style:s.th,children:"Type"})]})}),n.jsx("tbody",{children:f.parts.map((k,_)=>n.jsxs("tr",{style:{background:k.is_main?"#0a2e0a":"transparent"},children:[n.jsxs("td",{style:{...s.td,fontWeight:k.is_main?"700":"400",color:k.is_main?"#3b82f6":"#d1d5db"},children:[k.part_mark," ",k.is_main&&""]}),n.jsx("td",{style:s.td,children:k.shape}),n.jsx("td",{style:s.td,children:k.dimensions}),n.jsx("td",{style:s.td,children:k.grade}),n.jsx("td",{style:s.td,children:k.length_display}),n.jsx("td",{style:{...s.td,textAlign:"center"},children:k.quantity}),n.jsx("td",{style:s.td,children:k.is_hardware?n.jsx("span",{style:{color:"#fbbf24"},children:" Hardware"}):n.jsx("span",{style:{color:"#4ade80"},children:"Structural"})})]},_))})]})]}),f.last_scan&&n.jsxs("div",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:["Last scan: ",f.last_scan.station," by ",f.last_scan.by," at ",new Date(f.last_scan.at).toLocaleString()]}),((M=f.inspections)==null?void 0:M.length)>0&&n.jsxs("div",{style:{marginTop:"12px"},children:[n.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#9ca3af",marginBottom:"4px"},children:"Inspection History:"}),f.inspections.map((k,_)=>n.jsxs("div",{style:{fontSize:"12px",padding:"4px 0",borderBottom:"1px solid #222"},children:[n.jsx("span",{style:s.badge(k.result==="Pass"?"green":"red"),children:k.result})," ",k.type,"  ",k.inspector,"  ",new Date(k.date).toLocaleDateString()]},_))]})]})]}),C==="drawings"&&n.jsxs("div",{style:s.card,children:[n.jsxs("div",{style:{...s.flexBetween,marginBottom:"12px"},children:[n.jsxs("span",{style:{fontWeight:"600"},children:["Drawings (",u.length,")"]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:()=>w(!0),style:{...s.btn,...s.btnGray,fontSize:"12px"},children:" Upload Single"}),n.jsx("button",{onClick:()=>b&&b(!0),style:{...s.btn,...s.btnPrimary,fontSize:"12px"},children:" Batch Upload PDFs"})]})]}),B&&n.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#1a1a2e",borderRadius:"6px",border:"1px dashed #4b5563"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"8px"},children:"Select multiple PDF files. Files will be matched to drawing numbers by filename, or new drawings will be created."}),n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[n.jsx("input",{type:"file",accept:".pdf",multiple:!0,ref:O,style:{fontSize:"12px",color:"#d1d5db"}}),n.jsx("button",{onClick:async()=>{var K;const k=(K=O.current)==null?void 0:K.files;if(!k||k.length===0)return alert("Select PDF files");const _=new FormData;for(let ye=0;ye<k.length;ye++)_.append("files",k[ye]);const V=await fetch(`/api/projects/${e}/drawings/batch-upload`,{method:"POST",body:_});if(V.ok){const ye=await V.json();alert(`Uploaded ${ye.uploaded} drawings:
`+ye.results.map(Ce=>`${Ce.filename}  ${Ce.action} (${Ce.drawing_number})`).join(`
`)),b(!1),q()}else alert("Batch upload failed")},style:{...s.btn,...s.btnGreen,fontSize:"12px"},children:" Upload All"}),n.jsx("button",{onClick:()=>b(!1),style:{...s.btn,...s.btnGray,fontSize:"12px"},children:"Cancel"})]})]}),D&&n.jsx("div",{style:{marginBottom:"16px",padding:"12px",background:"#1a1a2e",borderRadius:"6px"},children:n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"},children:[n.jsxs("select",{value:A||"",onChange:k=>$(k.target.value),style:{...s.input,width:"250px"},children:[n.jsx("option",{value:"",children:"Select drawing to attach PDF..."}),u.map(k=>n.jsxs("option",{value:k.id,children:[k.number,"  ",k.title||k.category]},k.id))]}),n.jsx("input",{type:"file",accept:".pdf",ref:l,style:{fontSize:"12px",color:"#d1d5db"}}),n.jsx("button",{onClick:async()=>{var V,K;if(!A||!((K=(V=l.current)==null?void 0:V.files)!=null&&K[0]))return alert("Select a drawing and PDF file");const k=new FormData;k.append("file",l.current.files[0]),(await fetch(`/api/drawings/${A}/upload-pdf`,{method:"POST",body:k})).ok?(alert("PDF uploaded!"),w(!1),q()):alert("Upload failed")},style:{...s.btn,...s.btnGreen,fontSize:"12px"},children:" Upload"}),n.jsx("button",{onClick:()=>w(!1),style:{...s.btn,...s.btnGray,fontSize:"12px"},children:"Cancel"})]})}),X&&n.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",zIndex:9999,display:"flex",flexDirection:"column",padding:"20px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[n.jsxs("span",{style:{color:"#fff",fontWeight:"700",fontSize:"16px"},children:[" ",X.number]}),n.jsx("button",{onClick:()=>L(null),style:{...s.btn,...s.btnRed,padding:"6px 20px"},children:" Close"})]}),n.jsx("iframe",{src:`data:application/pdf;base64,${X.pdf_data}`,style:{flex:1,border:"none",borderRadius:"4px"},title:"Drawing PDF"})]}),n.jsxs("table",{style:s.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:s.th,children:"Number"}),n.jsx("th",{style:s.th,children:"Title"}),n.jsx("th",{style:s.th,children:"Category"}),n.jsx("th",{style:s.th,children:"Revision"}),n.jsx("th",{style:s.th,children:"Rev Description"}),n.jsx("th",{style:s.th,children:"Date Detailed"}),n.jsx("th",{style:s.th,children:"PDF"})]})}),n.jsx("tbody",{children:u.map(k=>n.jsxs("tr",{children:[n.jsx("td",{style:{...s.td,fontWeight:"600"},children:k.number}),n.jsx("td",{style:s.td,children:k.title}),n.jsx("td",{style:s.td,children:n.jsx("span",{style:s.badge(k.category==="Assembly"?"blue":k.category==="General Arrangement"?"purple":"gray"),children:k.category})}),n.jsx("td",{style:{...s.td,textAlign:"center",fontWeight:"700"},children:k.revision}),n.jsx("td",{style:s.td,children:k.revision_description}),n.jsx("td",{style:s.td,children:k.date_detailed}),n.jsx("td",{style:s.td,children:k.has_pdf?n.jsx("button",{onClick:async()=>{const _=await fetch(`/api/drawings/${k.id}/pdf-data`);if(_.ok){const V=await _.json();L({...V,number:k.number})}},style:{...s.btn,...s.btnGreen,padding:"3px 8px",fontSize:"11px"},children:" View"}):n.jsx("span",{style:{color:"#6b7280",fontSize:"11px"},children:"No PDF"})})]},k.id))})]})]}),C==="inspections"&&n.jsxs("div",{style:s.card,children:[n.jsx("div",{style:{...s.flexBetween,marginBottom:"12px"},children:n.jsxs("span",{style:{fontWeight:"600"},children:["QC Inspections (",j.length,")"]})}),n.jsxs("table",{style:s.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:s.th,children:"Date"}),n.jsx("th",{style:s.th,children:"Mark"}),n.jsx("th",{style:s.th,children:"Type"}),n.jsx("th",{style:s.th,children:"Result"}),n.jsx("th",{style:s.th,children:"Inspector"}),n.jsx("th",{style:s.th,children:"WPS"}),n.jsx("th",{style:s.th,children:"Welder"}),n.jsx("th",{style:s.th,children:"Findings"})]})}),n.jsx("tbody",{children:j.map(k=>n.jsxs("tr",{children:[n.jsx("td",{style:s.td,children:new Date(k.inspection_date).toLocaleDateString()}),n.jsx("td",{style:{...s.td,fontWeight:"600",color:"#3b82f6"},children:k.assembly_mark}),n.jsx("td",{style:s.td,children:k.inspection_type}),n.jsx("td",{style:s.td,children:n.jsx("span",{style:s.badge(k.result==="Pass"?"green":k.result==="Fail"?"red":"yellow"),children:k.result})}),n.jsx("td",{style:s.td,children:k.inspector}),n.jsx("td",{style:s.td,children:k.wps_number}),n.jsx("td",{style:s.td,children:k.welder_id}),n.jsx("td",{style:s.td,children:k.findings})]},k.id))})]})]}),C==="cutlist"&&n.jsx($f,{projectId:e}),C==="nesting"&&n.jsx(Nf,{projectId:e,jobNumber:i==null?void 0:i.job_number}),C==="production"&&n.jsx(Wf,{projectId:e}),C==="rfqs"&&n.jsx(Ff,{projectId:e}),C==="pos"&&n.jsx(If,{projectId:e}),C==="documents"&&n.jsx(Of,{projectId:e}),C==="inventory"&&n.jsx(su,{projectId:e,jobNumber:i==null?void 0:i.job_number}),C==="vendors"&&n.jsx(Df,{}),C==="invoicing"&&n.jsx(Mf,{projectId:e}),U&&n.jsx(Vf,{assembly:U,onClose:()=>T(null),onSubmit:h})]}):n.jsx("div",{style:s.page,children:n.jsx("p",{children:"Loading..."})})}function $f({projectId:e}){const[t,r]=v.useState([]),[l,i]=v.useState(!0);return v.useEffect(()=>{fetch(`/api/projects/${e}/cut-list`).then(o=>o.json()).then(o=>{r(o),i(!1)})},[e]),l?n.jsx("div",{style:s.card,children:"Loading cut list..."}):n.jsxs("div",{style:s.card,children:[n.jsx("div",{style:{...s.flexBetween,marginBottom:"12px"},children:n.jsxs("span",{style:{fontWeight:"600"},children:["Cut List (",t.length," material groups)"]})}),t.map((o,a)=>n.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#111",borderRadius:"8px"},children:[n.jsxs("div",{style:{...s.flexBetween,marginBottom:"8px"},children:[n.jsxs("span",{style:{fontWeight:"700",color:"#3b82f6"},children:[o.shape,"  ",o.dimensions,"  ",o.grade]}),n.jsxs("span",{style:{fontSize:"12px",color:"#6b7280"},children:["Total: ",o.total_qty," pcs | ",o.total_length_ft.toFixed(1)," LF"]})]}),n.jsxs("table",{style:s.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:{...s.th,fontSize:"11px"},children:"Part Mark"}),n.jsx("th",{style:{...s.th,fontSize:"11px"},children:"Assembly"}),n.jsx("th",{style:{...s.th,fontSize:"11px"},children:"Qty"}),n.jsx("th",{style:{...s.th,fontSize:"11px"},children:"Length"})]})}),n.jsx("tbody",{children:o.items.map((d,u)=>n.jsxs("tr",{children:[n.jsx("td",{style:{...s.td,fontSize:"12px"},children:d.part_mark}),n.jsx("td",{style:{...s.td,fontSize:"12px"},children:d.assembly_mark}),n.jsx("td",{style:{...s.td,fontSize:"12px",textAlign:"center"},children:d.quantity}),n.jsx("td",{style:{...s.td,fontSize:"12px"},children:d.length_display})]},u))})]})]},a))]})}function Vf({assembly:e,onClose:t,onSubmit:r}){const[l,i]=v.useState({assembly_id:e.id,inspection_type:"Fit-Up Inspection",result:"Pass",inspector:"",wps_number:"",welder_id:"",ndt_method:"",ndt_report_number:"",findings:"",corrective_action:"",notes:""});return n.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:n.jsxs("div",{style:{...s.card,width:"100%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto"},children:[n.jsx("h2",{style:{fontSize:"18px",fontWeight:"700",marginBottom:"4px"},children:" QC Inspection"}),n.jsxs("div",{style:{fontSize:"14px",color:"#3b82f6",marginBottom:"16px"},children:[e.assembly_mark,"  ",e.assembly_name]}),n.jsxs("div",{style:{...s.grid2,marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Inspection Type *"}),n.jsx("select",{style:s.select,value:l.inspection_type,onChange:o=>i({...l,inspection_type:o.target.value}),children:Zf.map(o=>n.jsx("option",{value:o,children:o},o))})]}),n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Result *"}),n.jsxs("select",{style:s.select,value:l.result,onChange:o=>i({...l,result:o.target.value}),children:[n.jsx("option",{value:"Pass",children:" Pass"}),n.jsx("option",{value:"Fail",children:" Fail"}),n.jsx("option",{value:"Hold",children:" Hold"}),n.jsx("option",{value:"Rework Required",children:" Rework Required"})]})]})]}),n.jsxs("div",{style:{...s.grid2,marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Inspector"}),n.jsx("input",{style:s.input,value:l.inspector,onChange:o=>i({...l,inspector:o.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"WPS Number"}),n.jsx("input",{style:s.input,value:l.wps_number,onChange:o=>i({...l,wps_number:o.target.value})})]})]}),n.jsxs("div",{style:{...s.grid2,marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Welder ID / Stencil"}),n.jsx("input",{style:s.input,value:l.welder_id,onChange:o=>i({...l,welder_id:o.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"NDT Method"}),n.jsxs("select",{style:s.select,value:l.ndt_method,onChange:o=>i({...l,ndt_method:o.target.value}),children:[n.jsx("option",{value:"",children:"N/A"}),n.jsx("option",{value:"VT",children:"VT - Visual"}),n.jsx("option",{value:"MT",children:"MT - Magnetic Particle"}),n.jsx("option",{value:"UT",children:"UT - Ultrasonic"}),n.jsx("option",{value:"RT",children:"RT - Radiographic"}),n.jsx("option",{value:"PT",children:"PT - Dye Penetrant"})]})]})]}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:s.label,children:"Findings"}),n.jsx("textarea",{style:{...s.input,height:"60px"},value:l.findings,onChange:o=>i({...l,findings:o.target.value})})]}),(l.result==="Fail"||l.result==="Rework Required")&&n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:s.label,children:"Corrective Action Required"}),n.jsx("textarea",{style:{...s.input,height:"60px"},value:l.corrective_action,onChange:o=>i({...l,corrective_action:o.target.value})})]}),n.jsxs("div",{style:{...s.flexGap,justifyContent:"flex-end",marginTop:"16px"},children:[n.jsx("button",{onClick:t,style:{...s.btn,...s.btnGray},children:"Cancel"}),n.jsx("button",{onClick:()=>r(l),style:{...s.btn,...s.btnGreen},children:"Submit Inspection"})]})]})})}function Gf(){var T,f;Bn();const e=v.useRef(),t=v.useRef(),[r,l]=v.useState(!1),[i,o]=v.useState(""),[a,d]=v.useState(null),[u,c]=v.useState(""),[g,S]=v.useState(""),[j,P]=v.useState(localStorage.getItem("sse_scanner_name")||""),[C,y]=v.useState([]),[E,x]=v.useState(!1);v.useEffect(()=>{j&&localStorage.setItem("sse_scanner_name",j)},[j]);const p=async()=>{try{const R=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});e.current&&(e.current.srcObject=R,e.current.play(),l(!0),z())}catch{c("Camera access denied. Use manual entry.")}},m=()=>{var R;(R=e.current)!=null&&R.srcObject&&e.current.srcObject.getTracks().forEach(D=>D.stop()),l(!1)},z=()=>{if(!e.current||!t.current)return;const R=e.current,D=t.current,w=D.getContext("2d");R.readyState===R.HAVE_ENOUGH_DATA&&(D.width=R.videoWidth,D.height=R.videoHeight,w.drawImage(R,0,0),"BarcodeDetector"in window&&new BarcodeDetector({formats:["qr_code"]}).detect(D).then($=>{if($.length>0){N($[0].rawValue);return}}).catch(()=>{})),r&&requestAnimationFrame(z)},N=async R=>{m(),await I(R)},I=async R=>{c(""),d(null);try{const D=new FormData;D.append("qr_data",R);const w=await fetch("/api/scan/lookup",{method:"POST",body:D});if(w.ok){const A=await w.json();d(A),x(!0)}else{const A=await w.json();c(A.detail||"Assembly not found")}}catch(D){c("Lookup failed: "+D.message)}},F=async()=>{if(!(!a||!g))try{const R=await fetch("/api/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assembly_id:a.assembly.id,station:g,scanned_by:j})});if(R.ok){const D=await R.json();y(w=>[{mark:D.assembly_mark,station:D.station,time:new Date().toLocaleTimeString()},...w]),d(null),x(!1),S(""),navigator.vibrate&&navigator.vibrate(200)}}catch(R){c("Scan failed: "+R.message)}},U=()=>{i.trim()&&I(i.trim())};return n.jsxs("div",{style:{...s.page,maxWidth:"600px",margin:"0 auto"},children:[n.jsx(tn,{title:"Scan",backTo:"/"}),n.jsxs("div",{style:{...s.card,marginBottom:"12px"},children:[n.jsx("label",{style:s.label,children:"Your Name"}),n.jsx("input",{style:s.input,value:j,onChange:R=>P(R.target.value),placeholder:"Enter your name"})]}),n.jsx("div",{style:{...s.card,marginBottom:"12px"},children:r?n.jsxs("div",{children:[n.jsx("video",{ref:e,style:{width:"100%",borderRadius:"8px"}}),n.jsx("canvas",{ref:t,style:{display:"none"}}),n.jsx("button",{onClick:m,style:{...s.btn,...s.btnRed,width:"100%",marginTop:"8px"},children:"Stop Camera"})]}):n.jsx("button",{onClick:p,style:{...s.btn,...s.btnGreen,width:"100%",padding:"16px",fontSize:"18px"},children:" Start Camera Scanner"})}),n.jsxs("div",{style:{...s.card,marginBottom:"12px"},children:[n.jsx("label",{style:s.label,children:"Manual Entry (type mark or scan data)"}),n.jsxs("div",{style:s.flexGap,children:[n.jsx("input",{style:{...s.input,flex:1},value:i,onChange:R=>o(R.target.value),onKeyDown:R=>R.key==="Enter"&&U(),placeholder:"25-1019-B181 or SSE|26-1016|..."}),n.jsx("button",{onClick:U,style:{...s.btn,...s.btnPrimary},children:" Look Up"})]})]}),u&&n.jsx("div",{style:{...s.card,background:"#3b1111",borderColor:"#7f1d1d",marginBottom:"12px"},children:n.jsxs("span",{style:{color:"#fca5a5"},children:[" ",u]})}),a&&a.type==="inventory"&&n.jsxs("div",{style:{...s.card,marginBottom:"12px",border:"2px solid #f59e0b"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#f59e0b",fontWeight:"700",marginBottom:"4px"},children:" INVENTORY ITEM"}),n.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#f59e0b"},children:[a.inventory.shape," ",a.inventory.dimensions]}),n.jsx("div",{style:{fontFamily:"monospace",fontSize:"14px",color:"#60a5fa",marginBottom:"8px"},children:a.inventory.barcode}),n.jsxs("div",{style:{...s.grid2,marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Grade:"})," ",a.inventory.grade]}),n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Length:"})," ",a.inventory.length_display]}),a.inventory.width_inches&&n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Width:"})," ",a.inventory.width_inches,'"']}),n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Qty:"})," ",a.inventory.quantity]}),n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Weight:"})," ",a.inventory.weight?a.inventory.weight+"#":""]}),n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Heat #:"})," ",a.inventory.heat_number||""]})]}),n.jsxs("div",{style:{padding:"8px 12px",background:"#111",borderRadius:"8px",marginBottom:"8px"},children:[n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Location:"})," ",n.jsx("span",{style:{fontSize:"16px",fontWeight:"700",color:"#4ade80"},children:a.inventory.location||"Not set"})]}),n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Status:"})," ",n.jsx("span",{style:{fontWeight:"600",color:a.inventory.status==="available"?"#4ade80":"#f59e0b"},children:(T=a.inventory.status)==null?void 0:T.toUpperCase()})]}),a.inventory.reserved_project&&n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Reserved for:"})," ",a.inventory.reserved_project]})]}),n.jsxs("div",{style:{marginTop:"8px"},children:[n.jsx("label",{style:{...s.label,fontSize:"13px"},children:"Update Location:"}),n.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"4px"},children:[n.jsx("input",{id:"inv-loc-input",defaultValue:a.inventory.location||"",placeholder:"Yard Bay 1, Rack 3...",style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid #333",background:"#111",color:"#e5e5e5",fontSize:"14px"}}),n.jsx("button",{onClick:async()=>{const R=document.getElementById("inv-loc-input").value,D=new FormData;D.append("location",R),(await fetch("/api/v2/inventory-v2/"+a.inventory.id+"/update-location",{method:"POST",body:D})).ok&&(alert("Location updated to: "+R),navigator.vibrate&&navigator.vibrate(200))},style:{...s.btn,...s.btnGreen,padding:"10px 20px",fontSize:"14px"},children:" Update"})]})]})]}),a&&a.type!=="inventory"&&n.jsxs("div",{style:{...s.card,marginBottom:"12px",border:"2px solid #3b82f6"},children:[n.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#3b82f6"},children:a.assembly.assembly_mark}),n.jsxs("div",{style:{fontSize:"14px",color:"#9ca3af",marginBottom:"8px"},children:[a.project.job_number,"  ",a.project.name]}),n.jsxs("div",{style:{...s.grid2,marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Type:"})," ",a.assembly.assembly_name]}),a.main_member&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Profile:"})," ",a.main_member.dimensions]}),n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Grade:"})," ",a.main_member.grade]}),n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Length:"})," ",a.main_member.length]})]})]}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("span",{style:s.label,children:"Current Station:"}),n.jsx("span",{style:{...s.badge(null),marginLeft:"8px",background:`${Le[a.assembly.current_station]||"#333"}`,color:"white",padding:"4px 12px",fontSize:"14px"},children:a.assembly.current_station})]}),E&&n.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:"#111",borderRadius:"8px"},children:[n.jsx("label",{style:{...s.label,fontSize:"14px",fontWeight:"600"},children:"Move to Station:"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"6px",marginTop:"8px"},children:Object.entries(Kf).map(([R,D])=>n.jsxs(Qa.Fragment,{children:[n.jsx("div",{style:{gridColumn:"1 / -1",fontSize:"10px",fontWeight:"700",color:"#9ca3af",marginTop:"4px",borderBottom:"1px solid #333",paddingBottom:"2px"},children:R}),D.map(w=>n.jsx("button",{onClick:()=>S(w),style:{padding:"10px",borderRadius:"8px",border:"2px solid transparent",background:g===w?Le[w]:`${Le[w]}22`,color:g===w?"white":Le[w]||"#999",fontWeight:"600",fontSize:"11px",cursor:"pointer",borderColor:g===w?"white":"transparent"},children:w},w))]},R))}),g&&n.jsxs("button",{onClick:F,style:{...s.btn,...s.btnGreen,width:"100%",marginTop:"12px",padding:"16px",fontSize:"18px"},children:[" CONFIRM  ",g]})]}),((f=a.scan_history)==null?void 0:f.length)>0&&n.jsxs("div",{style:{marginTop:"12px"},children:[n.jsx("label",{style:s.label,children:"Scan History:"}),a.scan_history.slice(0,5).map((R,D)=>n.jsxs("div",{style:{fontSize:"12px",padding:"4px 0",borderBottom:"1px solid #222",color:"#9ca3af"},children:[R.station,"  ",R.by,"  ",new Date(R.at).toLocaleString()]},D))]})]}),C.length>0&&n.jsxs("div",{style:s.card,children:[n.jsxs("div",{style:{fontWeight:"600",marginBottom:"8px"},children:["Today's Scans (",C.length,")"]}),C.map((R,D)=>n.jsxs("div",{style:{fontSize:"13px",padding:"6px 0",borderBottom:"1px solid #222"},children:[n.jsx("span",{style:{fontWeight:"600",color:"#3b82f6"},children:R.mark}),n.jsx("span",{style:{margin:"0 8px",color:"#6b7280"},children:""}),n.jsx("span",{style:{color:Le[R.station]||"#999"},children:R.station}),n.jsx("span",{style:{float:"right",color:"#6b7280"},children:R.time})]},D))]})]})}function Qf(){const{projectId:e}=fo();Bn();const[t,r]=v.useState([]),[l,i]=v.useState(null),[o,a]=v.useState(new Set),[d,u]=v.useState(!1),[c,g]=v.useState("");v.useEffect(()=>{Promise.all([fetch(`/api/projects/${e}`).then(y=>y.json()),fetch(`/api/projects/${e}/labels`).then(y=>y.json())]).then(([y,E])=>{i(y),r(E)})},[e]);const S=()=>{a(d?new Set:new Set(P.map(y=>y.assembly_id))),u(!d)},j=y=>{const E=new Set(o);E.has(y)?E.delete(y):E.add(y),a(E)},P=t.filter(y=>!c||y.mark.toLowerCase().includes(c.toLowerCase())),C=()=>{const y=t.filter(x=>o.has(x.assembly_id)),E=window.open("","_blank");E.document.write(`<!DOCTYPE html><html><head>
      <title>SSE Steel Labels</title>
      <style>
        @page { size: 3in 3in; margin: 0; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, Helvetica, sans-serif; }
        .label {
          width: 3in; height: 3in; padding: 0.15in;
          page-break-after: always; position: relative;
          border: 1px solid #ccc;
        }
        .label:last-child { page-break-after: auto; }
        .header { font-size: 11pt; font-weight: bold; border-bottom: 1px solid #000; padding-bottom: 3px; margin-bottom: 6px; display: flex; justify-content: space-between; }
        .qr-row { display: flex; gap: 8px; margin-bottom: 4px; }
        .qr-code { width: 1.1in; height: 1.1in; }
        .qr-code img, .qr-code canvas { width: 100%; height: 100%; }
        .info { flex: 1; font-size: 8.5pt; }
        .info .row { margin-bottom: 3px; }
        .info .label-text { color: #666; font-size: 7pt; }
        .info .value { font-weight: bold; font-size: 10pt; }
        .mark { font-size: 11pt; font-weight: bold; margin-bottom: 2px; }
        .bottom-row { display: flex; justify-content: space-between; font-size: 8pt; margin-top: 4px; }
        .bottom-row .shape { font-size: 11pt; font-weight: bold; }
        .bottom-row .length { font-size: 11pt; font-weight: bold; }
        .footer-row { display: flex; justify-content: space-between; font-size: 7.5pt; color: #666; margin-top: 4px; }
        @media print {
          .label { border: none; }
        }
      </style>
    </head><body>`),y.forEach(x=>{const m=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(x.qr_data)}`;E.document.write(`
        <div class="label">
          <div class="header">
            <span style="text-decoration:underline">${x.customer_project}</span>
            <span>Qty: <b>${x.quantity}</b></span>
          </div>
          <div class="qr-row">
            <div style="flex-shrink:0">
              <div class="mark">${x.mark}</div>
              <div class="qr-code">
                <img src="${m}" alt="QR" crossorigin="anonymous" />
              </div>
            </div>
            <div class="info">
              <div class="row"><span class="label-text">Job #:</span><br/><span class="value">${x.job_number}</span></div>
              <div class="row"><span class="label-text">Finish:</span><br/><span class="value">${x.finish}</span></div>
              <div class="row"><span class="label-text">Sequence:</span><br/><span class="value">${x.sequence||""}</span></div>
            </div>
          </div>
          <div class="bottom-row">
            <div>
              <div class="shape">${x.shape}</div>
              <div class="length">${x.length}</div>
            </div>
            <div style="text-align:right">
              <div><span style="font-size:7pt;color:#666">Weight(Asm):</span> <b>${x.weight||""}</b></div>
              <div><span style="font-size:7pt;color:#666">Part ID:</span> ${x.part_id}</div>
            </div>
          </div>
          <div class="footer-row">
            <div>Route: ${x.route||""}</div>
            <div>Remark:</div>
          </div>
          <div style="font-size:7pt;color:#666;margin-top:2px">${x.date}</div>
        </div>
      `)}),E.document.write("</body></html>"),E.document.close(),y.forEach(x=>{fetch(`/api/assemblies/${x.assembly_id}/mark-printed`,{method:"PUT"})}),setTimeout(()=>E.print(),1e3)};return n.jsxs("div",{style:s.page,children:[n.jsx(tn,{title:`Labels  ${(l==null?void 0:l.job_number)||""}`,backTo:`/project/${e}`}),n.jsx("div",{style:{...s.card,marginBottom:"16px"},children:n.jsxs("div",{style:s.flexBetween,children:[n.jsxs("div",{style:s.flexGap,children:[n.jsx("button",{onClick:S,style:{...s.btn,...s.btnGray},children:d?" Deselect All":" Select All"}),n.jsxs("span",{style:{color:"#6b7280"},children:[o.size," of ",P.length," selected"]})]}),n.jsxs("div",{style:s.flexGap,children:[n.jsx("input",{style:{...s.input,width:"200px"},placeholder:"Search marks...",value:c,onChange:y=>g(y.target.value)}),n.jsxs("button",{onClick:C,disabled:o.size===0,style:{...s.btn,...s.btnPurple,opacity:o.size>0?1:.5},children:[" Print ",o.size," Labels"]})]})]})}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"12px"},children:P.map(y=>n.jsxs("div",{onClick:()=>j(y.assembly_id),style:{background:"#fff",color:"#000",borderRadius:"8px",padding:"12px",cursor:"pointer",position:"relative",border:o.has(y.assembly_id)?"3px solid #3b82f6":"3px solid transparent",fontFamily:"Arial, sans-serif",fontSize:"12px",aspectRatio:"1/1",maxWidth:"300px"},children:[n.jsx("div",{style:{position:"absolute",top:"4px",right:"4px",fontSize:"18px"},children:o.has(y.assembly_id)?"":""}),n.jsxs("div",{style:{borderBottom:"1px solid #000",paddingBottom:"4px",marginBottom:"6px",display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{style:{fontWeight:"bold",textDecoration:"underline",fontSize:"11px"},children:y.customer_project}),n.jsxs("span",{style:{fontSize:"10px"},children:["Qty: ",n.jsx("b",{children:y.quantity})]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"6px"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"bold",fontSize:"13px",marginBottom:"2px"},children:y.mark}),n.jsx("div",{style:{width:"80px",height:"80px",background:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"9px",color:"#999"},children:"[QR Code]"})]}),n.jsxs("div",{style:{flex:1},children:[n.jsxs("div",{children:[n.jsx("span",{style:{color:"#666",fontSize:"9px"},children:"Job #:"}),n.jsx("br",{}),n.jsx("b",{children:y.job_number})]}),n.jsxs("div",{style:{marginTop:"4px"},children:[n.jsx("span",{style:{color:"#666",fontSize:"9px"},children:"Finish:"}),n.jsx("br",{}),n.jsx("b",{children:y.finish})]}),n.jsxs("div",{style:{marginTop:"4px"},children:[n.jsx("span",{style:{color:"#666",fontSize:"9px"},children:"Sequence:"}),n.jsx("br",{}),n.jsx("b",{children:y.sequence})]})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},children:y.shape}),n.jsx("div",{style:{fontSize:"14px",fontWeight:"bold"},children:y.length})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsxs("div",{style:{fontSize:"9px",color:"#666"},children:["Weight(Asm): ",n.jsx("b",{style:{fontSize:"12px"},children:y.weight||""})]}),n.jsxs("div",{style:{fontSize:"9px",color:"#666"},children:["Part ID: ",y.part_id]})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"9px",color:"#666",marginTop:"4px"},children:[n.jsxs("span",{children:["Route: ",y.route]}),n.jsx("span",{children:"Remark:"})]}),n.jsx("div",{style:{fontSize:"9px",color:"#666",marginTop:"2px"},children:y.date})]},y.assembly_id))})]})}const Aa=["Customer","General Contractor","Engineer","Painter","Galvanizer","Erector","Detailer","Vendor"];function Hf(){const[e,t]=v.useState([]),[r,l]=v.useState([]),[i,o]=v.useState(!1),[a,d]=v.useState(null),[u,c]=v.useState(""),[g,S]=v.useState(""),[j,P]=v.useState(null),C=v.useRef(),[y,E]=v.useState({name:"",company_type:"",address_line1:"",city:"",state:"",zip_code:"",phone:"",email:"",website:"",notes:""}),[x,p]=v.useState({name:"",title:"",phone:"",cell:"",email:"",is_primary:!1});v.useEffect(()=>{m()},[]);const m=async()=>{const f=await fetch("/api/companies");t(await f.json())},z=async f=>{const R=await fetch(`/api/contacts?company_id=${f}`);l(await R.json())},N=async()=>{await fetch("/api/companies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),o(!1),E({name:"",company_type:"",address_line1:"",city:"",state:"",zip_code:"",phone:"",email:"",website:"",notes:""}),m()},I=async f=>{confirm("Delete this company?")&&(await fetch(`/api/companies/${f}`,{method:"DELETE"}),P(null),m())},F=async()=>{await fetch("/api/contacts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...x,company_id:j.id})}),d(null),p({name:"",title:"",phone:"",cell:"",email:"",is_primary:!1}),z(j.id)},U=async f=>{const R=f.target.files[0];if(!R)return;const D=new FormData;D.append("file",R);const A=await(await fetch("/api/companies/import-csv",{method:"POST",body:D})).json();alert(`Imported ${A.imported} companies`),m()},T=e.filter(f=>!(g&&f.company_type!==g||u&&!f.name.toLowerCase().includes(u.toLowerCase())));return n.jsxs("div",{style:s.page,children:[n.jsx(tn,{title:"Address Book",backTo:"/"}),n.jsxs("div",{style:{display:"flex",gap:"16px"},children:[n.jsxs("div",{style:{flex:"0 0 400px"},children:[n.jsxs("div",{style:{...s.card,marginBottom:"12px"},children:[n.jsxs("div",{style:{...s.flexGap,marginBottom:"12px"},children:[n.jsx("input",{style:{...s.input,flex:1},placeholder:"Search...",value:u,onChange:f=>c(f.target.value)}),n.jsxs("select",{style:{...s.select,width:"150px"},value:g,onChange:f=>S(f.target.value),children:[n.jsx("option",{value:"",children:"All Types"}),Aa.map(f=>n.jsx("option",{value:f,children:f},f))]})]}),n.jsxs("div",{style:s.flexGap,children:[n.jsx("button",{onClick:()=>o(!0),style:{...s.btn,...s.btnPrimary,flex:1},children:"+ Add Company"}),n.jsx("input",{ref:C,type:"file",accept:".csv",onChange:U,style:{display:"none"}}),n.jsx("button",{onClick:()=>C.current.click(),style:{...s.btn,...s.btnGray},children:" Import CSV"})]})]}),n.jsxs("div",{style:{...s.card,maxHeight:"70vh",overflow:"auto"},children:[T.map(f=>n.jsxs("div",{onClick:()=>{P(f),z(f.id)},style:{padding:"10px",cursor:"pointer",borderRadius:"8px",marginBottom:"4px",background:(j==null?void 0:j.id)===f.id?"#1e3a5f":"transparent",borderLeft:`3px solid ${(j==null?void 0:j.id)===f.id?"#3b82f6":"transparent"}`},children:[n.jsx("div",{style:{fontWeight:"600"},children:f.name}),n.jsxs("div",{style:{fontSize:"11px",color:"#6b7280"},children:[f.company_type&&n.jsx("span",{style:s.badge("blue"),children:f.company_type})," ",f.city,f.state?`, ${f.state}`:""]})]},f.id)),T.length===0&&n.jsx("div",{style:{color:"#6b7280",textAlign:"center",padding:"20px"},children:"No companies found"})]})]}),n.jsx("div",{style:{flex:1},children:j?n.jsxs("div",{style:s.card,children:[n.jsxs("div",{style:s.flexBetween,children:[n.jsx("h2",{style:{fontSize:"20px",fontWeight:"700"},children:j.name}),n.jsx("button",{onClick:()=>I(j.id),style:{...s.btn,...s.btnRed,padding:"4px 8px",fontSize:"11px"},children:"Delete"})]}),j.company_type&&n.jsx("span",{style:s.badge("blue"),children:j.company_type}),n.jsxs("div",{style:{...s.grid2,marginTop:"16px"},children:[j.address_line1&&n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Address:"})," ",j.address_line1]}),j.city&&n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"City/State:"})," ",j.city,", ",j.state," ",j.zip_code]}),j.phone&&n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Phone:"})," ",j.phone]}),j.email&&n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Email:"})," ",j.email]}),j.fax&&n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Fax:"})," ",j.fax]}),j.website&&n.jsxs("div",{children:[n.jsx("span",{style:s.label,children:"Website:"})," ",j.website]})]}),n.jsxs("div",{style:{marginTop:"20px"},children:[n.jsxs("div",{style:s.flexBetween,children:[n.jsx("h3",{style:{fontSize:"16px",fontWeight:"600"},children:"Contacts"}),n.jsx("button",{onClick:()=>d(!0),style:{...s.btn,...s.btnGray,padding:"4px 12px",fontSize:"12px"},children:"+ Add Contact"})]}),r.length===0?n.jsx("div",{style:{color:"#6b7280",padding:"12px 0"},children:"No contacts yet"}):r.map(f=>n.jsxs("div",{style:{padding:"10px",background:"#111",borderRadius:"8px",marginTop:"8px"},children:[n.jsxs("div",{style:{fontWeight:"600"},children:[f.name," ",f.is_primary&&n.jsx("span",{style:s.badge("green"),children:"Primary"})]}),f.title&&n.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:f.title}),n.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"4px"},children:[f.phone&&n.jsxs("span",{children:[" ",f.phone," "]}),f.cell&&n.jsxs("span",{children:[" ",f.cell," "]}),f.email&&n.jsxs("span",{children:[" ",f.email]})]})]},f.id))]})]}):n.jsx("div",{style:{...s.card,textAlign:"center",padding:"40px",color:"#6b7280"},children:"Select a company to view details"})})]}),i&&n.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{...s.card,width:"500px",maxHeight:"90vh",overflow:"auto"},children:[n.jsx("h2",{style:{marginBottom:"16px"},children:"Add Company"}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:s.label,children:"Company Name *"}),n.jsx("input",{style:s.input,value:y.name,onChange:f=>E({...y,name:f.target.value})})]}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:s.label,children:"Type"}),n.jsxs("select",{style:s.select,value:y.company_type,onChange:f=>E({...y,company_type:f.target.value}),children:[n.jsx("option",{value:"",children:" Select "}),Aa.map(f=>n.jsx("option",{value:f,children:f},f))]})]}),n.jsxs("div",{style:{...s.grid2,marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Address"}),n.jsx("input",{style:s.input,value:y.address_line1,onChange:f=>E({...y,address_line1:f.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"City"}),n.jsx("input",{style:s.input,value:y.city,onChange:f=>E({...y,city:f.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"State"}),n.jsx("input",{style:s.input,value:y.state,onChange:f=>E({...y,state:f.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Zip"}),n.jsx("input",{style:s.input,value:y.zip_code,onChange:f=>E({...y,zip_code:f.target.value})})]})]}),n.jsxs("div",{style:{...s.grid2,marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Phone"}),n.jsx("input",{style:s.input,value:y.phone,onChange:f=>E({...y,phone:f.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Email"}),n.jsx("input",{style:s.input,value:y.email,onChange:f=>E({...y,email:f.target.value})})]})]}),n.jsxs("div",{style:{...s.flexGap,justifyContent:"flex-end"},children:[n.jsx("button",{onClick:()=>o(!1),style:{...s.btn,...s.btnGray},children:"Cancel"}),n.jsx("button",{onClick:N,disabled:!y.name,style:{...s.btn,...s.btnPrimary},children:"Add Company"})]})]})}),a&&n.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{...s.card,width:"400px"},children:[n.jsx("h2",{style:{marginBottom:"16px"},children:"Add Contact"}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:s.label,children:"Name *"}),n.jsx("input",{style:s.input,value:x.name,onChange:f=>p({...x,name:f.target.value})})]}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:s.label,children:"Title"}),n.jsx("input",{style:s.input,value:x.title,onChange:f=>p({...x,title:f.target.value})})]}),n.jsxs("div",{style:{...s.grid2,marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Phone"}),n.jsx("input",{style:s.input,value:x.phone,onChange:f=>p({...x,phone:f.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{style:s.label,children:"Cell"}),n.jsx("input",{style:s.input,value:x.cell,onChange:f=>p({...x,cell:f.target.value})})]})]}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:s.label,children:"Email"}),n.jsx("input",{style:s.input,value:x.email,onChange:f=>p({...x,email:f.target.value})})]}),n.jsxs("div",{style:{...s.flexGap,justifyContent:"flex-end"},children:[n.jsx("button",{onClick:()=>d(null),style:{...s.btn,...s.btnGray},children:"Cancel"}),n.jsx("button",{onClick:F,disabled:!x.name,style:{...s.btn,...s.btnPrimary},children:"Add Contact"})]})]})})]})}function qf(){var O,q,H,ee;const{projectId:e}=fo();Bn();const[t,r]=v.useState(null),[l,i]=v.useState([]),[o,a]=v.useState([]),[d,u]=v.useState(null),[c,g]=v.useState(!1),[S,j]=v.useState(""),[P,C]=v.useState(null),[y,E]=v.useState(""),[x,p]=v.useState([]),[m,z]=v.useState(""),[N,I]=v.useState("list"),[F,U]=v.useState({trailer_type:"Flatbed",carrier:"",driver_name:"",destination:"customer",destination_company_id:"",truck_number:"",notes:""});v.useEffect(()=>{Promise.all([fetch(`/api/projects/${e}`).then(h=>h.json()),fetch(`/api/projects/${e}/shipments`).then(h=>h.json()),fetch("/api/companies").then(h=>h.json())]).then(([h,M,k])=>{r(h),i(M),a(k)})},[e]),v.useEffect(()=>{e&&T()},[e]);const T=async()=>{const h=await fetch(`/api/projects/${e}/shippable-assemblies`);h.ok&&p(await h.json())},f=async()=>{const M=await(await fetch(`/api/projects/${e}/shipments`)).json();if(i(M),d){const k=M.find(_=>_.id===d.id);k&&u(k)}},R=async()=>{const h={...F,project_id:parseInt(e)};h.destination_company_id?h.destination_company_id=parseInt(h.destination_company_id):delete h.destination_company_id;const k=await(await fetch("/api/shipments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json();u(k),g(!1),f()},D=async h=>{if(!d)return alert("Select or create a load first");E(""),C(null);try{const M=await fetch("/api/shipments/scan-to-load",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shipment_id:d.id,assembly_id:h,scanned_by:"Manual Add"})});if(M.ok){const k=await M.json();C(k),navigator.vibrate&&navigator.vibrate(200),f(),T()}else{const k=await M.json();E(k.detail||"Failed to add")}}catch(M){E(M.message)}},w=async()=>{if(!S.trim()||!d)return;E(""),C(null);const h=new FormData;h.append("qr_data",S.trim());try{const M=await fetch("/api/scan/lookup",{method:"POST",body:h});if(!M.ok){E("Assembly not found");return}const k=await M.json();await D(k.assembly.id),j("")}catch(M){E(M.message)}},A=async h=>{if(!d)return;(await fetch(`/api/shipments/${d.id}/items/${h}`,{method:"DELETE"})).ok&&(f(),T())},$=async h=>{await fetch(`/api/shipments/${h}/ship`,{method:"PUT"}),f(),T()},X=[{value:"customer",label:" Customer",color:"#22c55e"},{value:"galvanizer",label:" Galvanizer",color:"#eab308"},{value:"painter",label:" Painter",color:"#3b82f6"}],L=x.filter(h=>!h.on_load),B=L.filter(h=>!m||h.assembly_mark.toLowerCase().includes(m.toLowerCase())||(h.assembly_name||"").toLowerCase().includes(m.toLowerCase())),b=d&&((O=X.find(h=>h.value===d.destination))==null?void 0:O.color)||"#3b82f6";return n.jsxs("div",{style:s.page,children:[n.jsx(tn,{title:`Shipping  ${(t==null?void 0:t.job_number)||""}`,backTo:`/project/${e}`}),n.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[n.jsxs("div",{style:{flex:"0 0 300px",minWidth:"280px"},children:[n.jsx("button",{onClick:()=>g(!0),style:{...s.btn,background:"#059669",color:"white",width:"100%",marginBottom:"12px",padding:"14px",fontSize:"16px",fontWeight:"700"},children:" Create New Load"}),l.map(h=>{var k;const M=((k=X.find(_=>_.value===h.destination))==null?void 0:k.color)||"#3b82f6";return n.jsxs("div",{onClick:()=>{u(h),C(null),E("")},style:{...s.card,marginBottom:"8px",cursor:"pointer",padding:"12px",borderLeft:`4px solid ${M}`,background:(d==null?void 0:d.id)===h.id?"#1e3a5f":"#1a1a2e"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("span",{style:{fontWeight:"700",fontSize:"16px"},children:["Load #",h.load_number]}),n.jsx("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",background:h.status==="Loading"?"#1e3a5f":h.status==="In Transit"?"#854d0e":"#166534",color:h.status==="Loading"?"#60a5fa":h.status==="In Transit"?"#fbbf24":"#4ade80"},children:h.status})]}),n.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"4px"},children:[h.trailer_type,"  ",h.destination,"  ",h.total_pieces||0," pcs  ",Math.round(h.total_weight||0).toLocaleString()," lbs"]}),h.status==="Loading"&&n.jsx("button",{onClick:_=>{_.stopPropagation(),confirm(`Ship Load #${h.load_number}?`)&&$(h.id)},style:{...s.btn,background:"#059669",color:"white",marginTop:"8px",padding:"6px",fontSize:"12px",width:"100%"},children:" Mark Shipped"})]},h.id)})]}),n.jsx("div",{style:{flex:1,minWidth:"350px"},children:d?n.jsxs("div",{children:[n.jsxs("div",{style:{...s.card,marginBottom:"12px",borderColor:b},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[n.jsxs("h2",{style:{fontSize:"20px",fontWeight:"700",margin:0},children:[" Load #",d.load_number]}),n.jsxs("span",{style:{padding:"4px 12px",borderRadius:"6px",fontSize:"13px",fontWeight:"700",background:b+"33",color:b},children:[" ",(q=d.destination)==null?void 0:q.toUpperCase()]})]}),n.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px"},children:[n.jsxs("div",{style:{flex:1,textAlign:"center",padding:"10px",background:"#111",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:"#3b82f6"},children:d.total_pieces||0}),n.jsx("div",{style:{fontSize:"10px",color:"#6b7280"},children:"PIECES"})]}),n.jsxs("div",{style:{flex:1,textAlign:"center",padding:"10px",background:"#111",borderRadius:"8px"},children:[n.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:"#f59e0b"},children:Math.round(d.total_weight||0).toLocaleString()}),n.jsx("div",{style:{fontSize:"10px",color:"#6b7280"},children:"LBS"})]}),n.jsxs("div",{style:{flex:1,textAlign:"center",padding:"10px",background:"#111",borderRadius:"8px"},children:[n.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:(d.total_weight||0)>44e3?"#ef4444":"#22c55e"},children:[d.total_weight?Math.round(d.total_weight/48e3*100):0,"%"]}),n.jsx("div",{style:{fontSize:"10px",color:"#6b7280"},children:"CAPACITY (48K)"})]})]}),n.jsx("div",{style:{height:"8px",background:"#374151",borderRadius:"4px",overflow:"hidden"},children:n.jsx("div",{style:{width:`${Math.min(100,(d.total_weight||0)/48e3*100)}%`,height:"100%",borderRadius:"4px",background:(d.total_weight||0)>44e3?"#ef4444":(d.total_weight||0)>36e3?"#f59e0b":"#22c55e"}})})]}),d.status==="Loading"&&n.jsxs("div",{style:{display:"flex",gap:"6px",marginBottom:"12px"},children:[n.jsx("button",{onClick:()=>I("list"),style:{...s.btn,flex:1,padding:"10px",fontWeight:"600",background:N==="list"?"#2563eb":"#1f2937",color:N==="list"?"white":"#9ca3af",border:N==="list"?"2px solid #3b82f6":"1px solid #374151"},children:" Pick from List"}),n.jsx("button",{onClick:()=>I("scan"),style:{...s.btn,flex:1,padding:"10px",fontWeight:"600",background:N==="scan"?"#7c3aed":"#1f2937",color:N==="scan"?"white":"#9ca3af",border:N==="scan"?"2px solid #7c3aed":"1px solid #374151"},children:" Scan / Type Mark"})]}),d.status==="Loading"&&N==="scan"&&n.jsxs("div",{style:{...s.card,marginBottom:"12px",borderColor:"#7c3aed"},children:[n.jsx("div",{style:{fontWeight:"600",color:"#a78bfa",marginBottom:"8px",fontSize:"13px"},children:" Scan QR or Type Assembly Mark"}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("input",{style:{...s.input,flex:1,fontSize:"18px",padding:"14px"},value:S,onChange:h=>j(h.target.value),onKeyDown:h=>h.key==="Enter"&&w(),placeholder:"Scan QR or type mark...",autoFocus:!0}),n.jsx("button",{onClick:w,style:{...s.btn,background:"#059669",color:"white",padding:"14px 24px",fontSize:"16px"},children:""})]})]}),d.status==="Loading"&&N==="list"&&n.jsxs("div",{style:{...s.card,marginBottom:"12px",borderColor:"#2563eb"},children:[n.jsx("div",{style:{fontWeight:"600",color:"#60a5fa",marginBottom:"8px",fontSize:"13px"},children:" Click Parts to Add to Load"}),n.jsx("input",{value:m,onChange:h=>z(h.target.value),placeholder:" Search marks...",style:{...s.input,marginBottom:"8px",fontSize:"14px",padding:"10px"}}),n.jsxs("div",{style:{maxHeight:"350px",overflowY:"auto"},children:[B.length===0&&n.jsx("div",{style:{padding:"16px",textAlign:"center",color:"#6b7280"},children:L.length===0?"All assemblies are on loads":"No matches"}),B.map(h=>n.jsxs("div",{onClick:()=>D(h.id),style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 10px",borderBottom:"1px solid #1e293b",cursor:"pointer",borderRadius:"4px"},onMouseEnter:M=>M.currentTarget.style.background="#1e3a5f",onMouseLeave:M=>M.currentTarget.style.background="transparent",children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("span",{style:{fontSize:"18px"},children:""}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:"700",color:"#e2e8f0",fontSize:"14px",fontFamily:"monospace"},children:h.assembly_mark}),n.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af"},children:[h.assembly_name,"  Qty: ",h.assembly_quantity]})]})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#f59e0b"},children:[Math.round(h.weight||0)," lbs"]}),n.jsx("span",{style:{fontSize:"10px",padding:"1px 6px",borderRadius:"3px",background:(Le[h.current_station]||"#333")+"33",color:Le[h.current_station]||"#999"},children:h.current_station})]})]},h.id))]}),n.jsxs("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"6px",textAlign:"right"},children:[L.length," available / ",x.filter(h=>h.on_load).length," on loads"]})]}),y&&n.jsxs("div",{style:{marginBottom:"8px",color:"#fca5a5",fontSize:"13px",padding:"8px",background:"#2e0a0a",borderRadius:"6px"},children:[" ",y]}),P&&n.jsxs("div",{style:{marginBottom:"8px",color:"#4ade80",fontSize:"13px",padding:"8px",background:"#0a2e0a",borderRadius:"6px"},children:[" Added ",P.assembly_mark,"  ",P.total_pieces," pcs on load (",Math.round(P.total_weight||0).toLocaleString()," lbs)"]}),n.jsxs("div",{style:{...s.card},children:[n.jsxs("div",{style:{fontWeight:"700",marginBottom:"10px",fontSize:"14px",color:"#e2e8f0"},children:[" Pieces on Load #",d.load_number," (",((H=d.items)==null?void 0:H.length)||0,")"]}),(!d.items||d.items.length===0)&&n.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#6b7280"},children:"No pieces added yet"}),((ee=d.items)==null?void 0:ee.length)>0&&n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#1e293b"},children:[n.jsx("th",{style:{...s.th,padding:"6px 8px"},children:"Mark"}),n.jsx("th",{style:{...s.th,padding:"6px 8px"},children:"Type"}),n.jsx("th",{style:{...s.th,padding:"6px 8px"},children:"Qty"}),n.jsx("th",{style:{...s.th,padding:"6px 8px"},children:"Weight"}),n.jsx("th",{style:{...s.th,padding:"6px 8px"},children:"Added By"}),d.status==="Loading"&&n.jsx("th",{style:{...s.th,padding:"6px 8px",width:"40px"}})]})}),n.jsx("tbody",{children:d.items.map((h,M)=>n.jsxs("tr",{style:{borderBottom:"1px solid #1e293b"},children:[n.jsx("td",{style:{...s.td,fontWeight:"700",color:"#60a5fa",fontFamily:"monospace"},children:h.assembly_mark}),n.jsx("td",{style:s.td,children:h.assembly_name||""}),n.jsx("td",{style:{...s.td,textAlign:"center"},children:h.qty||1}),n.jsxs("td",{style:{...s.td,color:"#f59e0b"},children:[Math.round(h.weight||0)," lbs"]}),n.jsx("td",{style:{...s.td,color:"#9ca3af"},children:h.scanned_by}),d.status==="Loading"&&n.jsx("td",{style:s.td,children:n.jsx("button",{onClick:()=>A(h.id),style:{background:"none",border:"none",cursor:"pointer",color:"#ef4444",fontSize:"14px"},title:"Remove",children:""})})]},h.id||M))})]})]})]}):n.jsxs("div",{style:{...s.card,textAlign:"center",padding:"60px 40px",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:""}),n.jsx("div",{style:{fontSize:"16px"},children:"Select a load or create a new one"})]})})]}),c&&n.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:h=>{h.target===h.currentTarget&&g(!1)},children:n.jsxs("div",{style:{...s.card,width:"500px",maxWidth:"95vw"},children:[n.jsx("h2",{style:{marginBottom:"16px",fontSize:"18px"},children:" New Load"}),n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:{...s.label,fontSize:"12px"},children:"Destination *"}),n.jsx("div",{style:{display:"flex",gap:"6px"},children:X.map(h=>n.jsx("button",{onClick:()=>U({...F,destination:h.value}),style:{...s.btn,flex:1,fontSize:"13px",padding:"10px",background:F.destination===h.value?h.color:"#374151",color:"white",border:F.destination===h.value?`2px solid ${h.color}`:"1px solid #555"},children:h.label},h.value))})]}),(F.destination==="galvanizer"||F.destination==="painter")&&n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsx("label",{style:{...s.label,fontSize:"12px"},children:F.destination==="galvanizer"?"Galvanizer":"Painter"}),n.jsxs("select",{style:s.select||s.input,value:F.destination_company_id,onChange:h=>U({...F,destination_company_id:h.target.value}),children:[n.jsx("option",{value:"",children:" Select "}),o.filter(h=>h.company_type===(F.destination==="galvanizer"?"Galvanizer":"Painter")).map(h=>n.jsx("option",{value:h.id,children:h.name},h.id))]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"12px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{...s.label,fontSize:"12px"},children:"Trailer Type"}),n.jsxs("select",{style:s.select||s.input,value:F.trailer_type,onChange:h=>U({...F,trailer_type:h.target.value}),children:[n.jsx("option",{children:"Flatbed"}),n.jsx("option",{children:"Step Deck"}),n.jsx("option",{children:"Lowboy"}),n.jsx("option",{children:"Van"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{...s.label,fontSize:"12px"},children:"Truck #"}),n.jsx("input",{style:s.input,value:F.truck_number,onChange:h=>U({...F,truck_number:h.target.value})})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{...s.label,fontSize:"12px"},children:"Carrier"}),n.jsx("input",{style:s.input,value:F.carrier,onChange:h=>U({...F,carrier:h.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{style:{...s.label,fontSize:"12px"},children:"Driver"}),n.jsx("input",{style:s.input,value:F.driver_name,onChange:h=>U({...F,driver_name:h.target.value})})]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[n.jsx("button",{onClick:()=>g(!1),style:{...s.btn,...s.btnGray,padding:"8px 16px"},children:"Cancel"}),n.jsx("button",{onClick:R,style:{...s.btn,background:"#059669",color:"white",padding:"8px 20px"},children:"Create Load"})]})]})})]})}function Yf(){return n.jsxs("div",{style:{minHeight:"100vh",background:"#0a0a0a",color:"#e5e5e5",padding:"20px"},children:[n.jsx(tn,{title:"Material Inventory",backTo:"/"}),n.jsx(su,{})]})}function Xf(){return n.jsx(Lf,{children:n.jsxs(Tf,{children:[n.jsx(gt,{path:"/",element:n.jsx(Bf,{})}),n.jsx(gt,{path:"/project/:projectId",element:n.jsx(Uf,{})}),n.jsx(gt,{path:"/project/:projectId/labels",element:n.jsx(Qf,{})}),n.jsx(gt,{path:"/project/:projectId/ship",element:n.jsx(qf,{})}),n.jsx(gt,{path:"/scan",element:n.jsx(Gf,{})}),n.jsx(gt,{path:"/address-book",element:n.jsx(Hf,{})}),n.jsx(gt,{path:"/inventory",element:n.jsx(Yf,{})})]})})}const s={page:{minHeight:"100vh",background:"#0a0a0a",color:"#e5e5e5",padding:"20px"},card:{background:"#1a1a2e",borderRadius:"12px",padding:"20px",border:"1px solid #333"},btn:{padding:"10px 20px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"14px"},btnPrimary:{background:"#3b82f6",color:"white"},btnGreen:{background:"#22c55e",color:"black"},btnRed:{background:"#ef4444",color:"white"},btnPurple:{background:"#8b5cf6",color:"white"},btnGray:{background:"#374151",color:"#e5e5e5"},input:{width:"100%",padding:"10px 12px",borderRadius:"8px",border:"1px solid #444",background:"#111",color:"#e5e5e5",fontSize:"14px"},select:{width:"100%",padding:"10px 12px",borderRadius:"8px",border:"1px solid #444",background:"#111",color:"#e5e5e5",fontSize:"14px"},label:{fontSize:"12px",color:"#9ca3af",marginBottom:"4px",display:"block"},grid2:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},grid3:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px"},grid4:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},flexBetween:{display:"flex",justifyContent:"space-between",alignItems:"center"},flexGap:{display:"flex",gap:"8px",alignItems:"center"},badge:e=>({padding:"2px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"700",background:e==="green"?"#166534":e==="red"?"#991b1b":e==="blue"?"#1e3a5f":e==="yellow"?"#854d0e":e==="purple"?"#581c87":"#374151",color:e==="green"?"#4ade80":e==="red"?"#fca5a5":e==="blue"?"#93c5fd":e==="yellow"?"#fde047":e==="purple"?"#c4b5fd":"#9ca3af"}),table:{width:"100%",borderCollapse:"collapse"},th:{textAlign:"left",padding:"10px 12px",borderBottom:"2px solid #333",fontSize:"12px",color:"#9ca3af",fontWeight:"600"},td:{padding:"10px 12px",borderBottom:"1px solid #222",fontSize:"13px"}};function tn({title:e,backTo:t}){const r=Bn();return n.jsxs("div",{style:{...s.flexBetween,marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid #333"},children:[n.jsxs("div",{style:{...s.flexGap,alignItems:"center"},children:[t&&n.jsx("button",{onClick:()=>r(t),style:{...s.btn,...s.btnGray,padding:"8px 12px"},children:" Back"}),n.jsx("img",{src:"/logo.jpg",alt:"SSE",style:{height:"40px",objectFit:"contain"}}),n.jsx("h1",{style:{fontSize:"22px",fontWeight:"700"},children:e})]}),n.jsxs("div",{style:s.flexGap,children:[n.jsx("button",{onClick:()=>r("/scan"),style:{...s.btn,...s.btnGreen,padding:"8px 16px"},children:" Scan"}),n.jsx("button",{onClick:()=>r("/address-book"),style:{...s.btn,...s.btnGray,padding:"8px 16px"},children:" Address Book"}),n.jsx("button",{onClick:()=>r("/inventory"),style:{...s.btn,background:"#d97706",color:"white",padding:"8px 16px"},children:" Inventory"}),n.jsx("button",{onClick:()=>r("/"),style:{...s.btn,...s.btnGray,padding:"8px 16px"},children:" Projects"})]})]})}const Le={Yard:"#78716c","Yard - Bay 1":"#78716c","Yard - Bay 2":"#78716c","Yard - Bay 3":"#78716c","Yard - Rack":"#78716c","Plasma Plate":"#0e7490","Plasma Beam Line":"#0369a1","Piranha Laser":"#7c3aed","Press Brake":"#6d28d9",Fit:"#c026d3",QC:"#ea580c",Weld:"#dc2626","CWI - Visual":"#f97316","CWI - NDT":"#ef4444",Prime:"#0891b2",Galvanize:"#ca8a04","Powder Coat":"#7c3aed","Off Site Painting":"#a16207","Ready to Ship":"#16a34a","Shipped - To Coater":"#059669","Shipped - To Customer":"#22c55e",Delivered:"#15803d",Detailing:"#6b7280"},Kf={Yard:["Yard","Yard - Bay 1","Yard - Bay 2","Yard - Bay 3","Yard - Rack"],PreProduction:["Plasma Plate","Plasma Beam Line","Piranha Laser","Press Brake"],"Assembly / QC":["Fit","QC","Weld","CWI - Visual","CWI - NDT"],Finish:["Prime","Galvanize","Powder Coat","Off Site Painting"],Shipping:["Ready to Ship","Shipped - To Coater","Shipped - To Customer","Delivered"]},Jf=["Yard","Yard - Bay 1","Yard - Bay 2","Yard - Bay 3","Yard - Rack","Plasma Plate","Plasma Beam Line","Piranha Laser","Press Brake","Fit","QC","Weld","CWI - Visual","CWI - NDT","Prime","Galvanize","Powder Coat","Off Site Painting","Ready to Ship","Shipped - To Coater","Shipped - To Customer","Delivered"],Zf=["Fit-Up Inspection","Weld Inspection","Final Inspection","Bolt Inspection","NDE Inspection","Receiving Inspection","Coating Inspection"];bi.createRoot(document.getElementById("root")).render(n.jsx(Xf,{}));
